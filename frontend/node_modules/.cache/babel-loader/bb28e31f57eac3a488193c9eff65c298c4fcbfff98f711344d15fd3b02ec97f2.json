{"ast":null,"code":"import { removeClass, selectAll, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { CLS_EXPAND_OPEN, CLS_TB_ITEM, CLS_ACTIVE } from '../base/classes';\nimport * as CONSTANT from '../../common/constant';\nimport { RenderType } from '../base/enum';\nimport { KeyboardEvents } from '../actions/keyboard';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar ViewSource = /** @class */function () {\n  /**\n   * Constructor for view source module\n   *\n   * @param {IRichTextEditor} parent - specifies the parent element.\n   * @param {ServiceLocator} locator - specifies the locator.\n   * @returns {void}\n   */\n  function ViewSource(parent, locator) {\n    this.parent = parent;\n    var serviceLocator = locator;\n    this.rendererFactory = serviceLocator.getService('rendererFactory');\n    this.addEventListener();\n  }\n  ViewSource.prototype.addEventListener = function () {\n    this.parent.on(events.sourceCode, this.sourceCode, this);\n    this.parent.on(events.initialEnd, this.onInitialEnd, this);\n    this.parent.on(events.updateSource, this.updateSourceCode, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  ViewSource.prototype.onInitialEnd = function () {\n    this.parent.formatter.editorManager.observer.on(CONSTANT.KEY_DOWN_HANDLER, this.onKeyDown, this);\n  };\n  ViewSource.prototype.removeEventListener = function () {\n    this.unWireEvent();\n    this.parent.off(events.sourceCode, this.sourceCode);\n    this.parent.off(events.updateSource, this.updateSourceCode);\n    this.parent.off(events.initialEnd, this.onInitialEnd);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.formatter.editorManager.observer.off(CONSTANT.KEY_DOWN_HANDLER, this.onKeyDown);\n  };\n  ViewSource.prototype.getSourceCode = function () {\n    return this.parent.createElement('textarea', {\n      className: 'e-rte-srctextarea'\n    });\n  };\n  ViewSource.prototype.wireEvent = function (element) {\n    this.keyboardModule = new KeyboardEvents(element, {\n      keyAction: this.previewKeyDown.bind(this),\n      keyConfigs: this.parent.formatter.keyConfig,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.previewElement, 'mousedown', this.mouseDownHandler, this);\n  };\n  ViewSource.prototype.unWireEvent = function () {\n    if (this.keyboardModule) {\n      this.keyboardModule.destroy();\n    }\n    if (this.previewElement) {\n      EventHandler.remove(this.previewElement, 'mousedown', this.mouseDownHandler);\n    }\n  };\n  ViewSource.prototype.wireBaseKeyDown = function () {\n    this.parent.keyboardModule = new KeyboardEvents(this.contentModule.getEditPanel(), {\n      keyAction: this.parent.keyDown.bind(this.parent),\n      keyConfigs: this.parent.formatter.keyConfig,\n      eventName: 'keydown'\n    });\n  };\n  ViewSource.prototype.unWireBaseKeyDown = function () {\n    this.parent.keyboardModule.destroy();\n  };\n  ViewSource.prototype.mouseDownHandler = function (e) {\n    this.parent.notify(events.sourceCodeMouseDown, {\n      args: e\n    });\n  };\n  ViewSource.prototype.previewKeyDown = function (event) {\n    switch (event.action) {\n      case 'html-source':\n        this.updateSourceCode(event);\n        event.preventDefault();\n        break;\n      case 'toolbar-focus':\n        if (this.parent.toolbarSettings.enable) {\n          var selector = '.e-toolbar-item[aria-disabled=\"false\"][title] [tabindex]';\n          this.parent.toolbarModule.baseToolbar.toolbarObj.element.querySelector(selector).focus();\n        }\n        break;\n    }\n  };\n  ViewSource.prototype.onKeyDown = function (e) {\n    switch (e.event.action) {\n      case 'html-source':\n        e.event.preventDefault();\n        this.sourceCode(e);\n        e.callBack({\n          requestType: 'SourceCode',\n          editorMode: 'HTML',\n          event: e.event\n        });\n        break;\n    }\n  };\n  /**\n   * sourceCode method\n   *\n   * @param {ClickEventArgs} args - specifies the click event.\n   * @returns {void}\n   * @hidden\n    */\n  ViewSource.prototype.sourceCode = function (args) {\n    this.parent.isBlur = false;\n    this.parent.trigger(events.actionBegin, {\n      requestType: 'SourceCode',\n      targetItem: 'SourceCode',\n      args: args\n    });\n    var tbItems = selectAll('.' + CLS_TB_ITEM, this.parent.element);\n    this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n    this.parent.notify(events.updateToolbarItem, {\n      targetItem: 'SourceCode',\n      updateItem: 'Preview',\n      baseToolbar: this.parent.getBaseToolbarObject()\n    });\n    if (isNullOrUndefined(this.previewElement)) {\n      this.previewElement = this.getSourceCode();\n    }\n    this.parent.updateValueData();\n    if (this.parent.iframeSettings.enable) {\n      var rteContent = void 0;\n      if (isNullOrUndefined(this.parent.element.querySelector('#' + this.parent.element.id + '_source-view'))) {\n        rteContent = this.parent.createElement('div', {\n          className: 'e-source-content',\n          id: this.parent.element.id + '_source-view'\n        });\n      } else {\n        rteContent = this.parent.element.querySelector('#' + this.parent.element.id + '_source-view');\n      }\n      rteContent.appendChild(this.previewElement);\n      this.parent.element.appendChild(rteContent);\n      rteContent.style.height = this.contentModule.getPanel().style.height;\n      rteContent.style.marginTop = this.contentModule.getPanel().style.marginTop;\n      this.getPanel().value = this.getTextAreaValue();\n      this.contentModule.getPanel().style.display = 'none';\n      rteContent.style.display = 'block';\n      this.getPanel().style.display = 'block';\n    } else {\n      this.contentModule.getPanel().appendChild(this.previewElement);\n      this.getPanel().value = this.getTextAreaValue();\n      this.contentModule.getEditPanel().style.display = 'none';\n      this.previewElement.style.display = 'block';\n    }\n    this.parent.isBlur = false;\n    this.parent.disableToolbarItem(this.parent.toolbarSettings.items);\n    this.parent.enableToolbarItem('SourceCode');\n    if (this.parent.getToolbar()) {\n      removeClass([this.parent.getToolbar()], [CLS_EXPAND_OPEN]);\n    }\n    removeClass(tbItems, [CLS_ACTIVE]);\n    this.parent.setContentHeight('sourceCode', true);\n    this.wireEvent(this.previewElement);\n    this.unWireBaseKeyDown();\n    this.previewElement.focus();\n    this.parent.updateValue();\n    if (!isNullOrUndefined(this.parent.placeholder) && !this.parent.iframeSettings.enable) {\n      var placeHolderWrapper = this.parent.element.querySelector('.rte-placeholder.e-rte-placeholder');\n      placeHolderWrapper.style.display = 'none';\n    }\n    this.parent.trigger(events.actionComplete, {\n      requestType: 'SourceCode',\n      targetItem: 'SourceCode',\n      args: args\n    });\n    this.parent.invokeChangeEvent();\n  };\n  /**\n   * updateSourceCode method\n   *\n   * @param {ClickEventArgs} args - specifies the click event.\n   * @returns {void}\n   * @hidden\n    */\n  ViewSource.prototype.updateSourceCode = function (args) {\n    this.parent.isBlur = false;\n    this.parent.trigger(events.actionBegin, {\n      requestType: 'Preview',\n      targetItem: 'Preview',\n      args: args\n    });\n    var editHTML = this.getPanel();\n    this.parent.notify(events.updateToolbarItem, {\n      targetItem: 'Preview',\n      updateItem: 'SourceCode',\n      baseToolbar: this.parent.getBaseToolbarObject()\n    });\n    var serializeValue = this.parent.serializeValue(editHTML.value);\n    var value;\n    if (serializeValue === null || serializeValue === '') {\n      if (this.parent.enterKey === 'DIV') {\n        value = '<div><br/></div>';\n      } else if (this.parent.enterKey === 'BR') {\n        value = '<br/>';\n      } else {\n        value = '<p><br/></p>';\n      }\n    } else {\n      value = serializeValue;\n    }\n    if (this.parent.iframeSettings.enable) {\n      editHTML.parentElement.style.display = 'none';\n      editHTML.style.display = 'none';\n      this.contentModule.getPanel().style.display = 'block';\n      this.contentModule.getEditPanel().innerHTML = value;\n    } else {\n      editHTML.style.display = 'none';\n      this.contentModule.getEditPanel().style.display = 'block';\n      this.contentModule.getEditPanel().innerHTML = value;\n    }\n    this.parent.isBlur = false;\n    this.parent.enableToolbarItem(this.parent.toolbarSettings.items);\n    if (this.parent.getToolbar()) {\n      removeClass([this.parent.getToolbar()], [CLS_EXPAND_OPEN]);\n    }\n    this.parent.setContentHeight('preview', true);\n    this.unWireEvent();\n    this.wireBaseKeyDown();\n    this.contentModule.getEditPanel().focus();\n    this.parent.updateValue();\n    if (!isNullOrUndefined(this.parent.placeholder) && this.contentModule.getEditPanel().innerText.length === 0) {\n      var placeHolderWrapper = this.parent.element.querySelector('.rte-placeholder.e-rte-placeholder');\n      placeHolderWrapper.style.display = 'block';\n    }\n    this.parent.trigger(events.actionComplete, {\n      requestType: 'Preview',\n      targetItem: 'Preview',\n      args: args\n    });\n    this.parent.formatter.enableUndo(this.parent);\n    this.parent.invokeChangeEvent();\n  };\n  ViewSource.prototype.getTextAreaValue = function () {\n    return this.contentModule.getEditPanel().innerHTML === '<p><br></p>' || this.contentModule.getEditPanel().innerHTML === '<div><br></div>' || this.contentModule.getEditPanel().innerHTML === '<br>' || this.contentModule.getEditPanel().childNodes.length === 1 && this.contentModule.getEditPanel().childNodes[0].tagName === 'P' && this.contentModule.getEditPanel().innerHTML.length === 7 || this.contentModule.getEditPanel().childNodes[0].tagName === 'DIV' && this.contentModule.getEditPanel().innerHTML.length === 11 ? '' : this.parent.value;\n  };\n  /**\n   * getPanel method\n   *\n   * @returns {void}\n   * @hidden\n    */\n  ViewSource.prototype.getPanel = function () {\n    return this.parent.element && this.parent.element.querySelector('.e-rte-srctextarea');\n  };\n  /**\n   * getViewPanel method\n   *\n   * @returns {void}\n   * @hidden\n    */\n  ViewSource.prototype.getViewPanel = function () {\n    return this.parent.iframeSettings.enable && this.getPanel() ? this.getPanel().parentElement : this.getPanel();\n  };\n  /**\n   * Destroy the entire RichTextEditor.\n   *\n   * @returns {void}\n   * @hidden\n    */\n  ViewSource.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  return ViewSource;\n}();\nexport { ViewSource };","map":{"version":3,"names":["removeClass","selectAll","isNullOrUndefined","EventHandler","events","CLS_EXPAND_OPEN","CLS_TB_ITEM","CLS_ACTIVE","CONSTANT","RenderType","KeyboardEvents","ViewSource","parent","locator","serviceLocator","rendererFactory","getService","addEventListener","prototype","on","sourceCode","initialEnd","onInitialEnd","updateSource","updateSourceCode","destroy","formatter","editorManager","observer","KEY_DOWN_HANDLER","onKeyDown","removeEventListener","unWireEvent","off","getSourceCode","createElement","className","wireEvent","element","keyboardModule","keyAction","previewKeyDown","bind","keyConfigs","keyConfig","eventName","add","previewElement","mouseDownHandler","remove","wireBaseKeyDown","contentModule","getEditPanel","keyDown","unWireBaseKeyDown","e","notify","sourceCodeMouseDown","args","event","action","preventDefault","toolbarSettings","enable","selector","toolbarModule","baseToolbar","toolbarObj","querySelector","focus","callBack","requestType","editorMode","isBlur","trigger","actionBegin","targetItem","tbItems","getRenderer","Content","updateToolbarItem","updateItem","getBaseToolbarObject","updateValueData","iframeSettings","rteContent","id","appendChild","style","height","getPanel","marginTop","value","getTextAreaValue","display","disableToolbarItem","items","enableToolbarItem","getToolbar","setContentHeight","updateValue","placeholder","placeHolderWrapper","actionComplete","invokeChangeEvent","editHTML","serializeValue","enterKey","parentElement","innerHTML","innerText","length","enableUndo","childNodes","tagName","getViewPanel"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/view-source.js"],"sourcesContent":["import { removeClass, selectAll, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { CLS_EXPAND_OPEN, CLS_TB_ITEM, CLS_ACTIVE } from '../base/classes';\nimport * as CONSTANT from '../../common/constant';\nimport { RenderType } from '../base/enum';\nimport { KeyboardEvents } from '../actions/keyboard';\n/**\n * Content module is used to render Rich Text Editor content\n *\n * @hidden\n\n */\nvar ViewSource = /** @class */ (function () {\n    /**\n     * Constructor for view source module\n     *\n     * @param {IRichTextEditor} parent - specifies the parent element.\n     * @param {ServiceLocator} locator - specifies the locator.\n     * @returns {void}\n     */\n    function ViewSource(parent, locator) {\n        this.parent = parent;\n        var serviceLocator = locator;\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    ViewSource.prototype.addEventListener = function () {\n        this.parent.on(events.sourceCode, this.sourceCode, this);\n        this.parent.on(events.initialEnd, this.onInitialEnd, this);\n        this.parent.on(events.updateSource, this.updateSourceCode, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    ViewSource.prototype.onInitialEnd = function () {\n        this.parent.formatter.editorManager.observer.on(CONSTANT.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    ViewSource.prototype.removeEventListener = function () {\n        this.unWireEvent();\n        this.parent.off(events.sourceCode, this.sourceCode);\n        this.parent.off(events.updateSource, this.updateSourceCode);\n        this.parent.off(events.initialEnd, this.onInitialEnd);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.formatter.editorManager.observer.off(CONSTANT.KEY_DOWN_HANDLER, this.onKeyDown);\n    };\n    ViewSource.prototype.getSourceCode = function () {\n        return this.parent.createElement('textarea', { className: 'e-rte-srctextarea' });\n    };\n    ViewSource.prototype.wireEvent = function (element) {\n        this.keyboardModule = new KeyboardEvents(element, {\n            keyAction: this.previewKeyDown.bind(this), keyConfigs: this.parent.formatter.keyConfig, eventName: 'keydown'\n        });\n        EventHandler.add(this.previewElement, 'mousedown', this.mouseDownHandler, this);\n    };\n    ViewSource.prototype.unWireEvent = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.previewElement) {\n            EventHandler.remove(this.previewElement, 'mousedown', this.mouseDownHandler);\n        }\n    };\n    ViewSource.prototype.wireBaseKeyDown = function () {\n        this.parent.keyboardModule = new KeyboardEvents(this.contentModule.getEditPanel(), {\n            keyAction: this.parent.keyDown.bind(this.parent), keyConfigs: this.parent.formatter.keyConfig, eventName: 'keydown'\n        });\n    };\n    ViewSource.prototype.unWireBaseKeyDown = function () {\n        this.parent.keyboardModule.destroy();\n    };\n    ViewSource.prototype.mouseDownHandler = function (e) {\n        this.parent.notify(events.sourceCodeMouseDown, { args: e });\n    };\n    ViewSource.prototype.previewKeyDown = function (event) {\n        switch (event.action) {\n            case 'html-source':\n                this.updateSourceCode(event);\n                event.preventDefault();\n                break;\n            case 'toolbar-focus':\n                if (this.parent.toolbarSettings.enable) {\n                    var selector = '.e-toolbar-item[aria-disabled=\"false\"][title] [tabindex]';\n                    this.parent.toolbarModule.baseToolbar.toolbarObj.element.querySelector(selector).focus();\n                }\n                break;\n        }\n    };\n    ViewSource.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'html-source':\n                e.event.preventDefault();\n                this.sourceCode(e);\n                e.callBack({\n                    requestType: 'SourceCode',\n                    editorMode: 'HTML',\n                    event: e.event\n                });\n                break;\n        }\n    };\n    /**\n     * sourceCode method\n     *\n     * @param {ClickEventArgs} args - specifies the click event.\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.sourceCode = function (args) {\n        this.parent.isBlur = false;\n        this.parent.trigger(events.actionBegin, { requestType: 'SourceCode', targetItem: 'SourceCode', args: args });\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.parent.element);\n        this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n        this.parent.notify(events.updateToolbarItem, {\n            targetItem: 'SourceCode', updateItem: 'Preview',\n            baseToolbar: this.parent.getBaseToolbarObject()\n        });\n        if (isNullOrUndefined(this.previewElement)) {\n            this.previewElement = this.getSourceCode();\n        }\n        this.parent.updateValueData();\n        if (this.parent.iframeSettings.enable) {\n            var rteContent = void 0;\n            if (isNullOrUndefined(this.parent.element.querySelector('#' + this.parent.element.id + '_source-view'))) {\n                rteContent = this.parent.createElement('div', {\n                    className: 'e-source-content', id: this.parent.element.id + '_source-view'\n                });\n            }\n            else {\n                rteContent = this.parent.element.querySelector('#' + this.parent.element.id + '_source-view');\n            }\n            rteContent.appendChild(this.previewElement);\n            this.parent.element.appendChild(rteContent);\n            rteContent.style.height = this.contentModule.getPanel().style.height;\n            rteContent.style.marginTop = this.contentModule.getPanel().style.marginTop;\n            this.getPanel().value = this.getTextAreaValue();\n            this.contentModule.getPanel().style.display = 'none';\n            rteContent.style.display = 'block';\n            this.getPanel().style.display = 'block';\n        }\n        else {\n            this.contentModule.getPanel().appendChild(this.previewElement);\n            this.getPanel().value = this.getTextAreaValue();\n            this.contentModule.getEditPanel().style.display = 'none';\n            this.previewElement.style.display = 'block';\n        }\n        this.parent.isBlur = false;\n        this.parent.disableToolbarItem(this.parent.toolbarSettings.items);\n        this.parent.enableToolbarItem('SourceCode');\n        if (this.parent.getToolbar()) {\n            removeClass([this.parent.getToolbar()], [CLS_EXPAND_OPEN]);\n        }\n        removeClass(tbItems, [CLS_ACTIVE]);\n        this.parent.setContentHeight('sourceCode', true);\n        this.wireEvent(this.previewElement);\n        this.unWireBaseKeyDown();\n        this.previewElement.focus();\n        this.parent.updateValue();\n        if (!isNullOrUndefined(this.parent.placeholder) && !this.parent.iframeSettings.enable) {\n            var placeHolderWrapper = this.parent.element.querySelector('.rte-placeholder.e-rte-placeholder');\n            placeHolderWrapper.style.display = 'none';\n        }\n        this.parent.trigger(events.actionComplete, { requestType: 'SourceCode', targetItem: 'SourceCode', args: args });\n        this.parent.invokeChangeEvent();\n    };\n    /**\n     * updateSourceCode method\n     *\n     * @param {ClickEventArgs} args - specifies the click event.\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.updateSourceCode = function (args) {\n        this.parent.isBlur = false;\n        this.parent.trigger(events.actionBegin, { requestType: 'Preview', targetItem: 'Preview', args: args });\n        var editHTML = this.getPanel();\n        this.parent.notify(events.updateToolbarItem, {\n            targetItem: 'Preview', updateItem: 'SourceCode',\n            baseToolbar: this.parent.getBaseToolbarObject()\n        });\n        var serializeValue = this.parent.serializeValue(editHTML.value);\n        var value;\n        if (serializeValue === null || serializeValue === '') {\n            if (this.parent.enterKey === 'DIV') {\n                value = '<div><br/></div>';\n            }\n            else if (this.parent.enterKey === 'BR') {\n                value = '<br/>';\n            }\n            else {\n                value = '<p><br/></p>';\n            }\n        }\n        else {\n            value = serializeValue;\n        }\n        if (this.parent.iframeSettings.enable) {\n            editHTML.parentElement.style.display = 'none';\n            editHTML.style.display = 'none';\n            this.contentModule.getPanel().style.display = 'block';\n            this.contentModule.getEditPanel().innerHTML = value;\n        }\n        else {\n            editHTML.style.display = 'none';\n            this.contentModule.getEditPanel().style.display = 'block';\n            this.contentModule.getEditPanel().innerHTML = value;\n        }\n        this.parent.isBlur = false;\n        this.parent.enableToolbarItem(this.parent.toolbarSettings.items);\n        if (this.parent.getToolbar()) {\n            removeClass([this.parent.getToolbar()], [CLS_EXPAND_OPEN]);\n        }\n        this.parent.setContentHeight('preview', true);\n        this.unWireEvent();\n        this.wireBaseKeyDown();\n        this.contentModule.getEditPanel().focus();\n        this.parent.updateValue();\n        if (!isNullOrUndefined(this.parent.placeholder) && this.contentModule.getEditPanel().innerText.length === 0) {\n            var placeHolderWrapper = this.parent.element.querySelector('.rte-placeholder.e-rte-placeholder');\n            placeHolderWrapper.style.display = 'block';\n        }\n        this.parent.trigger(events.actionComplete, { requestType: 'Preview', targetItem: 'Preview', args: args });\n        this.parent.formatter.enableUndo(this.parent);\n        this.parent.invokeChangeEvent();\n    };\n    ViewSource.prototype.getTextAreaValue = function () {\n        return (this.contentModule.getEditPanel().innerHTML === '<p><br></p>') ||\n            (this.contentModule.getEditPanel().innerHTML === '<div><br></div>') ||\n            (this.contentModule.getEditPanel().innerHTML === '<br>') ||\n            (this.contentModule.getEditPanel().childNodes.length === 1 &&\n                (this.contentModule.getEditPanel().childNodes[0].tagName === 'P' &&\n                    this.contentModule.getEditPanel().innerHTML.length === 7) ||\n                (this.contentModule.getEditPanel().childNodes[0].tagName === 'DIV' &&\n                    this.contentModule.getEditPanel().innerHTML.length === 11)) ? '' : this.parent.value;\n    };\n    /**\n     * getPanel method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.getPanel = function () {\n        return this.parent.element && this.parent.element.querySelector('.e-rte-srctextarea');\n    };\n    /**\n     * getViewPanel method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.getViewPanel = function () {\n        return (this.parent.iframeSettings.enable && this.getPanel()) ? this.getPanel().parentElement : this.getPanel();\n    };\n    /**\n     * Destroy the entire RichTextEditor.\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    ViewSource.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return ViewSource;\n}());\nexport { ViewSource };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}