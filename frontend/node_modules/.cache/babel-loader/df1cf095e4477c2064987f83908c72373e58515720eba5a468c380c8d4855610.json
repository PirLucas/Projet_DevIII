{"ast":null,"code":"import * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Alignments = /** @class */function () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element.\n   * @returns {void}\n   * @hidden\n    */\n  function Alignments(parent) {\n    this.alignments = {\n      'JustifyLeft': 'left',\n      'JustifyCenter': 'center',\n      'JustifyRight': 'right',\n      'JustifyFull': 'justify'\n    };\n    this.parent = parent;\n    this.addEventListener();\n  }\n  Alignments.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n    this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n  };\n  Alignments.prototype.onKeyDown = function (e) {\n    switch (e.event.action) {\n      case 'justify-center':\n        this.applyAlignment({\n          subCommand: 'JustifyCenter',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n      case 'justify-full':\n        this.applyAlignment({\n          subCommand: 'JustifyFull',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n      case 'justify-left':\n        this.applyAlignment({\n          subCommand: 'JustifyLeft',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n      case 'justify-right':\n        this.applyAlignment({\n          subCommand: 'JustifyRight',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n    }\n  };\n  Alignments.prototype.getTableNode = function (range) {\n    var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE ? range.startContainer : range.startContainer.parentNode;\n    var cellNode = closest(startNode, 'td,th');\n    return [cellNode];\n  };\n  Alignments.prototype.applyAlignment = function (e) {\n    var isTableAlign = e.value === 'Table' ? true : false;\n    var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n    var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n    if (!isTableAlign) {\n      this.parent.domNode.setMarker(save);\n      var alignmentNodes = this.parent.domNode.blockNodes();\n      for (var i = 0; i < alignmentNodes.length; i++) {\n        var parentNode = alignmentNodes[i];\n        setStyleAttribute(parentNode, {\n          'text-align': this.alignments[e.subCommand]\n        });\n      }\n      var imageTags = this.parent.domNode.getImageTagInSelection();\n      for (var i = 0; i < imageTags.length; i++) {\n        var elementNode = [];\n        elementNode.push(imageTags[i]);\n        this.parent.imgObj.imageCommand({\n          item: {\n            selectNode: elementNode\n          },\n          subCommand: e.subCommand,\n          value: e.subCommand,\n          callBack: e.callBack,\n          selector: e.selector\n        });\n      }\n      this.parent.editableElement.focus();\n      save = this.parent.domNode.saveMarker(save);\n      if (isIDevice()) {\n        setEditFrameFocus(this.parent.editableElement, e.selector);\n      }\n      save.restore();\n    } else {\n      setStyleAttribute(this.getTableNode(range)[0], {\n        'text-align': this.alignments[e.subCommand]\n      });\n    }\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes()\n      });\n    }\n  };\n  return Alignments;\n}();\nexport { Alignments };","map":{"version":3,"names":["CONSTANT","setStyleAttribute","closest","EVENTS","isIDevice","setEditFrameFocus","Alignments","parent","alignments","addEventListener","prototype","observer","on","ALIGNMENT_TYPE","applyAlignment","KEY_DOWN_HANDLER","onKeyDown","e","event","action","subCommand","callBack","preventDefault","getTableNode","range","startNode","startContainer","nodeType","Node","ELEMENT_NODE","parentNode","cellNode","isTableAlign","value","nodeSelection","getRange","currentDocument","save","domNode","setMarker","alignmentNodes","blockNodes","i","length","imageTags","getImageTagInSelection","elementNode","push","imgObj","imageCommand","item","selectNode","selector","editableElement","focus","saveMarker","restore","requestType","editorMode","elements"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/alignments.js"],"sourcesContent":["import * as CONSTANT from './../base/constant';\nimport { setStyleAttribute, closest } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Formats internal component\n *\n * @hidden\n\n */\nvar Alignments = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element.\n     * @returns {void}\n     * @hidden\n\n     */\n    function Alignments(parent) {\n        this.alignments = {\n            'JustifyLeft': 'left',\n            'JustifyCenter': 'center',\n            'JustifyRight': 'right',\n            'JustifyFull': 'justify'\n        };\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Alignments.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.ALIGNMENT_TYPE, this.applyAlignment, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Alignments.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'justify-center':\n                this.applyAlignment({ subCommand: 'JustifyCenter', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-full':\n                this.applyAlignment({ subCommand: 'JustifyFull', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-left':\n                this.applyAlignment({ subCommand: 'JustifyLeft', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'justify-right':\n                this.applyAlignment({ subCommand: 'JustifyRight', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Alignments.prototype.getTableNode = function (range) {\n        var startNode = range.startContainer.nodeType === Node.ELEMENT_NODE\n            ? range.startContainer : range.startContainer.parentNode;\n        var cellNode = closest(startNode, 'td,th');\n        return [cellNode];\n    };\n    Alignments.prototype.applyAlignment = function (e) {\n        var isTableAlign = e.value === 'Table' ? true : false;\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        if (!isTableAlign) {\n            this.parent.domNode.setMarker(save);\n            var alignmentNodes = this.parent.domNode.blockNodes();\n            for (var i = 0; i < alignmentNodes.length; i++) {\n                var parentNode = alignmentNodes[i];\n                setStyleAttribute(parentNode, { 'text-align': this.alignments[e.subCommand] });\n            }\n            var imageTags = this.parent.domNode.getImageTagInSelection();\n            for (var i = 0; i < imageTags.length; i++) {\n                var elementNode = [];\n                elementNode.push(imageTags[i]);\n                this.parent.imgObj.imageCommand({\n                    item: {\n                        selectNode: elementNode\n                    },\n                    subCommand: e.subCommand,\n                    value: e.subCommand,\n                    callBack: e.callBack,\n                    selector: e.selector\n                });\n            }\n            this.parent.editableElement.focus();\n            save = this.parent.domNode.saveMarker(save);\n            if (isIDevice()) {\n                setEditFrameFocus(this.parent.editableElement, e.selector);\n            }\n            save.restore();\n        }\n        else {\n            setStyleAttribute(this.getTableNode(range)[0], { 'text-align': this.alignments[e.subCommand] });\n        }\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: (isTableAlign ? this.getTableNode(range) : this.parent.domNode.blockNodes())\n            });\n        }\n    };\n    return Alignments;\n}());\nexport { Alignments };\n"],"mappings":"AAAA,OAAO,KAAKA,QAAQ,MAAM,oBAAoB;AAC9C,SAASC,iBAAiB,EAAEC,OAAO,QAAQ,sBAAsB;AACjE,OAAO,KAAKC,MAAM,MAAM,yBAAyB;AACjD,SAASC,SAAS,EAAEC,iBAAiB,QAAQ,mBAAmB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,UAAU,GAAG,aAAe,YAAY;EACxC;AACJ;AACA;AACA;AACA;AACA;AACA;EAEI,SAASA,UAAUA,CAACC,MAAM,EAAE;IACxB,IAAI,CAACC,UAAU,GAAG;MACd,aAAa,EAAE,MAAM;MACrB,eAAe,EAAE,QAAQ;MACzB,cAAc,EAAE,OAAO;MACvB,aAAa,EAAE;IACnB,CAAC;IACD,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACE,gBAAgB,EAAE;EAC3B;EACAH,UAAU,CAACI,SAAS,CAACD,gBAAgB,GAAG,YAAY;IAChD,IAAI,CAACF,MAAM,CAACI,QAAQ,CAACC,EAAE,CAACZ,QAAQ,CAACa,cAAc,EAAE,IAAI,CAACC,cAAc,EAAE,IAAI,CAAC;IAC3E,IAAI,CAACP,MAAM,CAACI,QAAQ,CAACC,EAAE,CAACT,MAAM,CAACY,gBAAgB,EAAE,IAAI,CAACC,SAAS,EAAE,IAAI,CAAC;EAC1E,CAAC;EACDV,UAAU,CAACI,SAAS,CAACM,SAAS,GAAG,UAAUC,CAAC,EAAE;IAC1C,QAAQA,CAAC,CAACC,KAAK,CAACC,MAAM;MAClB,KAAK,gBAAgB;QACjB,IAAI,CAACL,cAAc,CAAC;UAAEM,UAAU,EAAE,eAAe;UAAEC,QAAQ,EAAEJ,CAAC,CAACI;QAAS,CAAC,CAAC;QAC1EJ,CAAC,CAACC,KAAK,CAACI,cAAc,EAAE;QACxB;MACJ,KAAK,cAAc;QACf,IAAI,CAACR,cAAc,CAAC;UAAEM,UAAU,EAAE,aAAa;UAAEC,QAAQ,EAAEJ,CAAC,CAACI;QAAS,CAAC,CAAC;QACxEJ,CAAC,CAACC,KAAK,CAACI,cAAc,EAAE;QACxB;MACJ,KAAK,cAAc;QACf,IAAI,CAACR,cAAc,CAAC;UAAEM,UAAU,EAAE,aAAa;UAAEC,QAAQ,EAAEJ,CAAC,CAACI;QAAS,CAAC,CAAC;QACxEJ,CAAC,CAACC,KAAK,CAACI,cAAc,EAAE;QACxB;MACJ,KAAK,eAAe;QAChB,IAAI,CAACR,cAAc,CAAC;UAAEM,UAAU,EAAE,cAAc;UAAEC,QAAQ,EAAEJ,CAAC,CAACI;QAAS,CAAC,CAAC;QACzEJ,CAAC,CAACC,KAAK,CAACI,cAAc,EAAE;QACxB;IAAM;EAElB,CAAC;EACDhB,UAAU,CAACI,SAAS,CAACa,YAAY,GAAG,UAAUC,KAAK,EAAE;IACjD,IAAIC,SAAS,GAAGD,KAAK,CAACE,cAAc,CAACC,QAAQ,KAAKC,IAAI,CAACC,YAAY,GAC7DL,KAAK,CAACE,cAAc,GAAGF,KAAK,CAACE,cAAc,CAACI,UAAU;IAC5D,IAAIC,QAAQ,GAAG7B,OAAO,CAACuB,SAAS,EAAE,OAAO,CAAC;IAC1C,OAAO,CAACM,QAAQ,CAAC;EACrB,CAAC;EACDzB,UAAU,CAACI,SAAS,CAACI,cAAc,GAAG,UAAUG,CAAC,EAAE;IAC/C,IAAIe,YAAY,GAAGf,CAAC,CAACgB,KAAK,KAAK,OAAO,GAAG,IAAI,GAAG,KAAK;IACrD,IAAIT,KAAK,GAAG,IAAI,CAACjB,MAAM,CAAC2B,aAAa,CAACC,QAAQ,CAAC,IAAI,CAAC5B,MAAM,CAAC6B,eAAe,CAAC;IAC3E,IAAIC,IAAI,GAAG,IAAI,CAAC9B,MAAM,CAAC2B,aAAa,CAACG,IAAI,CAACb,KAAK,EAAE,IAAI,CAACjB,MAAM,CAAC6B,eAAe,CAAC;IAC7E,IAAI,CAACJ,YAAY,EAAE;MACf,IAAI,CAACzB,MAAM,CAAC+B,OAAO,CAACC,SAAS,CAACF,IAAI,CAAC;MACnC,IAAIG,cAAc,GAAG,IAAI,CAACjC,MAAM,CAAC+B,OAAO,CAACG,UAAU,EAAE;MACrD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,cAAc,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;QAC5C,IAAIZ,UAAU,GAAGU,cAAc,CAACE,CAAC,CAAC;QAClCzC,iBAAiB,CAAC6B,UAAU,EAAE;UAAE,YAAY,EAAE,IAAI,CAACtB,UAAU,CAACS,CAAC,CAACG,UAAU;QAAE,CAAC,CAAC;MAClF;MACA,IAAIwB,SAAS,GAAG,IAAI,CAACrC,MAAM,CAAC+B,OAAO,CAACO,sBAAsB,EAAE;MAC5D,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,SAAS,CAACD,MAAM,EAAED,CAAC,EAAE,EAAE;QACvC,IAAII,WAAW,GAAG,EAAE;QACpBA,WAAW,CAACC,IAAI,CAACH,SAAS,CAACF,CAAC,CAAC,CAAC;QAC9B,IAAI,CAACnC,MAAM,CAACyC,MAAM,CAACC,YAAY,CAAC;UAC5BC,IAAI,EAAE;YACFC,UAAU,EAAEL;UAChB,CAAC;UACD1B,UAAU,EAAEH,CAAC,CAACG,UAAU;UACxBa,KAAK,EAAEhB,CAAC,CAACG,UAAU;UACnBC,QAAQ,EAAEJ,CAAC,CAACI,QAAQ;UACpB+B,QAAQ,EAAEnC,CAAC,CAACmC;QAChB,CAAC,CAAC;MACN;MACA,IAAI,CAAC7C,MAAM,CAAC8C,eAAe,CAACC,KAAK,EAAE;MACnCjB,IAAI,GAAG,IAAI,CAAC9B,MAAM,CAAC+B,OAAO,CAACiB,UAAU,CAAClB,IAAI,CAAC;MAC3C,IAAIjC,SAAS,EAAE,EAAE;QACbC,iBAAiB,CAAC,IAAI,CAACE,MAAM,CAAC8C,eAAe,EAAEpC,CAAC,CAACmC,QAAQ,CAAC;MAC9D;MACAf,IAAI,CAACmB,OAAO,EAAE;IAClB,CAAC,MACI;MACDvD,iBAAiB,CAAC,IAAI,CAACsB,YAAY,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;QAAE,YAAY,EAAE,IAAI,CAAChB,UAAU,CAACS,CAAC,CAACG,UAAU;MAAE,CAAC,CAAC;IACnG;IACA,IAAIH,CAAC,CAACI,QAAQ,EAAE;MACZJ,CAAC,CAACI,QAAQ,CAAC;QACPoC,WAAW,EAAExC,CAAC,CAACG,UAAU;QACzBsC,UAAU,EAAE,MAAM;QAClBxC,KAAK,EAAED,CAAC,CAACC,KAAK;QACdM,KAAK,EAAE,IAAI,CAACjB,MAAM,CAAC2B,aAAa,CAACC,QAAQ,CAAC,IAAI,CAAC5B,MAAM,CAAC6B,eAAe,CAAC;QACtEuB,QAAQ,EAAG3B,YAAY,GAAG,IAAI,CAACT,YAAY,CAACC,KAAK,CAAC,GAAG,IAAI,CAACjB,MAAM,CAAC+B,OAAO,CAACG,UAAU;MACvF,CAAC,CAAC;IACN;EACJ,CAAC;EACD,OAAOnC,UAAU;AACrB,CAAC,EAAG;AACJ,SAASA,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}