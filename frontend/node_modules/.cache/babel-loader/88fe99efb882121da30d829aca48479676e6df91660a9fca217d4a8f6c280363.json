{"ast":null,"code":"import * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { read, paste, Search, filter, Download, Delete } from '../common/operations';\nimport { getValue, setValue, isNullOrUndefined as isNOU, matches, select, createElement } from '@syncfusion/ej2-base';\nimport { closest, detach } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createDialog } from '../pop-up/dialog';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function updatePath(node, data, instance) {\n  var text = getValue('name', data);\n  var id = node.getAttribute('data-id');\n  var newText = isNOU(id) ? text : id;\n  instance.setProperties({\n    path: getPath(node, newText, instance.hasId)\n  }, true);\n  instance.pathId = getPathId(node);\n  instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\nexport function getPath(element, text, hasId) {\n  var matched = getParents(element, text, false, hasId);\n  var path = hasId ? '' : '/';\n  var len = matched.length - (hasId ? 1 : 2);\n  for (var i = len; i >= 0; i--) {\n    path += matched[i] + '/';\n  }\n  return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\nexport function getPathId(node) {\n  var matched = getParents(node, node.getAttribute('data-uid'), true);\n  var ids = [];\n  for (var i = matched.length - 1; i >= 0; i--) {\n    ids.push(matched[i]);\n  }\n  return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\nexport function getPathNames(element, text) {\n  var matched = getParents(element, text, false);\n  var names = [];\n  for (var i = matched.length - 1; i >= 0; i--) {\n    names.push(matched[i]);\n  }\n  return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\nexport function getParents(element, text, isId, hasId) {\n  var matched = [text];\n  var el = element.parentNode;\n  while (!isNOU(el)) {\n    if (matches(el, '.' + CLS.LIST_ITEM)) {\n      var parentText = isId ? el.getAttribute('data-uid') : hasId ? el.getAttribute('data-id') : select('.' + CLS.LIST_TEXT, el).textContent;\n      matched.push(parentText);\n    }\n    el = el.parentNode;\n    if (el.classList.contains(CLS.TREE_VIEW)) {\n      break;\n    }\n  }\n  return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function generatePath(parent) {\n  var key = parent.hasId ? 'id' : 'name';\n  var newPath = parent.hasId ? '' : '/';\n  var i = parent.hasId ? 0 : 1;\n  for (i; i < parent.pathId.length; i++) {\n    // eslint-disable-next-line\n    var data = getValue(parent.pathId[i], parent.feParent);\n    newPath += getValue(key, data) + '/';\n  }\n  parent.setProperties({\n    path: newPath\n  }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function removeActive(parent) {\n  if (parent.isCut) {\n    removeBlur(parent);\n    parent.selectedNodes = [];\n    parent.actionRecords = [];\n    parent.enablePaste = false;\n    parent.notify(events.hidePaste, {});\n  }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\nexport function activeElement(action, parent) {\n  parent.isSearchCut = false;\n  parent.actionRecords = [];\n  parent.activeElements = [];\n  parent.notify(events.cutCopyInit, {});\n  if (parent.activeElements.length === 0) {\n    return false;\n  }\n  removeBlur(parent);\n  var blurEle = parent.activeElements;\n  if (parent.activeModule !== 'navigationpane') {\n    parent.targetPath = parent.path;\n  } else {\n    parent.targetPath = getParentPath(parent.path);\n  }\n  var i = 0;\n  if (blurEle) {\n    getModule(parent, blurEle[0]);\n    if (action === 'cut') {\n      while (i < blurEle.length) {\n        addBlur(blurEle[i]);\n        i++;\n      }\n    }\n  }\n  i = 0;\n  parent.selectedNodes = [];\n  parent.enablePaste = true;\n  parent.notify(events.showPaste, {});\n  while (i < parent.activeRecords.length) {\n    parent.actionRecords.push(parent.activeRecords[i]);\n    parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n    i++;\n  }\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && parent.activeModule !== 'navigationpane') {\n    parent.selectedNodes = [];\n    parent.isSearchCut = true;\n    var i_1 = 0;\n    while (i_1 < parent.selectedItems.length) {\n      parent.selectedNodes.push(parent.selectedItems[i_1]);\n      i_1++;\n    }\n  }\n  return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\nexport function addBlur(nodes) {\n  nodes.classList.add(CLS.BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\nexport function removeBlur(parent, hover) {\n  var blurEle = !hover ? parent.element.querySelectorAll('.' + CLS.BLUR) : parent.element.querySelectorAll('.' + CLS.HOVER);\n  var i = 0;\n  while (i < blurEle.length) {\n    blurEle[i].classList.remove(!hover ? CLS.BLUR : CLS.HOVER);\n    i++;\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nexport function getModule(parent, element) {\n  if (element) {\n    if (element.classList.contains(CLS.ROW)) {\n      parent.activeModule = 'detailsview';\n    } else if (closest(element, '.' + CLS.LARGE_ICON)) {\n      parent.activeModule = 'largeiconsview';\n    } else {\n      parent.activeModule = 'navigationpane';\n    }\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\nexport function searchWordHandler(parent, value, isLayoutChange) {\n  var searchWord;\n  if (value.length === 0 && !parent.isFiltered) {\n    parent.notify(events.pathColumn, {\n      args: parent\n    });\n  }\n  if (parent.searchSettings.filterType === 'startsWith') {\n    searchWord = value + '*';\n  } else if (parent.searchSettings.filterType === 'endsWith') {\n    searchWord = '*' + value;\n  } else {\n    searchWord = '*' + value + '*';\n  }\n  parent.searchWord = searchWord;\n  parent.itemData = [getPathObject(parent)];\n  if (value.length > 0) {\n    var caseSensitive = parent.searchSettings.ignoreCase;\n    var hiddenItems = parent.showHiddenItems;\n    Search(parent, isLayoutChange ? events.layoutChange : events.search, parent.path, searchWord, hiddenItems, !caseSensitive);\n  } else {\n    if (!parent.isFiltered) {\n      if (parent.isSortByClicked) {\n        parent.notify(events.layoutChange, {\n          files: parent.largeiconsviewModule.items\n        });\n        parent.isSortByClicked = false;\n      } else {\n        read(parent, isLayoutChange ? events.layoutChange : events.search, parent.path);\n      }\n    } else {\n      filter(parent, events.layoutChange);\n    }\n  }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\nexport function updateLayout(parent, view) {\n  parent.setProperties({\n    view: view\n  }, true);\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n    parent.layoutSelectedItems = parent.selectedItems;\n  }\n  var searchWord = '';\n  if (parent.breadcrumbbarModule.searchObj.element.value) {\n    searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n  }\n  parent.isLayoutChange = true;\n  searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nexport function getTargetModule(parent, element) {\n  var tartgetModule = '';\n  if (element) {\n    if (closest(element, '.' + CLS.ROOT + '.' + CLS.CONTROL + ' .' + CLS.GRID_CONTENT)) {\n      tartgetModule = 'detailsview';\n    } else if (closest(element, '.' + CLS.LARGE_ICONS)) {\n      tartgetModule = 'largeiconsview';\n    } else if (element.classList.contains('e-fullrow') || element.classList.contains('e-icon-expandable')) {\n      tartgetModule = 'navigationpane';\n    } else if (closest(element, '.e-address-list-item')) {\n      tartgetModule = 'breadcrumbbar';\n    } else {\n      tartgetModule = '';\n    }\n  }\n  parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function refresh(parent) {\n  parent.itemData = [getPathObject(parent)];\n  if (!hasReadAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], events.permissionRead);\n  } else {\n    read(parent, events.refreshEnd, parent.path);\n  }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function openAction(parent) {\n  read(parent, events.openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\nexport function getPathObject(parent) {\n  return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function copyFiles(parent) {\n  if (!activeElement('copy', parent)) {\n    return;\n  } else {\n    parent.fileAction = 'copy';\n  }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function cutFiles(parent) {\n  if (!activeElement('cut', parent)) {\n    return;\n  } else {\n    parent.isCut = true;\n    parent.fileAction = 'move';\n  }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\nexport function fileType(file) {\n  var isFile = getValue('isFile', file);\n  if (!isFile) {\n    return CLS.FOLDER;\n  }\n  var imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n  var audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n  var videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n  var knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc', 'xlsx', 'xls', 'xml', 'rtf', 'php'];\n  var filetype = getValue('type', file);\n  filetype = filetype.toLowerCase();\n  if (filetype.indexOf('.') !== -1) {\n    filetype = filetype.split('.').join('');\n  }\n  var iconType;\n  if (imageFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_IMAGE;\n  } else if (audioFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_MUSIC;\n  } else if (videoFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_VIDEO;\n  } else if (knownFormat.indexOf(filetype) !== -1) {\n    iconType = 'e-fe-' + filetype;\n  } else {\n    iconType = 'e-fe-unknown e-fe-' + filetype;\n  }\n  return iconType;\n}\n/* istanbul ignore next */\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nexport function getImageUrl(parent, item) {\n  var baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n  var imgUrl;\n  var fileName = encodeURIComponent(getValue('name', item));\n  var fPath = getValue('filterPath', item);\n  if (parent.hasId) {\n    var imgId = getValue('id', item);\n    imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n  } else if (!isNOU(fPath)) {\n    imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n  } else {\n    imgUrl = baseUrl + '?path=' + parent.path + fileName;\n  }\n  imgUrl = imgUrl + '&time=' + new Date().getTime().toString();\n  var eventArgs = {\n    fileDetails: [item],\n    imageUrl: imgUrl\n  };\n  parent.trigger('beforeImageLoad', eventArgs);\n  return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nexport function getFullPath(parent, data, path) {\n  var filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n  var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n  if (!isNOU(fPath)) {\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return path + filePath;\n  }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\nexport function getName(parent, data) {\n  var name = getValue('name', data);\n  var fPath = getValue('filterPath', data);\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNOU(fPath)) {\n    fPath = fPath.replace(/\\\\/g, '/');\n    name = fPath.replace(parent.path, '') + name;\n  }\n  return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getSortedData(parent, items) {\n  if (items.length === 0) {\n    return items;\n  }\n  var query;\n  if (parent.sortOrder !== 'None') {\n    query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n  } else {\n    query = new Query().group('isFile');\n  }\n  // eslint-disable-next-line\n  var lists = new DataManager(items).executeLocal(query);\n  return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getObject(parent, key, value) {\n  // eslint-disable-next-line\n  var currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n  var query = new Query().where(key, 'equal', value);\n  // eslint-disable-next-line\n  var lists = new DataManager(currFiles).executeLocal(query);\n  return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\nexport function createEmptyElement(parent, element, args) {\n  var top;\n  var layoutElement = select('#' + parent.element.id + CLS.LAYOUT_ID, parent.element);\n  var addressBarHeight = select('#' + parent.element.id + CLS.BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n  top = layoutElement.offsetHeight - addressBarHeight;\n  if (parent.view === 'Details') {\n    top = top - select('.' + CLS.GRID_HEADER, layoutElement).offsetHeight;\n  }\n  if (isNOU(element.querySelector('.' + CLS.EMPTY))) {\n    var emptyDiv = createElement('div', {\n      className: CLS.EMPTY\n    });\n    var emptyFolder = createElement('div', {\n      className: CLS.LARGE_EMPTY_FOLDER\n    });\n    var emptyEle = createElement('div', {\n      className: CLS.EMPTY_CONTENT\n    });\n    var dragFile = createElement('div', {\n      className: CLS.EMPTY_INNER_CONTENT\n    });\n    if (parent.view === 'Details') {\n      element.querySelector('.' + CLS.GRID_VIEW).appendChild(emptyDiv);\n    } else {\n      element.appendChild(emptyDiv);\n    }\n    emptyDiv.appendChild(emptyFolder);\n    emptyDiv.appendChild(emptyEle);\n    emptyDiv.appendChild(dragFile);\n  }\n  if (element.querySelector('.' + CLS.EMPTY)) {\n    if (!isNOU(args.error)) {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n    } else if (parent.isFiltered) {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n    } else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n    } else {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n    }\n  }\n  var eDiv = select('.' + CLS.EMPTY, element);\n  top = (top - eDiv.offsetHeight) / 2;\n  eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getDirectories(files) {\n  return new DataManager(files).executeLocal(new Query().where(events.isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\nexport function setNodeId(result, rootId) {\n  // eslint-disable-next-line\n  var dirs = getDirectories(result.files);\n  for (var i = 0, len = dirs.length; i < len; i++) {\n    setValue('_fm_id', rootId + '_' + i, dirs[i]);\n  }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function setDateObject(args) {\n  for (var i = 0; i < args.length; i++) {\n    setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n    setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n  }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\nexport function getLocaleText(parent, text) {\n  var locale = parent.localeObj.getConstant(text);\n  return locale === '' ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\nexport function getCssClass(parent, css) {\n  var cssClass = parent.cssClass;\n  cssClass = isNOU(cssClass) || cssClass === '' ? css : cssClass + ' ' + css;\n  return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\nexport function sortbyClickHandler(parent, args) {\n  var tick;\n  parent.isSortByClicked = true;\n  if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n    tick = true;\n  } else {\n    tick = false;\n  }\n  if (!tick) {\n    parent.sortBy = getSortField(args.item.id);\n  } else {\n    parent.sortOrder = getSortField(args.item.id);\n  }\n  parent.itemData = [getPathObject(parent)];\n  if (parent.view === 'Details') {\n    if (parent.isMobile) {\n      updateLayout(parent, 'Details');\n    } else {\n      parent.notify(events.sortColumn, {\n        module: 'detailsview'\n      });\n    }\n  }\n  if (parent.view === 'LargeIcons') {\n    updateLayout(parent, 'LargeIcons');\n  }\n  parent.notify(events.sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\nexport function getSortField(id) {\n  var text = id.substring(id.lastIndexOf('_') + 1);\n  var field = text;\n  switch (text) {\n    case 'date':\n      field = '_fm_modified';\n      break;\n    case 'ascending':\n      field = 'Ascending';\n      break;\n    case 'descending':\n      field = 'Descending';\n      break;\n    case 'none':\n      field = 'None';\n      break;\n  }\n  return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nexport function setNextPath(parent, path) {\n  var currfolders = path.split('/');\n  var folders = parent.originalPath.split('/');\n  // eslint-disable-next-line\n  var root = getValue(parent.pathId[0], parent.feParent);\n  var key = isNOU(getValue('id', root)) ? 'name' : 'id';\n  for (var i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n    var eventName = folders[i + 1] === '' ? events.finalizeEnd : events.initialEnd;\n    var newPath = folders[i] === '' ? '/' : parent.path + folders[i] + '/';\n    // eslint-disable-next-line\n    var data = getObject(parent, key, folders[i]);\n    var id = getValue('_fm_id', data);\n    parent.setProperties({\n      path: newPath\n    }, true);\n    parent.pathId.push(id);\n    parent.itemData = [data];\n    parent.pathNames.push(getValue('name', data));\n    read(parent, eventName, parent.path);\n    break;\n  }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function openSearchFolder(parent, data) {\n  parent.notify(events.clearPathInit, {\n    selectedNode: parent.pathId[parent.pathId.length - 1]\n  });\n  parent.originalPath = getFullPath(parent, data, parent.path);\n  read(parent, parent.path !== parent.originalPath ? events.initialEnd : events.finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function pasteHandler(parent) {\n  parent.isDragDrop = false;\n  if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n    var path = parent.folderPath === '' ? parent.path : parent.folderPath;\n    // eslint-disable-next-line\n    var subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n    if (!subFolder) {\n      if (parent.fileAction === 'move' && parent.targetPath !== path || parent.fileAction === 'copy') {\n        parent.notify(events.pasteInit, {});\n        paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n      } else {\n        parent.enablePaste = false;\n        parent.notify(events.hidePaste, {});\n        removeBlur(parent);\n      }\n    }\n  }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\nexport function validateSubFolder(parent, data, dropPath, dragPath) {\n  var subFolder = false;\n  for (var i = 0; i < data.length; i++) {\n    if (!getValue('isFile', data[i])) {\n      var tempTarget = getFullPath(parent, data[i], dragPath);\n      if (dropPath.indexOf(tempTarget) === 0) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Sub-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    } else {\n      var srcData = parent.dragNodes[i];\n      var len = 0;\n      if (srcData) {\n        len = srcData.lastIndexOf('/');\n      }\n      var path = '';\n      if (len > 0) {\n        path = dragPath + srcData.substring(0, len + 1);\n      }\n      if (path === dropPath) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Same-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    }\n  }\n  return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function dropHandler(parent) {\n  parent.isDragDrop = true;\n  if (parent.dragData.length !== 0) {\n    parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n    parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n    var subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n    if (!subFolder && parent.dragPath !== parent.dropPath) {\n      parent.itemData = [parent.dropData];\n      paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n      parent.notify(events.pasteInit, {});\n    }\n  }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\nexport function getParentPath(oldPath) {\n  var path = oldPath.split('/');\n  var newPath = path[0] + '/';\n  for (var i = 1; i < path.length - 2; i++) {\n    newPath += path[i] + '/';\n  }\n  return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\nexport function getDirectoryPath(parent, args) {\n  var filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n  var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n  if (!isNOU(fPath)) {\n    if (fPath === '') {\n      return parent.hasId ? filePath : '/';\n    }\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return parent.path + filePath;\n  }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\nexport function doPasteUpdate(parent, operation, result) {\n  if (operation === 'move') {\n    if (!parent.isDragDrop) {\n      parent.enablePaste = false;\n      parent.notify(events.hidePaste, {});\n      parent.notify(events.cutEnd, result);\n    } else {\n      parent.notify(events.dragEnd, result);\n    }\n  }\n  if (parent.duplicateItems.length === 0) {\n    parent.pasteNodes = [];\n  }\n  var flag = false;\n  for (var count = 0; count < result.files.length && !flag; count++) {\n    parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n    if (parent.isDragDrop) {\n      parent.droppedObjects.push(result.files[count]);\n    }\n  }\n  parent.duplicateItems = [];\n  parent.duplicateRecords = [];\n  if (parent.isDragDrop && !parent.isPasteError) {\n    parent.isDropEnd = true;\n  } else {\n    parent.isDropEnd = false;\n  }\n  if (!parent.isDragDrop || parent.path === parent.dragPath || parent.path === parent.dropPath || parent.isSearchDrag) {\n    parent.isPathDrag = false;\n    read(parent, events.pasteEnd, parent.path);\n  } else {\n    readDropPath(parent);\n  }\n  parent.trigger('success', {\n    action: operation,\n    result: result\n  });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function readDropPath(parent) {\n  var pathId = getValue('_fm_id', parent.dropData);\n  parent.expandedId = pathId;\n  parent.itemData = [parent.dropData];\n  if (parent.isPathDrag) {\n    parent.notify(events.pathDrag, parent.itemData);\n  } else {\n    if (parent.navigationpaneModule) {\n      var node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n      updatePath(node, parent.dropData, parent);\n    }\n    read(parent, events.dropPath, parent.dropPath);\n  }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\nexport function getDuplicateData(parent, name) {\n  // eslint-disable-next-line\n  var data = null;\n  // eslint-disable-next-line\n  var records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n  for (var i = 0; i < records.length; i++) {\n    if (getValue('name', records[i]) === name) {\n      data = records[i];\n      break;\n    }\n  }\n  return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function createVirtualDragElement(parent) {\n  parent.isSearchDrag = false;\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n    parent.isSearchDrag = true;\n  }\n  if (parent.activeModule !== 'navigationpane') {\n    parent.dragNodes = [];\n    var i = 0;\n    while (i < parent.selectedItems.length) {\n      parent.dragNodes.push(parent.selectedItems[i]);\n      i++;\n    }\n    if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n      parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n    }\n  }\n  var cloneIcon = parent.createElement('div', {\n    className: 'e-fe-icon ' + fileType(parent.dragData[0])\n  });\n  var cloneName = parent.createElement('div', {\n    className: 'e-fe-name',\n    innerHTML: parent.dragData[0].name\n  });\n  var virtualEle = parent.createElement('div', {\n    className: 'e-fe-content'\n  });\n  virtualEle.appendChild(cloneIcon);\n  virtualEle.appendChild(cloneName);\n  var ele = parent.createElement('div', {\n    className: CLS.CLONE\n  });\n  ele.appendChild(virtualEle);\n  if (parent.dragNodes.length > 1) {\n    var badge = parent.createElement('span', {\n      className: 'e-fe-count',\n      innerHTML: parent.dragNodes.length.toString(10)\n    });\n    ele.appendChild(badge);\n  }\n  parent.virtualDragElement = ele;\n  parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nexport function dragStopHandler(parent, args) {\n  var dragArgs = args;\n  dragArgs.cancel = false;\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n  removeDropTarget(parent);\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  removeBlur(parent);\n  parent.uploadObj.dropArea = select('#' + parent.element.id + CLS.CONTENT_ID, parent.element);\n  var virtualEle = select('.' + CLS.CLONE, parent.element);\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n  getTargetModule(parent, args.target);\n  parent.notify(events.dropInit, args);\n  removeBlur(parent, 'hover');\n  dragArgs.fileDetails = parent.dragData;\n  parent.trigger('fileDragStop', dragArgs, function (dragArgs) {\n    if (!dragArgs.cancel && !isNOU(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n      dropHandler(parent);\n    }\n    parent.dragCount = 0;\n  });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nexport function dragStartHandler(parent, args, dragObj) {\n  var dragArgs = args;\n  dragArgs.cancel = false;\n  dragArgs.fileDetails = parent.dragData;\n  parent.dragCount = 0;\n  parent.droppedObjects = [];\n  if (!parent.allowDragAndDrop || parent.activeModule === 'navigationpane' && closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]) {\n    dragArgs.cancel = true;\n  }\n  if (parent.activeModule === 'navigationpane' && parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1) {\n    parent.isPathDrag = true;\n  } else {\n    parent.isPathDrag = false;\n  }\n  removeBlur(parent);\n  if (dragArgs.cancel) {\n    dragObj.intDestroy(args.event);\n    dragCancel(parent);\n  } else if (!dragArgs.cancel) {\n    var i = 0;\n    while (i < parent.activeElements.length) {\n      addBlur(parent.activeElements[i]);\n      i++;\n    }\n    parent.trigger('fileDragStart', dragArgs, function (dragArgs) {\n      if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n      } else {\n        parent.uploadObj.dropArea = null;\n      }\n    });\n  }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function dragCancel(parent) {\n  removeBlur(parent);\n  var virtualEle = select('.' + CLS.CLONE, parent.element);\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function removeDropTarget(parent) {\n  removeItemClass(parent, CLS.DROP_FOLDER);\n  removeItemClass(parent, CLS.DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\nexport function removeItemClass(parent, value) {\n  var ele = parent.element.querySelectorAll('.' + value);\n  for (var i = 0; i < ele.length; i++) {\n    ele[i].classList.remove(value);\n  }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\nexport function draggingHandler(parent, args) {\n  var dragArgs = args;\n  dragArgs.fileDetails = parent.dragData;\n  var canDrop = false;\n  getTargetModule(parent, args.target);\n  removeDropTarget(parent);\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n  removeBlur(parent, 'hover');\n  var node = null;\n  if (parent.targetModule === 'navigationpane') {\n    node = closest(args.target, 'li');\n    node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n    canDrop = true;\n    /* istanbul ignore next */\n    parent.treeExpandTimer = window.setTimeout(function () {\n      parent.notify(events.dragging, args);\n    }, 800);\n  } else if (parent.targetModule === 'detailsview') {\n    node = closest(args.target, 'tr');\n    if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.DROP_FOLDER);\n    } else if (node && !node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.DROP_FILE);\n    }\n    canDrop = true;\n  } else if (parent.targetModule === 'largeiconsview') {\n    node = closest(args.target, 'li');\n    if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n    }\n    canDrop = true;\n    /* istanbul ignore next */\n  } else if (parent.targetModule === 'breadcrumbbar') {\n    canDrop = true;\n  }\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n  parent.dragCount = parent.dragCount + 1;\n  parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\nexport function objectToString(data) {\n  var str = '';\n  var keys = Object.keys(data);\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i] !== 'message') {\n      str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n    }\n  }\n  return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\nexport function getItemName(parent, data) {\n  if (parent.hasId) {\n    return getValue('id', data);\n  }\n  return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function updateRenamingData(parent, data) {\n  parent.itemData = [data];\n  parent.currentItemText = getValue('name', data);\n  parent.isFile = getValue('isFile', data);\n  parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function doRename(parent) {\n  if (!hasEditAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], events.permissionEdit);\n  } else {\n    createDialog(parent, 'Rename');\n  }\n}\n/* istanbul ignore next */\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function doDownload(parent) {\n  // eslint-disable-next-line\n  var items = parent.itemData;\n  for (var i = 0; i < items.length; i++) {\n    if (!hasDownloadAccess(items[i])) {\n      createDeniedDialog(parent, items[i], events.permissionDownload);\n      return;\n    }\n  }\n  if (parent.selectedItems.length > 0) {\n    Download(parent, parent.path, parent.selectedItems);\n  }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function doDeleteFiles(parent, data, newIds) {\n  for (var i = 0; i < data.length; i++) {\n    if (!hasEditAccess(data[i])) {\n      createDeniedDialog(parent, data[i], events.permissionEdit);\n      return;\n    }\n  }\n  parent.itemData = data;\n  Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function doDownloadFiles(parent, data, newIds) {\n  for (var i = 0; i < data.length; i++) {\n    if (!hasDownloadAccess(data[i])) {\n      createDeniedDialog(parent, data[i], events.permissionDownload);\n      return;\n    }\n  }\n  parent.itemData = data;\n  if (newIds.length > 0) {\n    Download(parent, parent.path, newIds);\n  }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function createDeniedDialog(parent, data, action) {\n  var message = getValue('message', getValue('permission', data));\n  if (message === '') {\n    message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n  }\n  var response = {\n    error: {\n      code: '401',\n      fileExists: null,\n      message: message\n    }\n  };\n  createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\nexport function getAccessClass(data) {\n  return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasReadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission && !getValue('read', permission) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasEditAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('write', permission) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasContentAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('writeContents', permission) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasUploadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('upload', permission) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasDownloadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('download', permission) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function createNewFolder(parent) {\n  // eslint-disable-next-line\n  var details = parent.itemData[0];\n  if (!hasContentAccess(details)) {\n    createDeniedDialog(parent, details, events.permissionEditContents);\n  } else {\n    createDialog(parent, 'NewFolder');\n  }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function uploadItem(parent) {\n  // eslint-disable-next-line\n  var details = parent.itemData[0];\n  if (!hasUploadAccess(details)) {\n    createDeniedDialog(parent, details, events.permissionUpload);\n  } else {\n    var eleId = '#' + parent.element.id + CLS.UPLOAD_ID;\n    var uploadEle = document.querySelector(eleId);\n    uploadEle.click();\n  }\n}","map":{"version":3,"names":["CLS","events","read","paste","Search","filter","Download","Delete","getValue","setValue","isNullOrUndefined","isNOU","matches","select","createElement","closest","detach","DataManager","Query","createDialog","updatePath","node","data","instance","text","id","getAttribute","newText","setProperties","path","getPath","hasId","pathId","getPathId","pathNames","getPathNames","element","matched","getParents","len","length","i","ids","push","names","isId","el","parentNode","LIST_ITEM","parentText","LIST_TEXT","textContent","classList","contains","TREE_VIEW","generatePath","parent","key","newPath","feParent","removeActive","isCut","removeBlur","selectedNodes","actionRecords","enablePaste","notify","hidePaste","activeElement","action","isSearchCut","activeElements","cutCopyInit","blurEle","activeModule","targetPath","getParentPath","getModule","addBlur","showPaste","activeRecords","breadcrumbbarModule","searchObj","value","isFiltered","i_1","selectedItems","nodes","add","BLUR","hover","querySelectorAll","HOVER","remove","ROW","LARGE_ICON","searchWordHandler","isLayoutChange","searchWord","pathColumn","args","searchSettings","filterType","itemData","getPathObject","caseSensitive","ignoreCase","hiddenItems","showHiddenItems","layoutChange","search","isSortByClicked","files","largeiconsviewModule","items","updateLayout","view","layoutSelectedItems","getTargetModule","tartgetModule","ROOT","CONTROL","GRID_CONTENT","LARGE_ICONS","targetModule","refresh","hasReadAccess","createDeniedDialog","permissionRead","refreshEnd","openAction","openEnd","copyFiles","fileAction","cutFiles","fileType","file","isFile","FOLDER","imageFormat","audioFormat","videoFormat","knownFormat","filetype","toLowerCase","indexOf","split","join","iconType","ICON_IMAGE","ICON_MUSIC","ICON_VIDEO","getImageUrl","item","baseUrl","ajaxSettings","url","imgUrl","fileName","encodeURIComponent","fPath","imgId","replace","Date","getTime","toString","eventArgs","fileDetails","imageUrl","trigger","getFullPath","filePath","getName","name","getSortedData","query","sortOrder","sortBy","group","lists","executeLocal","getObject","currFiles","feFiles","where","createEmptyElement","top","layoutElement","LAYOUT_ID","addressBarHeight","BREADCRUMBBAR_ID","offsetHeight","GRID_HEADER","querySelector","EMPTY","emptyDiv","className","emptyFolder","LARGE_EMPTY_FOLDER","emptyEle","EMPTY_CONTENT","dragFile","EMPTY_INNER_CONTENT","GRID_VIEW","appendChild","error","innerHTML","getLocaleText","eDiv","style","marginTop","getDirectories","setNodeId","result","rootId","dirs","setDateObject","locale","localeObj","getConstant","getCssClass","css","cssClass","sortbyClickHandler","tick","getSortField","isMobile","sortColumn","module","sortByChange","substring","lastIndexOf","field","setNextPath","currfolders","folders","originalPath","root","eventName","finalizeEnd","initialEnd","openSearchFolder","clearPathInit","selectedNode","pasteHandler","isDragDrop","folderPath","subFolder","validateSubFolder","pasteInit","dropPath","dragPath","tempTarget","code","message","fileExists","srcData","dragNodes","dropHandler","dragData","dropData","oldPath","getDirectoryPath","cwd","doPasteUpdate","operation","cutEnd","dragEnd","duplicateItems","pasteNodes","flag","count","droppedObjects","duplicateRecords","isPasteError","isDropEnd","isSearchDrag","isPathDrag","pasteEnd","readDropPath","expandedId","pathDrag","navigationpaneModule","treeObj","getDuplicateData","records","createVirtualDragElement","getItemName","cloneIcon","cloneName","virtualEle","ele","CLONE","badge","virtualDragElement","dragStopHandler","dragArgs","cancel","treeExpandTimer","window","clearTimeout","removeDropTarget","uploadObj","dropArea","CONTENT_ID","target","dropInit","dragCount","dragStartHandler","dragObj","allowDragAndDrop","intDestroy","event","dragCancel","removeItemClass","DROP_FOLDER","DROP_FILE","draggingHandler","canDrop","setTimeout","dragging","objectToString","str","keys","Object","updateRenamingData","currentItemText","filterPath","doRename","hasEditAccess","permissionEdit","doDownload","hasDownloadAccess","permissionDownload","doDeleteFiles","newIds","doDownloadFiles","response","getAccessClass","permission","hasContentAccess","hasUploadAccess","createNewFolder","details","permissionEditContents","uploadItem","permissionUpload","eleId","UPLOAD_ID","uploadEle","document","click"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-filemanager/src/file-manager/common/utility.js"],"sourcesContent":["import * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { read, paste, Search, filter, Download, Delete } from '../common/operations';\nimport { getValue, setValue, isNullOrUndefined as isNOU, matches, select, createElement } from '@syncfusion/ej2-base';\nimport { closest, detach } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createDialog } from '../pop-up/dialog';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function updatePath(node, data, instance) {\n    var text = getValue('name', data);\n    var id = node.getAttribute('data-id');\n    var newText = isNOU(id) ? text : id;\n    instance.setProperties({ path: getPath(node, newText, instance.hasId) }, true);\n    instance.pathId = getPathId(node);\n    instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\nexport function getPath(element, text, hasId) {\n    var matched = getParents(element, text, false, hasId);\n    var path = hasId ? '' : '/';\n    var len = matched.length - (hasId ? 1 : 2);\n    for (var i = len; i >= 0; i--) {\n        path += matched[i] + '/';\n    }\n    return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\nexport function getPathId(node) {\n    var matched = getParents(node, node.getAttribute('data-uid'), true);\n    var ids = [];\n    for (var i = matched.length - 1; i >= 0; i--) {\n        ids.push(matched[i]);\n    }\n    return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\nexport function getPathNames(element, text) {\n    var matched = getParents(element, text, false);\n    var names = [];\n    for (var i = matched.length - 1; i >= 0; i--) {\n        names.push(matched[i]);\n    }\n    return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\nexport function getParents(element, text, isId, hasId) {\n    var matched = [text];\n    var el = element.parentNode;\n    while (!isNOU(el)) {\n        if (matches(el, '.' + CLS.LIST_ITEM)) {\n            var parentText = isId ? el.getAttribute('data-uid') : (hasId ? el.getAttribute('data-id') :\n                select('.' + CLS.LIST_TEXT, el).textContent);\n            matched.push(parentText);\n        }\n        el = el.parentNode;\n        if (el.classList.contains(CLS.TREE_VIEW)) {\n            break;\n        }\n    }\n    return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function generatePath(parent) {\n    var key = parent.hasId ? 'id' : 'name';\n    var newPath = parent.hasId ? '' : '/';\n    var i = parent.hasId ? 0 : 1;\n    for (i; i < parent.pathId.length; i++) {\n        // eslint-disable-next-line\n        var data = getValue(parent.pathId[i], parent.feParent);\n        newPath += getValue(key, data) + '/';\n    }\n    parent.setProperties({ path: newPath }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function removeActive(parent) {\n    if (parent.isCut) {\n        removeBlur(parent);\n        parent.selectedNodes = [];\n        parent.actionRecords = [];\n        parent.enablePaste = false;\n        parent.notify(events.hidePaste, {});\n    }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\nexport function activeElement(action, parent) {\n    parent.isSearchCut = false;\n    parent.actionRecords = [];\n    parent.activeElements = [];\n    parent.notify(events.cutCopyInit, {});\n    if (parent.activeElements.length === 0) {\n        return false;\n    }\n    removeBlur(parent);\n    var blurEle = parent.activeElements;\n    if (parent.activeModule !== 'navigationpane') {\n        parent.targetPath = parent.path;\n    }\n    else {\n        parent.targetPath = getParentPath(parent.path);\n    }\n    var i = 0;\n    if (blurEle) {\n        getModule(parent, blurEle[0]);\n        if (action === 'cut') {\n            while (i < blurEle.length) {\n                addBlur(blurEle[i]);\n                i++;\n            }\n        }\n    }\n    i = 0;\n    parent.selectedNodes = [];\n    parent.enablePaste = true;\n    parent.notify(events.showPaste, {});\n    while (i < parent.activeRecords.length) {\n        parent.actionRecords.push(parent.activeRecords[i]);\n        parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n        i++;\n    }\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) &&\n        parent.activeModule !== 'navigationpane') {\n        parent.selectedNodes = [];\n        parent.isSearchCut = true;\n        var i_1 = 0;\n        while (i_1 < parent.selectedItems.length) {\n            parent.selectedNodes.push(parent.selectedItems[i_1]);\n            i_1++;\n        }\n    }\n    return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\nexport function addBlur(nodes) {\n    nodes.classList.add(CLS.BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\nexport function removeBlur(parent, hover) {\n    var blurEle = (!hover) ? parent.element.querySelectorAll('.' + CLS.BLUR) :\n        parent.element.querySelectorAll('.' + CLS.HOVER);\n    var i = 0;\n    while (i < blurEle.length) {\n        blurEle[i].classList.remove((!hover) ? CLS.BLUR : CLS.HOVER);\n        i++;\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nexport function getModule(parent, element) {\n    if (element) {\n        if (element.classList.contains(CLS.ROW)) {\n            parent.activeModule = 'detailsview';\n        }\n        else if (closest(element, '.' + CLS.LARGE_ICON)) {\n            parent.activeModule = 'largeiconsview';\n        }\n        else {\n            parent.activeModule = 'navigationpane';\n        }\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\nexport function searchWordHandler(parent, value, isLayoutChange) {\n    var searchWord;\n    if (value.length === 0 && !parent.isFiltered) {\n        parent.notify(events.pathColumn, { args: parent });\n    }\n    if (parent.searchSettings.filterType === 'startsWith') {\n        searchWord = value + '*';\n    }\n    else if (parent.searchSettings.filterType === 'endsWith') {\n        searchWord = '*' + value;\n    }\n    else {\n        searchWord = '*' + value + '*';\n    }\n    parent.searchWord = searchWord;\n    parent.itemData = [getPathObject(parent)];\n    if (value.length > 0) {\n        var caseSensitive = parent.searchSettings.ignoreCase;\n        var hiddenItems = parent.showHiddenItems;\n        Search(parent, isLayoutChange ? events.layoutChange : events.search, parent.path, searchWord, hiddenItems, !caseSensitive);\n    }\n    else {\n        if (!parent.isFiltered) {\n            if (parent.isSortByClicked) {\n                parent.notify(events.layoutChange, { files: parent.largeiconsviewModule.items });\n                parent.isSortByClicked = false;\n            }\n            else {\n                read(parent, isLayoutChange ? events.layoutChange : events.search, parent.path);\n            }\n        }\n        else {\n            filter(parent, events.layoutChange);\n        }\n    }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\nexport function updateLayout(parent, view) {\n    parent.setProperties({ view: view }, true);\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n        parent.layoutSelectedItems = parent.selectedItems;\n    }\n    var searchWord = '';\n    if (parent.breadcrumbbarModule.searchObj.element.value) {\n        searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n    }\n    parent.isLayoutChange = true;\n    searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nexport function getTargetModule(parent, element) {\n    var tartgetModule = '';\n    if (element) {\n        if (closest(element, '.' + CLS.ROOT + '.' + CLS.CONTROL + ' .' + CLS.GRID_CONTENT)) {\n            tartgetModule = 'detailsview';\n        }\n        else if (closest(element, '.' + CLS.LARGE_ICONS)) {\n            tartgetModule = 'largeiconsview';\n        }\n        else if (element.classList.contains('e-fullrow') ||\n            element.classList.contains('e-icon-expandable')) {\n            tartgetModule = 'navigationpane';\n        }\n        else if (closest(element, '.e-address-list-item')) {\n            tartgetModule = 'breadcrumbbar';\n        }\n        else {\n            tartgetModule = '';\n        }\n    }\n    parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function refresh(parent) {\n    parent.itemData = [getPathObject(parent)];\n    if (!hasReadAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], events.permissionRead);\n    }\n    else {\n        read(parent, events.refreshEnd, parent.path);\n    }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function openAction(parent) {\n    read(parent, events.openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\nexport function getPathObject(parent) {\n    return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function copyFiles(parent) {\n    if (!activeElement('copy', parent)) {\n        return;\n    }\n    else {\n        parent.fileAction = 'copy';\n    }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function cutFiles(parent) {\n    if (!activeElement('cut', parent)) {\n        return;\n    }\n    else {\n        parent.isCut = true;\n        parent.fileAction = 'move';\n    }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\nexport function fileType(file) {\n    var isFile = getValue('isFile', file);\n    if (!isFile) {\n        return CLS.FOLDER;\n    }\n    var imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n    var audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n    var videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n    var knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc',\n        'xlsx', 'xls', 'xml', 'rtf', 'php'];\n    var filetype = getValue('type', file);\n    filetype = filetype.toLowerCase();\n    if (filetype.indexOf('.') !== -1) {\n        filetype = filetype.split('.').join('');\n    }\n    var iconType;\n    if (imageFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_IMAGE;\n    }\n    else if (audioFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_MUSIC;\n    }\n    else if (videoFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_VIDEO;\n    }\n    else if (knownFormat.indexOf(filetype) !== -1) {\n        iconType = 'e-fe-' + filetype;\n    }\n    else {\n        iconType = 'e-fe-unknown e-fe-' + filetype;\n    }\n    return iconType;\n}\n/* istanbul ignore next */\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nexport function getImageUrl(parent, item) {\n    var baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n    var imgUrl;\n    var fileName = encodeURIComponent(getValue('name', item));\n    var fPath = getValue('filterPath', item);\n    if (parent.hasId) {\n        var imgId = getValue('id', item);\n        imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n    }\n    else if (!isNOU(fPath)) {\n        imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n    }\n    else {\n        imgUrl = baseUrl + '?path=' + parent.path + fileName;\n    }\n    imgUrl = imgUrl + '&time=' + (new Date().getTime()).toString();\n    var eventArgs = {\n        fileDetails: [item],\n        imageUrl: imgUrl\n    };\n    parent.trigger('beforeImageLoad', eventArgs);\n    return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nexport function getFullPath(parent, data, path) {\n    var filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n    var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n    if (!isNOU(fPath)) {\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return path + filePath;\n    }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\nexport function getName(parent, data) {\n    var name = getValue('name', data);\n    var fPath = getValue('filterPath', data);\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNOU(fPath)) {\n        fPath = fPath.replace(/\\\\/g, '/');\n        name = fPath.replace(parent.path, '') + name;\n    }\n    return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getSortedData(parent, items) {\n    if (items.length === 0) {\n        return items;\n    }\n    var query;\n    if (parent.sortOrder !== 'None') {\n        query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n    }\n    else {\n        query = new Query().group('isFile');\n    }\n    // eslint-disable-next-line\n    var lists = new DataManager(items).executeLocal(query);\n    return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getObject(parent, key, value) {\n    // eslint-disable-next-line\n    var currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n    var query = new Query().where(key, 'equal', value);\n    // eslint-disable-next-line\n    var lists = new DataManager(currFiles).executeLocal(query);\n    return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\nexport function createEmptyElement(parent, element, args) {\n    var top;\n    var layoutElement = select('#' + parent.element.id + CLS.LAYOUT_ID, parent.element);\n    var addressBarHeight = select('#' + parent.element.id + CLS.BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n    top = layoutElement.offsetHeight - addressBarHeight;\n    if (parent.view === 'Details') {\n        top = top - select('.' + CLS.GRID_HEADER, layoutElement).offsetHeight;\n    }\n    if (isNOU(element.querySelector('.' + CLS.EMPTY))) {\n        var emptyDiv = createElement('div', { className: CLS.EMPTY });\n        var emptyFolder = createElement('div', { className: CLS.LARGE_EMPTY_FOLDER });\n        var emptyEle = createElement('div', { className: CLS.EMPTY_CONTENT });\n        var dragFile = createElement('div', { className: CLS.EMPTY_INNER_CONTENT });\n        if (parent.view === 'Details') {\n            element.querySelector('.' + CLS.GRID_VIEW).appendChild(emptyDiv);\n        }\n        else {\n            element.appendChild(emptyDiv);\n        }\n        emptyDiv.appendChild(emptyFolder);\n        emptyDiv.appendChild(emptyEle);\n        emptyDiv.appendChild(dragFile);\n    }\n    if (element.querySelector('.' + CLS.EMPTY)) {\n        if (!isNOU(args.error)) {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n        }\n        else if (parent.isFiltered) {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n        }\n        else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n        }\n        else {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n        }\n    }\n    var eDiv = select('.' + CLS.EMPTY, element);\n    top = (top - eDiv.offsetHeight) / 2;\n    eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getDirectories(files) {\n    return new DataManager(files).executeLocal(new Query().where(events.isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\nexport function setNodeId(result, rootId) {\n    // eslint-disable-next-line\n    var dirs = getDirectories(result.files);\n    for (var i = 0, len = dirs.length; i < len; i++) {\n        setValue('_fm_id', rootId + '_' + i, dirs[i]);\n    }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function setDateObject(args) {\n    for (var i = 0; i < args.length; i++) {\n        setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n        setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n    }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\nexport function getLocaleText(parent, text) {\n    var locale = parent.localeObj.getConstant(text);\n    return (locale === '') ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\nexport function getCssClass(parent, css) {\n    var cssClass = parent.cssClass;\n    cssClass = (isNOU(cssClass) || cssClass === '') ? css : (cssClass + ' ' + css);\n    return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\nexport function sortbyClickHandler(parent, args) {\n    var tick;\n    parent.isSortByClicked = true;\n    if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n        tick = true;\n    }\n    else {\n        tick = false;\n    }\n    if (!tick) {\n        parent.sortBy = getSortField(args.item.id);\n    }\n    else {\n        parent.sortOrder = getSortField(args.item.id);\n    }\n    parent.itemData = [getPathObject(parent)];\n    if (parent.view === 'Details') {\n        if (parent.isMobile) {\n            updateLayout(parent, 'Details');\n        }\n        else {\n            parent.notify(events.sortColumn, { module: 'detailsview' });\n        }\n    }\n    if (parent.view === 'LargeIcons') {\n        updateLayout(parent, 'LargeIcons');\n    }\n    parent.notify(events.sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\nexport function getSortField(id) {\n    var text = id.substring(id.lastIndexOf('_') + 1);\n    var field = text;\n    switch (text) {\n        case 'date':\n            field = '_fm_modified';\n            break;\n        case 'ascending':\n            field = 'Ascending';\n            break;\n        case 'descending':\n            field = 'Descending';\n            break;\n        case 'none':\n            field = 'None';\n            break;\n    }\n    return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nexport function setNextPath(parent, path) {\n    var currfolders = path.split('/');\n    var folders = parent.originalPath.split('/');\n    // eslint-disable-next-line\n    var root = getValue(parent.pathId[0], parent.feParent);\n    var key = isNOU(getValue('id', root)) ? 'name' : 'id';\n    for (var i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n        var eventName = (folders[i + 1] === '') ? events.finalizeEnd : events.initialEnd;\n        var newPath = (folders[i] === '') ? '/' : (parent.path + folders[i] + '/');\n        // eslint-disable-next-line\n        var data = getObject(parent, key, folders[i]);\n        var id = getValue('_fm_id', data);\n        parent.setProperties({ path: newPath }, true);\n        parent.pathId.push(id);\n        parent.itemData = [data];\n        parent.pathNames.push(getValue('name', data));\n        read(parent, eventName, parent.path);\n        break;\n    }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function openSearchFolder(parent, data) {\n    parent.notify(events.clearPathInit, { selectedNode: parent.pathId[parent.pathId.length - 1] });\n    parent.originalPath = getFullPath(parent, data, parent.path);\n    read(parent, (parent.path !== parent.originalPath) ? events.initialEnd : events.finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function pasteHandler(parent) {\n    parent.isDragDrop = false;\n    if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n        var path = (parent.folderPath === '') ? parent.path : parent.folderPath;\n        // eslint-disable-next-line\n        var subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n        if (!subFolder) {\n            if ((parent.fileAction === 'move' && parent.targetPath !== path) || parent.fileAction === 'copy') {\n                parent.notify(events.pasteInit, {});\n                paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n            }\n            else {\n                parent.enablePaste = false;\n                parent.notify(events.hidePaste, {});\n                removeBlur(parent);\n            }\n        }\n    }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\nexport function validateSubFolder(parent, data, dropPath, dragPath) {\n    var subFolder = false;\n    for (var i = 0; i < data.length; i++) {\n        if (!getValue('isFile', data[i])) {\n            var tempTarget = getFullPath(parent, data[i], dragPath);\n            if (dropPath.indexOf(tempTarget) === 0) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Sub-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n        else {\n            var srcData = parent.dragNodes[i];\n            var len = 0;\n            if (srcData) {\n                len = srcData.lastIndexOf('/');\n            }\n            var path = '';\n            if (len > 0) {\n                path = dragPath + srcData.substring(0, len + 1);\n            }\n            if (path === dropPath) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Same-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n    }\n    return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function dropHandler(parent) {\n    parent.isDragDrop = true;\n    if (parent.dragData.length !== 0) {\n        parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n        parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n        var subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n        if (!subFolder && (parent.dragPath !== parent.dropPath)) {\n            parent.itemData = [parent.dropData];\n            paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n            parent.notify(events.pasteInit, {});\n        }\n    }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\nexport function getParentPath(oldPath) {\n    var path = oldPath.split('/');\n    var newPath = path[0] + '/';\n    for (var i = 1; i < path.length - 2; i++) {\n        newPath += path[i] + '/';\n    }\n    return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\nexport function getDirectoryPath(parent, args) {\n    var filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n    var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n    if (!isNOU(fPath)) {\n        if (fPath === '') {\n            return parent.hasId ? filePath : '/';\n        }\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return parent.path + filePath;\n    }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\nexport function doPasteUpdate(parent, operation, result) {\n    if (operation === 'move') {\n        if (!parent.isDragDrop) {\n            parent.enablePaste = false;\n            parent.notify(events.hidePaste, {});\n            parent.notify(events.cutEnd, result);\n        }\n        else {\n            parent.notify(events.dragEnd, result);\n        }\n    }\n    if (parent.duplicateItems.length === 0) {\n        parent.pasteNodes = [];\n    }\n    var flag = false;\n    for (var count = 0; (count < result.files.length) && !flag; count++) {\n        parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n        if (parent.isDragDrop) {\n            parent.droppedObjects.push(result.files[count]);\n        }\n    }\n    parent.duplicateItems = [];\n    parent.duplicateRecords = [];\n    if (parent.isDragDrop && !parent.isPasteError) {\n        parent.isDropEnd = true;\n    }\n    else {\n        parent.isDropEnd = false;\n    }\n    if (!parent.isDragDrop || (parent.path === parent.dragPath) || (parent.path === parent.dropPath)\n        || parent.isSearchDrag) {\n        parent.isPathDrag = false;\n        read(parent, events.pasteEnd, parent.path);\n    }\n    else {\n        readDropPath(parent);\n    }\n    parent.trigger('success', { action: operation, result: result });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function readDropPath(parent) {\n    var pathId = getValue('_fm_id', parent.dropData);\n    parent.expandedId = pathId;\n    parent.itemData = [parent.dropData];\n    if (parent.isPathDrag) {\n        parent.notify(events.pathDrag, parent.itemData);\n    }\n    else {\n        if (parent.navigationpaneModule) {\n            var node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n            updatePath(node, parent.dropData, parent);\n        }\n        read(parent, events.dropPath, parent.dropPath);\n    }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\nexport function getDuplicateData(parent, name) {\n    // eslint-disable-next-line\n    var data = null;\n    // eslint-disable-next-line\n    var records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n    for (var i = 0; i < records.length; i++) {\n        if (getValue('name', records[i]) === name) {\n            data = records[i];\n            break;\n        }\n    }\n    return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function createVirtualDragElement(parent) {\n    parent.isSearchDrag = false;\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n        parent.isSearchDrag = true;\n    }\n    if (parent.activeModule !== 'navigationpane') {\n        parent.dragNodes = [];\n        var i = 0;\n        while (i < parent.selectedItems.length) {\n            parent.dragNodes.push(parent.selectedItems[i]);\n            i++;\n        }\n        if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n            parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n        }\n    }\n    var cloneIcon = parent.createElement('div', {\n        className: 'e-fe-icon ' + fileType(parent.dragData[0])\n    });\n    var cloneName = parent.createElement('div', {\n        className: 'e-fe-name',\n        innerHTML: parent.dragData[0].name\n    });\n    var virtualEle = parent.createElement('div', {\n        className: 'e-fe-content'\n    });\n    virtualEle.appendChild(cloneIcon);\n    virtualEle.appendChild(cloneName);\n    var ele = parent.createElement('div', {\n        className: CLS.CLONE\n    });\n    ele.appendChild(virtualEle);\n    if (parent.dragNodes.length > 1) {\n        var badge = parent.createElement('span', {\n            className: 'e-fe-count',\n            innerHTML: (parent.dragNodes.length).toString(10)\n        });\n        ele.appendChild(badge);\n    }\n    parent.virtualDragElement = ele;\n    parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nexport function dragStopHandler(parent, args) {\n    var dragArgs = args;\n    dragArgs.cancel = false;\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeDropTarget(parent);\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    removeBlur(parent);\n    parent.uploadObj.dropArea = select('#' + parent.element.id + CLS.CONTENT_ID, parent.element);\n    var virtualEle = select('.' + CLS.CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n    getTargetModule(parent, args.target);\n    parent.notify(events.dropInit, args);\n    removeBlur(parent, 'hover');\n    dragArgs.fileDetails = parent.dragData;\n    parent.trigger('fileDragStop', dragArgs, function (dragArgs) {\n        if (!dragArgs.cancel && !isNOU(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n            dropHandler(parent);\n        }\n        parent.dragCount = 0;\n    });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nexport function dragStartHandler(parent, args, dragObj) {\n    var dragArgs = args;\n    dragArgs.cancel = false;\n    dragArgs.fileDetails = parent.dragData;\n    parent.dragCount = 0;\n    parent.droppedObjects = [];\n    if (!parent.allowDragAndDrop || ((parent.activeModule === 'navigationpane') &&\n        (closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]))) {\n        dragArgs.cancel = true;\n    }\n    if ((parent.activeModule === 'navigationpane') &&\n        (parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1)) {\n        parent.isPathDrag = true;\n    }\n    else {\n        parent.isPathDrag = false;\n    }\n    removeBlur(parent);\n    if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n    }\n    else if (!dragArgs.cancel) {\n        var i = 0;\n        while (i < parent.activeElements.length) {\n            addBlur(parent.activeElements[i]);\n            i++;\n        }\n        parent.trigger('fileDragStart', dragArgs, function (dragArgs) {\n            if (dragArgs.cancel) {\n                dragObj.intDestroy(args.event);\n                dragCancel(parent);\n            }\n            else {\n                parent.uploadObj.dropArea = null;\n            }\n        });\n    }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function dragCancel(parent) {\n    removeBlur(parent);\n    var virtualEle = select('.' + CLS.CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function removeDropTarget(parent) {\n    removeItemClass(parent, CLS.DROP_FOLDER);\n    removeItemClass(parent, CLS.DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\nexport function removeItemClass(parent, value) {\n    var ele = parent.element.querySelectorAll('.' + value);\n    for (var i = 0; i < ele.length; i++) {\n        ele[i].classList.remove(value);\n    }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\nexport function draggingHandler(parent, args) {\n    var dragArgs = args;\n    dragArgs.fileDetails = parent.dragData;\n    var canDrop = false;\n    getTargetModule(parent, args.target);\n    removeDropTarget(parent);\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeBlur(parent, 'hover');\n    var node = null;\n    if (parent.targetModule === 'navigationpane') {\n        node = closest(args.target, 'li');\n        node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n        canDrop = true;\n        /* istanbul ignore next */\n        parent.treeExpandTimer = window.setTimeout(function () { parent.notify(events.dragging, args); }, 800);\n    }\n    else if (parent.targetModule === 'detailsview') {\n        node = closest(args.target, 'tr');\n        if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.DROP_FOLDER);\n        }\n        else if (node && !node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.DROP_FILE);\n        }\n        canDrop = true;\n    }\n    else if (parent.targetModule === 'largeiconsview') {\n        node = closest(args.target, 'li');\n        if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n        }\n        canDrop = true;\n        /* istanbul ignore next */\n    }\n    else if (parent.targetModule === 'breadcrumbbar') {\n        canDrop = true;\n    }\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n    parent.dragCount = parent.dragCount + 1;\n    parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\nexport function objectToString(data) {\n    var str = '';\n    var keys = Object.keys(data);\n    for (var i = 0; i < keys.length; i++) {\n        if (keys[i] !== 'message') {\n            str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n        }\n    }\n    return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\nexport function getItemName(parent, data) {\n    if (parent.hasId) {\n        return getValue('id', data);\n    }\n    return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function updateRenamingData(parent, data) {\n    parent.itemData = [data];\n    parent.currentItemText = getValue('name', data);\n    parent.isFile = getValue('isFile', data);\n    parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function doRename(parent) {\n    if (!hasEditAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], events.permissionEdit);\n    }\n    else {\n        createDialog(parent, 'Rename');\n    }\n}\n/* istanbul ignore next */\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function doDownload(parent) {\n    // eslint-disable-next-line\n    var items = parent.itemData;\n    for (var i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n            createDeniedDialog(parent, items[i], events.permissionDownload);\n            return;\n        }\n    }\n    if (parent.selectedItems.length > 0) {\n        Download(parent, parent.path, parent.selectedItems);\n    }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function doDeleteFiles(parent, data, newIds) {\n    for (var i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n            createDeniedDialog(parent, data[i], events.permissionEdit);\n            return;\n        }\n    }\n    parent.itemData = data;\n    Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function doDownloadFiles(parent, data, newIds) {\n    for (var i = 0; i < data.length; i++) {\n        if (!hasDownloadAccess(data[i])) {\n            createDeniedDialog(parent, data[i], events.permissionDownload);\n            return;\n        }\n    }\n    parent.itemData = data;\n    if (newIds.length > 0) {\n        Download(parent, parent.path, newIds);\n    }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function createDeniedDialog(parent, data, action) {\n    var message = getValue('message', getValue('permission', data));\n    if (message === '') {\n        message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n    }\n    var response = {\n        error: {\n            code: '401',\n            fileExists: null,\n            message: message\n        }\n    };\n    createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\nexport function getAccessClass(data) {\n    return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasReadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return (permission && !getValue('read', permission)) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasEditAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('write', permission))) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasContentAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('writeContents', permission))) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasUploadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('upload', permission))) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasDownloadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('download', permission))) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function createNewFolder(parent) {\n    // eslint-disable-next-line\n    var details = parent.itemData[0];\n    if (!hasContentAccess(details)) {\n        createDeniedDialog(parent, details, events.permissionEditContents);\n    }\n    else {\n        createDialog(parent, 'NewFolder');\n    }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function uploadItem(parent) {\n    // eslint-disable-next-line\n    var details = parent.itemData[0];\n    if (!hasUploadAccess(details)) {\n        createDeniedDialog(parent, details, events.permissionUpload);\n    }\n    else {\n        var eleId = '#' + parent.element.id + CLS.UPLOAD_ID;\n        var uploadEle = document.querySelector(eleId);\n        uploadEle.click();\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}