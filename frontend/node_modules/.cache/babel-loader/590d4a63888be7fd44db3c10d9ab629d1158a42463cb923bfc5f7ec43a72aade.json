{"ast":null,"code":"import { ListBase } from '@syncfusion/ej2-lists';\nimport { createElement, select, selectAll, EventHandler, KeyboardEvents, closest, Draggable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, addClass, removeClass, Touch, isVisible } from '@syncfusion/ej2-base';\nimport { getValue, setValue, remove } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { read, GetDetails, Delete } from '../common/operations';\nimport { doRename, getAccessClass, getPathObject, getFullPath, getDirectoryPath, rename, doDownload, getItemName } from '../common/index';\nimport { removeBlur, cutFiles, copyFiles, addBlur, openSearchFolder, removeActive, pasteHandler } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule } from '../common/index';\nimport { updateRenamingData, doDeleteFiles, doDownloadFiles } from '../common/index';\nimport { openAction, fileType, refresh, getImageUrl, getSortedData, createDeniedDialog, updateLayout } from '../common/utility';\nimport { createEmptyElement, hasReadAccess, hasEditAccess } from '../common/utility';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\n/**\n * LargeIconsView module\n */\nvar LargeIconsView = /** @class */function () {\n  /**\n   * Constructor for the LargeIcons module.\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  function LargeIconsView(parent) {\n    this.isInteraction = true;\n    this.uploadOperation = false;\n    this.count = 0;\n    this.isRendered = true;\n    this.tapCount = 0;\n    this.isPasteOperation = false;\n    this.isInteracted = true;\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n    addClass([this.element], CLS.LARGE_ICONS);\n    this.addEventListener();\n    this.keyConfigs = {\n      end: 'end',\n      home: 'home',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      ctrlUp: 'ctrl+uparrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftLeft: 'shift+leftarrow',\n      shiftRight: 'shift+rightarrow',\n      shiftUp: 'shift+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csLeft: 'ctrl+shift+leftarrow',\n      csRight: 'ctrl+shift+rightarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      ctrlA: 'ctrl+a',\n      enter: 'enter',\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: 'ctrl+x',\n      ctrlC: 'ctrl+c',\n      ctrlV: 'ctrl+v',\n      f2: 'f2',\n      shiftdel: 'shift+delete',\n      back: 'backspace',\n      ctrlD: 'ctrl+d'\n    };\n  }\n  LargeIconsView.prototype.render = function (args) {\n    this.parent.visitedItem = null;\n    this.startItem = null;\n    showSpinner(this.parent.element);\n    if (this.parent.view === 'LargeIcons') {\n      this.resetMultiSelect();\n      this.element.setAttribute('tabindex', '0');\n      if (this.listObj) {\n        this.unWireEvents();\n        this.removeEventListener();\n      }\n      this.parent.notify(events.hideLayout, {});\n      var iconsView = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n      var ul = select('ul', iconsView);\n      if (ul) {\n        remove(ul);\n      }\n      this.listObj = {\n        ariaAttributes: {\n          itemRole: 'option',\n          listRole: 'listbox',\n          itemText: '',\n          groupItemRole: 'group',\n          wrapperRole: ''\n        },\n        showIcon: true,\n        fields: {\n          text: 'name',\n          iconCss: '_fm_icon',\n          imageUrl: '_fm_imageUrl',\n          htmlAttributes: '_fm_htmlAttr'\n        },\n        sortOrder: this.parent.sortOrder,\n        itemCreated: this.onItemCreated.bind(this),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n      };\n      this.items = [];\n      this.items = this.renderList(args);\n      this.items = getSortedData(this.parent, this.items);\n      // eslint-disable-next-line\n      this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n      this.itemList = Array.prototype.slice.call(selectAll('.' + CLS.LIST_ITEM, this.listElements));\n      this.element.appendChild(this.listElements);\n      this.preventImgDrag();\n      this.createDragObj();\n      iconsView.classList.remove(CLS.DISPLAY_NONE);\n      if (this.itemList.length === 0) {\n        var emptyList = this.element.querySelector('.' + CLS.LIST_PARENT);\n        this.element.removeChild(emptyList);\n        createEmptyElement(this.parent, this.element, args);\n      } else if (this.itemList.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n        this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n      }\n      if (this.isPasteOperation === true) {\n        this.selectItems(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      }\n      /* istanbul ignore next */\n      if (this.uploadOperation === true) {\n        this.selectItems(this.parent.uploadItem);\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n        this.count++;\n        if (this.count === this.parent.uploadItem.length) {\n          this.uploadOperation = false;\n          this.parent.uploadItem = [];\n        }\n      }\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n      if (activeEle.length !== 0) {\n        this.parent.activeModule = 'largeiconsview';\n      }\n      for (var i = 0; i < activeEle.length; i++) {\n        activeEle[i].setAttribute('aria-selected', 'true');\n      }\n      this.adjustHeight();\n      this.element.style.maxHeight = '100%';\n      this.getItemCount();\n      this.addEventListener();\n      this.wireEvents();\n      this.isRendered = true;\n      hideSpinner(this.parent.element);\n      if (this.parent.selectedItems.length) {\n        this.checkItem();\n      }\n    }\n  };\n  LargeIconsView.prototype.preventImgDrag = function () {\n    var i = 0;\n    while (i < this.itemList.length) {\n      if (this.itemList[i].querySelector('img')) {\n        /* istanbul ignore next */\n        this.itemList[i].ondragstart = function () {\n          return false;\n        };\n      }\n      i++;\n    }\n  };\n  LargeIconsView.prototype.createDragObj = function () {\n    var _this = this;\n    if (!this.parent.isMobile && this.listObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n        this.dragObj = new Draggable(this.listElements, {\n          enableTailMode: true,\n          distance: 5,\n          enableAutoScroll: true,\n          dragTarget: '.' + CLS.LARGE_ICON,\n          helper: this.dragHelper.bind(this),\n          cursorAt: this.parent.dragCursorPosition,\n          dragArea: this.parent.element,\n          dragStop: dragStopHandler.bind(this, this.parent),\n          drag: draggingHandler.bind(this, this.parent),\n          clone: true,\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          }\n        });\n      } else if (this.dragObj && !this.parent.allowDragAndDrop) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n  LargeIconsView.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    var dragLi = closest(dragTarget, '.e-list-item');\n    if (!dragLi) {\n      return null;\n    }\n    if (dragLi && !dragLi.classList.contains('e-active')) {\n      this.setFocus(dragLi);\n    }\n    var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n    for (var i = 0; i < activeEle.length; i++) {\n      // eslint-disable-next-line\n      this.parent.dragData.push(this.getItemObject(activeEle[i]));\n      this.parent.activeElements.push(activeEle[i]);\n    }\n    getModule(this.parent, dragLi);\n    this.parent.dragPath = this.parent.path;\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n  LargeIconsView.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var dropLi = closest(args.target, '.e-list-item');\n      // eslint-disable-next-line\n      var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      if (dropLi) {\n        // eslint-disable-next-line\n        var info = this.getItemObject(dropLi);\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      } else {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      }\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n  LargeIconsView.prototype.getModuleName = function () {\n    return 'largeiconsview';\n  };\n  LargeIconsView.prototype.adjustHeight = function () {\n    var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n    this.element.style.height = pane.offsetHeight - bar.offsetHeight + 'px';\n  };\n  LargeIconsView.prototype.onItemCreated = function (args) {\n    args.item.removeAttribute('aria-level');\n    if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n      var textEle = args.item.querySelector('.' + CLS.LIST_TEXT);\n      var txt = getValue('name', args.curData);\n      var type = getValue('type', args.curData);\n      textEle.innerHTML = txt.substr(0, txt.length - type.length);\n    }\n    this.renderCheckbox(args);\n    var eventArgs = {\n      element: args.item,\n      fileDetails: args.curData,\n      module: 'LargeIconsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n  LargeIconsView.prototype.renderCheckbox = function (args) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n    var checkElement = createCheckBox(createElement, false, {\n      checked: false,\n      cssClass: 'e-small'\n    });\n    checkElement.setAttribute('role', 'checkbox');\n    checkElement.setAttribute('aria-checked', 'false');\n    args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n  };\n  LargeIconsView.prototype.onLayoutChange = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.destroy();\n      this.render(args);\n      /* istanbul ignore next */\n      if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' && this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n        var indexes = this.getIndexes(this.parent.selectedNodes);\n        var length_1 = 0;\n        while (length_1 < indexes.length) {\n          addBlur(this.itemList[indexes[length_1]]);\n          length_1++;\n        }\n      }\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n      if (activeEle.length !== 0) {\n        this.element.focus();\n      }\n      this.checkItem();\n      this.parent.isLayoutChange = false;\n    } else {\n      this.element.setAttribute('tabindex', '-1');\n    }\n  };\n  LargeIconsView.prototype.checkItem = function () {\n    var checkEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n    if (checkEle) {\n      var checkLength = 0;\n      while (checkLength < checkEle.length) {\n        this.checkState(checkEle[checkLength], true);\n        checkLength++;\n      }\n    }\n  };\n  // eslint-disable-next-line\n  LargeIconsView.prototype.renderList = function (args) {\n    var i = 0;\n    // eslint-disable-next-line\n    var items = JSON.parse(JSON.stringify(args.files));\n    while (i < items.length) {\n      var icon = fileType(items[i]);\n      var name_1 = getValue('name', items[i]);\n      var selected = getItemName(this.parent, items[i]);\n      var className = this.parent.selectedItems && this.parent.selectedItems.indexOf(selected) !== -1 ? CLS.LARGE_ICON + ' e-active' : CLS.LARGE_ICON;\n      if (!hasEditAccess(items[i])) {\n        className += ' ' + getAccessClass(items[i]);\n      }\n      if (icon === CLS.ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n        var imgUrl = getImageUrl(this.parent, items[i]);\n        setValue('_fm_imageUrl', imgUrl, items[i]);\n        setValue('_fm_imageAttr', {\n          alt: name_1\n        }, items[i]);\n      } else {\n        setValue('_fm_icon', icon, items[i]);\n      }\n      setValue('_fm_htmlAttr', {\n        class: className,\n        title: name_1\n      }, items[i]);\n      i++;\n    }\n    return items;\n  };\n  LargeIconsView.prototype.onFinalizeEnd = function (args) {\n    this.render(args);\n  };\n  LargeIconsView.prototype.onCreateEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.onLayoutChange(args);\n    this.clearSelect();\n    this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n    this.parent.createdItem = null;\n    this.parent.largeiconsviewModule.element.focus();\n  };\n  LargeIconsView.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.updateSelectedData();\n    }\n  };\n  LargeIconsView.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'largeiconsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n  LargeIconsView.prototype.onDeleteEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.onLayoutChange(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.clearSelect();\n  };\n  LargeIconsView.prototype.onRefreshEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.onLayoutChange(args);\n  };\n  LargeIconsView.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  };\n  LargeIconsView.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n    /* istanbul ignore next */\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n      this.parent.searchedItems = [];\n    }\n    if (this.parent.view === 'LargeIcons') {\n      removeBlur(this.parent);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.onLayoutChange(args);\n      if (this.parent.renamedItem) {\n        this.clearSelect();\n        this.addSelection(this.parent.renamedItem);\n        this.parent.renamedItem = null;\n      }\n    }\n  };\n  LargeIconsView.prototype.onOpenInit = function (args) {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.doOpenAction(args.target);\n    }\n  };\n  LargeIconsView.prototype.onHideLayout = function () {\n    if (this.parent.view !== 'LargeIcons' && this.element) {\n      this.element.classList.add(CLS.DISPLAY_NONE);\n    }\n  };\n  LargeIconsView.prototype.onSelectAllInit = function () {\n    if (this.parent.view === 'LargeIcons') {\n      this.startItem = this.getFirstItem();\n      var lastItem = this.getLastItem();\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      this.doSelection(lastItem, eveArgs);\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  };\n  LargeIconsView.prototype.onClearAllInit = function () {\n    if (this.parent.view === 'LargeIcons') {\n      this.clearSelection();\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  };\n  LargeIconsView.prototype.onBeforeRequest = function () {\n    this.isRendered = false;\n  };\n  LargeIconsView.prototype.onAfterRequest = function () {\n    this.isRendered = true;\n  };\n  /* istanbul ignore next */\n  LargeIconsView.prototype.onSearch = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(events.selectionChanged, {});\n      this.parent.searchedItems = args.files;\n      this.onLayoutChange(args);\n    }\n  };\n  LargeIconsView.prototype.onLayoutRefresh = function () {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.adjustHeight();\n  };\n  LargeIconsView.prototype.onUpdateSelectionData = function () {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    this.updateSelectedData();\n  };\n  LargeIconsView.prototype.onPathColumn = function () {\n    if (this.parent.view === 'LargeIcons' && !isNOU(this.listObj) && this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered && this.parent.sortBy === 'filterPath') {\n      this.parent.sortBy = 'name';\n      this.parent.notify(events.sortByChange, {});\n    }\n  };\n  LargeIconsView.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.pathColumn, this.onPathColumn);\n    this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.selectedData, this.onSelectedData);\n    this.parent.off(events.deleteInit, this.onDeleteInit);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.refreshEnd, this.onRefreshEnd);\n    this.parent.off(events.pathChanged, this.onPathChanged);\n    this.parent.off(events.layoutChange, this.onLayoutChange);\n    this.parent.off(events.search, this.onSearch);\n    this.parent.off(events.openInit, this.onOpenInit);\n    this.parent.off(events.openEnd, this.onPathChanged);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.methodCall, this.onMethodCall);\n    this.parent.off(events.actionFailure, this.onActionFailure);\n    this.parent.off(events.renameInit, this.onRenameInit);\n    this.parent.off(events.renameEnd, this.onPathChanged);\n    this.parent.off(events.hideLayout, this.onHideLayout);\n    this.parent.off(events.selectAllInit, this.onSelectAllInit);\n    this.parent.off(events.clearAllInit, this.onClearAllInit);\n    this.parent.off(events.menuItemData, this.onMenuItemData);\n    this.parent.off(events.beforeRequest, this.onBeforeRequest);\n    this.parent.off(events.afterRequest, this.onAfterRequest);\n    this.parent.off(events.splitterResize, this.splitterResizeHandler);\n    this.parent.off(events.resizeEnd, this.resizeHandler);\n    this.parent.off(events.pasteInit, this.onpasteInit);\n    this.parent.off(events.pasteEnd, this.onpasteEnd);\n    this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.detailsInit, this.onDetailsInit);\n    this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(events.dropPath, this.onDropPath);\n    this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n    this.parent.off(events.filterEnd, this.onPathChanged);\n  };\n  LargeIconsView.prototype.addEventListener = function () {\n    this.parent.on(events.pathColumn, this.onPathColumn, this);\n    this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(events.selectedData, this.onSelectedData, this);\n    this.parent.on(events.pathChanged, this.onPathChanged, this);\n    this.parent.on(events.deleteInit, this.onDeleteInit, this);\n    this.parent.on(events.pasteInit, this.onpasteInit, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.layoutChange, this.onLayoutChange, this);\n    this.parent.on(events.search, this.onSearch, this);\n    this.parent.on(events.openInit, this.onOpenInit, this);\n    this.parent.on(events.renameInit, this.onRenameInit, this);\n    this.parent.on(events.renameEnd, this.onPathChanged, this);\n    this.parent.on(events.openEnd, this.onPathChanged, this);\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.methodCall, this.onMethodCall, this);\n    this.parent.on(events.actionFailure, this.onActionFailure, this);\n    this.parent.on(events.hideLayout, this.onHideLayout, this);\n    this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n    this.parent.on(events.menuItemData, this.onMenuItemData, this);\n    this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(events.afterRequest, this.onAfterRequest, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.detailsInit, this.onDetailsInit, this);\n    this.parent.on(events.splitterResize, this.splitterResizeHandler, this);\n    this.parent.on(events.resizeEnd, this.resizeHandler, this);\n    this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n    this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(events.dropPath, this.onDropPath, this);\n    this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n    this.parent.on(events.filterEnd, this.onPathChanged, this);\n  };\n  LargeIconsView.prototype.onActionFailure = function () {\n    this.isInteraction = true;\n    this.isInteracted = true;\n  };\n  // eslint-disable-next-line\n  LargeIconsView.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var ele = closest(args.target, 'li');\n      this.parent.itemData = [this.getItemObject(ele)];\n    }\n  };\n  LargeIconsView.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.updateSelectedData();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  };\n  LargeIconsView.prototype.onpasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath === '' ? [getPathObject(this.parent)] : [this.getItemObject(select('.e-active', this.element))];\n    }\n  };\n  LargeIconsView.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n      this.parent.activeRecords = [];\n      this.parent.activeElements = [];\n      for (var i = 0; i < activeEle.length; i++) {\n        this.parent.activeElements.push(activeEle[i]);\n        this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n      }\n    }\n  };\n  LargeIconsView.prototype.onpasteEnd = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  };\n  LargeIconsView.prototype.onDropPath = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  };\n  LargeIconsView.prototype.onPropertyChanged = function (e) {\n    var currentSelected;\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n        case 'height':\n          this.adjustHeight();\n          break;\n        case 'selectedItems':\n          this.isInteraction = false;\n          this.isInteracted = false;\n          currentSelected = isNOU(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n          currentSelected = this.parent.allowMultiSelection ? currentSelected : currentSelected.slice(currentSelected.length - 1);\n          this.parent.setProperties({\n            selectedItems: []\n          }, true);\n          this.onClearAllInit();\n          if (currentSelected.length) {\n            this.selectItems(currentSelected);\n          }\n          this.parent.setProperties({\n            selectedItems: this.parent.selectedItems\n          }, true);\n          this.isInteraction = true;\n          this.isInteracted = true;\n          break;\n        case 'showThumbnail':\n          refresh(this.parent);\n          break;\n        case 'showFileExtension':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'showHiddenItems':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'allowMultiSelection':\n          if (this.parent.view !== 'LargeIcons') {\n            break;\n          }\n          refresh(this.parent);\n          break;\n        case 'view':\n          updateLayout(this.parent, 'LargeIcons');\n          break;\n      }\n    }\n  };\n  LargeIconsView.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.removeEventListener();\n    if (this.listObj) {\n      this.unWireEvents();\n    }\n  };\n  LargeIconsView.prototype.wireEvents = function () {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n  };\n  LargeIconsView.prototype.unWireEvents = function () {\n    this.wireClickEvent(false);\n    EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n  };\n  /* istanbul ignore next */\n  LargeIconsView.prototype.onMouseOver = function (e) {\n    var targetEle = closest(e.target, '.e-list-item');\n    removeBlur(this.parent, 'hover');\n    if (targetEle !== null) {\n      targetEle.classList.add(CLS.HOVER);\n    }\n  };\n  LargeIconsView.prototype.wireClickEvent = function (toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      var proxy_1 = this;\n      this.clickObj = new Touch(this.element, {\n        tap: function (eve) {\n          eve.originalEvent.preventDefault();\n          if (proxy_1.parent.isDevice) {\n            proxy_1.tapCount = eve.tapCount;\n            proxy_1.tapEvent = eve;\n            setTimeout(function () {\n              if (proxy_1.tapCount > 0) {\n                proxy_1.doTapAction(proxy_1.tapEvent);\n              }\n              proxy_1.tapCount = 0;\n            }, 350);\n          } else {\n            if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n              proxy_1.dblClickHandler(eve);\n            } else {\n              proxy_1.clickHandler(eve);\n            }\n          }\n        },\n        tapHold: function (e) {\n          if (proxy_1.parent.isDevice) {\n            proxy_1.multiSelect = proxy_1.parent.allowMultiSelection ? true : false;\n            if (proxy_1.parent.allowMultiSelection) {\n              addClass([proxy_1.parent.element], CLS.MULTI_SELECT);\n            }\n            proxy_1.clickHandler(e);\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  };\n  LargeIconsView.prototype.doTapAction = function (eve) {\n    var target = eve.originalEvent.target;\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n    if (this.multiSelect || target.classList.contains(CLS.LIST_PARENT) || isNOU(item)) {\n      this.clickHandler(eve);\n    } else {\n      this.parent.isFile = false;\n      this.updateType(item);\n      if (!this.parent.isFile) {\n        this.dblClickHandler(eve);\n      } else if (eve.tapCount === 2) {\n        this.clickHandler(eve);\n        this.dblClickHandler(eve);\n      } else {\n        this.clickHandler(eve);\n      }\n    }\n  };\n  LargeIconsView.prototype.clickHandler = function (e) {\n    var target = e.originalEvent.target;\n    removeBlur(this.parent, 'hover');\n    this.doSelection(target, e.originalEvent);\n    this.parent.activeModule = 'largeiconsview';\n  };\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n   * @returns {void}\n   * @hidden\n   */\n  LargeIconsView.prototype.doSelection = function (target, e) {\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n    var cList = target.classList;\n    this.parent.isFile = false;\n    var action = 'select';\n    if (e.which === 3 && !isNOU(item) && item.classList.contains(CLS.ACTIVE)) {\n      this.updateType(item);\n      return;\n    } else if (!isNOU(item)) {\n      if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE) && (e.ctrlKey || target.classList.contains(CLS.CHECK))) {\n        action = 'unselect';\n      }\n      var fileSelectionArgs = this.triggerSelection(action, item);\n      if (fileSelectionArgs.cancel !== true) {\n        if ((!this.parent.allowMultiSelection || !this.multiSelect && e && !e.ctrlKey) && !cList.contains(CLS.FRAME)) {\n          this.updateType(item);\n          this.clearSelect();\n        }\n        if (this.parent.allowMultiSelection && e.shiftKey) {\n          if (!(e && e.ctrlKey)) {\n            this.clearSelect();\n          }\n          if (!this.startItem) {\n            this.startItem = item;\n          }\n          var startIndex = this.itemList.indexOf(this.startItem);\n          var endIndex = this.itemList.indexOf(item);\n          if (startIndex > endIndex) {\n            for (var i = startIndex; i >= endIndex; i--) {\n              this.addActive(this.itemList[i]);\n            }\n          } else {\n            for (var i = startIndex; i <= endIndex; i++) {\n              this.addActive(this.itemList[i]);\n            }\n          }\n          this.addFocus(this.itemList[endIndex]);\n        } else {\n          this.startItem = item;\n          if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)) {\n            this.removeActive(item);\n          } else {\n            this.addActive(item);\n          }\n          this.addFocus(item);\n        }\n        if (this.parent.selectedItems.length === 0) {\n          this.resetMultiSelect();\n        }\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect(action, item);\n      }\n    } else {\n      this.clearSelection();\n    }\n    if (!isNOU(item)) {\n      this.updateType(item);\n    }\n  };\n  LargeIconsView.prototype.dblClickHandler = function (e) {\n    this.parent.activeModule = 'largeiconsview';\n    var target = e.originalEvent.target;\n    this.doOpenAction(target);\n  };\n  LargeIconsView.prototype.clearSelection = function () {\n    this.clearSelect();\n    this.resetMultiSelect();\n    this.parent.notify(events.selectionChanged, {});\n  };\n  LargeIconsView.prototype.resetMultiSelect = function () {\n    this.multiSelect = false;\n    removeClass([this.parent.element], CLS.MULTI_SELECT);\n  };\n  LargeIconsView.prototype.doOpenAction = function (target) {\n    var _this = this;\n    if (isNOU(target)) {\n      return;\n    }\n    var item = closest(target, '.' + CLS.LIST_ITEM);\n    this.parent.isFile = false;\n    if (!isNOU(item)) {\n      this.updateType(item);\n      // eslint-disable-next-line\n      var details_1 = this.getItemObject(item);\n      if (!hasReadAccess(details_1)) {\n        createDeniedDialog(this.parent, details_1, events.permissionRead);\n        return;\n      }\n      var eventArgs = {\n        cancel: false,\n        fileDetails: details_1,\n        module: 'LargeIconsView'\n      };\n      this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n        if (!fileOpenArgs.cancel) {\n          var text = getValue('name', details_1);\n          if (!_this.parent.isFile) {\n            var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n            if (val === '' && !_this.parent.isFiltered) {\n              var id = getValue('id', details_1);\n              var newPath = _this.parent.path + (isNOU(id) ? text : id) + '/';\n              _this.parent.setProperties({\n                path: newPath\n              }, true);\n              _this.parent.pathNames.push(text);\n              _this.parent.pathId.push(getValue('_fm_id', details_1));\n              _this.parent.itemData = [details_1];\n              openAction(_this.parent);\n            } else {\n              openSearchFolder(_this.parent, details_1);\n            }\n            _this.parent.isFiltered = false;\n            _this.parent.setProperties({\n              selectedItems: []\n            }, true);\n          } else {\n            var icon = fileType(details_1);\n            if (icon === CLS.ICON_IMAGE) {\n              var imgUrl = getImageUrl(_this.parent, details_1);\n              createImageDialog(_this.parent, text, imgUrl);\n            }\n          }\n        }\n      });\n    }\n  };\n  LargeIconsView.prototype.updateType = function (item) {\n    var folder = select('.' + CLS.FOLDER, item);\n    this.parent.isFile = isNOU(folder) ? true : false;\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n  LargeIconsView.prototype.keydownActionHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'moveDown':\n      case 'moveLeft':\n      case 'moveRight':\n      case 'moveUp':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n      default:\n        break;\n    }\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n  LargeIconsView.prototype.keyActionHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    var fItem = this.getFocusedItem();\n    var firstItem = this.getFirstItem();\n    var lastItem = this.getLastItem();\n    switch (e.action) {\n      case 'end':\n        this.navigateItem(lastItem);\n        break;\n      case 'home':\n        this.navigateItem(firstItem);\n        break;\n      case 'tab':\n        if (!isNOU(fItem)) {\n          this.addFocus(fItem);\n        } else if (!isNOU(firstItem)) {\n          this.addFocus(firstItem);\n        }\n        break;\n      case 'moveDown':\n        this.navigateDown(fItem, true);\n        break;\n      case 'moveLeft':\n        this.navigateRight(fItem, false);\n        break;\n      case 'moveRight':\n        this.navigateRight(fItem, true);\n        break;\n      case 'moveUp':\n        this.navigateDown(fItem, false);\n        break;\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n        this.csEndKey(lastItem, e);\n        break;\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n        this.csHomeKey(firstItem, e);\n        break;\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n        this.csDownKey(fItem, e);\n        break;\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n        this.csLeftKey(fItem, e);\n        break;\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n        this.csRightKey(fItem, e);\n        break;\n      case 'ctrlUp':\n      case 'shiftUp':\n      case 'csUp':\n        this.csUpKey(fItem, e);\n        break;\n      case 'space':\n        this.spaceKey(fItem);\n        break;\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n        if (!isNOU(fItem)) {\n          this.doSelection(fItem, e);\n        }\n        break;\n      case 'ctrlA':\n        this.ctrlAKey(firstItem, lastItem);\n        break;\n      case 'enter':\n        this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n        break;\n      case 'altEnter':\n        this.parent.notify(events.detailsInit, {});\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n      case 'esc':\n        removeActive(this.parent);\n        break;\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n      case 'f2':\n        this.performRename();\n        break;\n      case 'ctrlD':\n        this.doDownload();\n        break;\n    }\n  };\n  LargeIconsView.prototype.doDownload = function () {\n    this.updateSelectedData();\n    doDownload(this.parent);\n  };\n  LargeIconsView.prototype.performDelete = function () {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.updateSelectedData();\n      // eslint-disable-next-line\n      var data = this.parent.itemData;\n      for (var i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n          createDeniedDialog(this.parent, data[i], events.permissionEdit);\n          return;\n        }\n      }\n      createDialog(this.parent, 'Delete');\n    }\n  };\n  LargeIconsView.prototype.performRename = function () {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  };\n  LargeIconsView.prototype.updateRenameData = function () {\n    var item = select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    updateRenamingData(this.parent, data);\n  };\n  LargeIconsView.prototype.getVisitedItem = function () {\n    var item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n    var indexes = this.getIndexes([item], this.parent.hasId);\n    return this.itemList[indexes[0]];\n  };\n  LargeIconsView.prototype.getFocusedItem = function () {\n    return select('.' + CLS.LIST_ITEM + '.' + CLS.FOCUS, this.element);\n  };\n  LargeIconsView.prototype.getActiveItem = function () {\n    return select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n  };\n  LargeIconsView.prototype.getFirstItem = function () {\n    return this.itemList[0];\n  };\n  LargeIconsView.prototype.getLastItem = function () {\n    return this.itemList[this.itemList.length - 1];\n  };\n  LargeIconsView.prototype.navigateItem = function (item) {\n    this.setFocus(item);\n  };\n  LargeIconsView.prototype.navigateDown = function (fItem, isTowards) {\n    var nItem = this.getNextItem(fItem, isTowards, this.perRow);\n    this.setFocus(nItem);\n  };\n  LargeIconsView.prototype.navigateRight = function (fItem, isTowards) {\n    var nItem = this.getNextItem(fItem, isTowards);\n    this.setFocus(nItem);\n  };\n  LargeIconsView.prototype.getNextItem = function (li, isTowards, perRow) {\n    if (isNOU(li)) {\n      return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n    }\n    var index = this.itemList.indexOf(li);\n    var nextItem;\n    do {\n      if (isTowards) {\n        index = perRow ? index + perRow : index + 1;\n      } else {\n        index = perRow ? index - perRow : index - 1;\n      }\n      nextItem = this.itemList[index];\n      if (isNOU(nextItem)) {\n        return li;\n      }\n    } while (!isVisible(nextItem));\n    return nextItem;\n  };\n  LargeIconsView.prototype.setFocus = function (nextItem) {\n    if (!isNOU(nextItem)) {\n      var fileSelectionArgs = this.triggerSelection('select', nextItem);\n      if (fileSelectionArgs.cancel !== true) {\n        this.startItem = nextItem;\n        this.clearSelect();\n        this.addActive(nextItem);\n        this.addFocus(nextItem);\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('select', nextItem);\n      }\n    }\n  };\n  LargeIconsView.prototype.spaceKey = function (fItem) {\n    if (!isNOU(fItem) && !fItem.classList.contains(CLS.ACTIVE)) {\n      var fileSelectionArgs = this.triggerSelection('select', fItem);\n      if (fileSelectionArgs.cancel !== true) {\n        this.addActive(fItem);\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('select', fItem);\n      }\n    }\n  };\n  LargeIconsView.prototype.ctrlAKey = function (firstItem, lastItem) {\n    if (this.parent.allowMultiSelection && !isNOU(firstItem)) {\n      this.startItem = firstItem;\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      var liParent = this.element.querySelector('.' + CLS.LIST_PARENT);\n      var liScrPos = liParent.scrollTop;\n      var getCurFocusedItem = this.getFocusedItem();\n      this.doSelection(lastItem, eveArgs);\n      liParent.scrollTop = liScrPos;\n      if (!isNOU(getCurFocusedItem)) {\n        this.addFocus(getCurFocusedItem);\n      }\n    }\n  };\n  LargeIconsView.prototype.csEndKey = function (lastItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(lastItem);\n    } else if (!isNOU(lastItem)) {\n      if (e.action === 'ctrlEnd') {\n        this.addFocus(lastItem);\n      } else {\n        this.doSelection(lastItem, e);\n      }\n    }\n  };\n  LargeIconsView.prototype.csHomeKey = function (firstItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(firstItem);\n    } else if (!isNOU(firstItem)) {\n      if (e.action === 'ctrlHome') {\n        this.addFocus(firstItem);\n      } else {\n        this.doSelection(firstItem, e);\n      }\n    }\n  };\n  LargeIconsView.prototype.csDownKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, true);\n    } else {\n      var dItem = this.getNextItem(fItem, true, this.perRow);\n      if (!isNOU(dItem)) {\n        if (e.action === 'ctrlDown') {\n          this.addFocus(dItem);\n        } else {\n          this.doSelection(dItem, e);\n        }\n      }\n    }\n  };\n  LargeIconsView.prototype.csLeftKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, false);\n    } else {\n      var lItem = this.getNextItem(fItem, false);\n      if (!isNOU(lItem)) {\n        if (e.action === 'ctrlLeft') {\n          this.addFocus(lItem);\n        } else {\n          this.doSelection(lItem, e);\n        }\n      }\n    }\n  };\n  LargeIconsView.prototype.csRightKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, true);\n    } else {\n      var rItem = this.getNextItem(fItem, true);\n      if (!isNOU(rItem)) {\n        if (e.action === 'ctrlRight') {\n          this.addFocus(rItem);\n        } else {\n          this.doSelection(rItem, e);\n        }\n      }\n    }\n  };\n  LargeIconsView.prototype.csUpKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, false);\n    } else {\n      var uItem = this.getNextItem(fItem, false, this.perRow);\n      if (!isNOU(uItem)) {\n        if (e.action === 'ctrlUp') {\n          this.addFocus(uItem);\n        } else {\n          this.doSelection(uItem, e);\n        }\n      }\n    }\n  };\n  LargeIconsView.prototype.addActive = function (nextItem) {\n    if (!isNOU(nextItem)) {\n      if (!nextItem.classList.contains(CLS.ACTIVE)) {\n        this.parent.selectedItems.push(this.getDataName(nextItem));\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n        addClass([nextItem], [CLS.ACTIVE]);\n        nextItem.setAttribute('aria-selected', 'true');\n        this.checkState(nextItem, true);\n      }\n      this.parent.visitedItem = nextItem;\n    }\n  };\n  LargeIconsView.prototype.removeActive = function (preItem) {\n    if (!isNOU(preItem)) {\n      removeClass([preItem], [CLS.ACTIVE]);\n      if (this.parent.allowMultiSelection) {\n        preItem.setAttribute('aria-selected', 'false');\n      } else {\n        preItem.removeAttribute('aria-selected');\n      }\n      this.checkState(preItem, false);\n      var index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n      if (index > -1) {\n        this.parent.selectedItems.splice(index, 1);\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n      }\n      this.parent.visitedItem = null;\n    }\n  };\n  LargeIconsView.prototype.getDataName = function (item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    return getItemName(this.parent, data);\n  };\n  LargeIconsView.prototype.addFocus = function (item) {\n    this.element.setAttribute('tabindex', '-1');\n    var fItem = this.getFocusedItem();\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [CLS.FOCUS]);\n    }\n    addClass([item], [CLS.FOCUS]);\n    item.setAttribute('tabindex', '0');\n    item.focus();\n  };\n  LargeIconsView.prototype.checkState = function (item, toCheck) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n    var checkEle = select('.' + CLS.FRAME, item);\n    if (isNOU(checkEle)) {\n      return;\n    }\n    if (toCheck) {\n      if (!checkEle.classList.contains(CLS.CHECK)) {\n        addClass([checkEle], CLS.CHECK);\n        closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'true');\n      }\n    } else {\n      if (checkEle.classList.contains(CLS.CHECK)) {\n        removeClass([checkEle], CLS.CHECK);\n        closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'false');\n      }\n    }\n  };\n  LargeIconsView.prototype.clearSelect = function () {\n    var eles = Array.prototype.slice.call(selectAll('.' + CLS.ACTIVE, this.listElements));\n    var fileSelectionArgs;\n    if (eles.length !== 0) {\n      fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n      if (fileSelectionArgs.cancel !== true) {\n        for (var i = 0, len = eles.length; i < len; i++) {\n          this.removeActive(eles[i]);\n        }\n      }\n      this.triggerSelect('unselect', eles[0]);\n    }\n  };\n  LargeIconsView.prototype.resizeHandler = function () {\n    this.getItemCount();\n    if (!isNOU(this.listObj)) {\n      this.adjustHeight();\n    }\n  };\n  LargeIconsView.prototype.splitterResizeHandler = function () {\n    this.getItemCount();\n  };\n  LargeIconsView.prototype.getItemCount = function () {\n    var perRow = 1;\n    if (this.itemList) {\n      for (var i = 0, len = this.itemList.length - 1; i < len; i++) {\n        if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n          perRow++;\n        } else {\n          break;\n        }\n      }\n    }\n    this.perRow = perRow;\n  };\n  LargeIconsView.prototype.triggerSelection = function (action, item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    var eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteraction,\n      cancel: false,\n      target: item\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    this.isInteraction = true;\n    return eventArgs;\n  };\n  LargeIconsView.prototype.triggerSelect = function (action, item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    this.parent.visitedData = data;\n    var eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteracted\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.isInteracted = true;\n  };\n  LargeIconsView.prototype.selectItems = function (items) {\n    var indexes = this.getIndexes(items, this.parent.hasId);\n    for (var j = 0, len = indexes.length; j < len; j++) {\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[indexes[j]], eveArgs);\n    }\n  };\n  LargeIconsView.prototype.getIndexes = function (items, byId) {\n    var indexes = [];\n    var filter = byId ? 'id' : 'name';\n    for (var i = 0, len = this.items.length; i < len; i++) {\n      if (items.indexOf(getValue(filter, this.items[i])) !== -1) {\n        indexes.push(i);\n      }\n    }\n    return indexes;\n  };\n  // eslint-disable-next-line\n  LargeIconsView.prototype.getItemObject = function (item) {\n    var index = this.itemList.indexOf(item);\n    return this.items[index];\n  };\n  // eslint-disable-next-line\n  LargeIconsView.prototype.addSelection = function (data) {\n    // eslint-disable-next-line\n    var resultData = [];\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      var newData = new DataManager(this.items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n      if (newData.length > 0) {\n        resultData = new DataManager(newData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n    if (resultData.length > 0) {\n      var index = this.items.indexOf(resultData[0]);\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[index], eveArgs);\n    }\n  };\n  LargeIconsView.prototype.updateSelectedData = function () {\n    // eslint-disable-next-line\n    var data = [];\n    var items = selectAll('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n    for (var i = 0; i < items.length; i++) {\n      data[i] = this.getItemObject(items[i]);\n    }\n    this.parent.itemData = data;\n  };\n  // eslint-disable-next-line\n  LargeIconsView.prototype.onMethodCall = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n    var action = getValue('action', args);\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', args));\n        break;\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', args));\n        break;\n      case 'openFile':\n        this.openFile(getValue('id', args));\n        break;\n      case 'renameFile':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.renameFile(getValue('id', args), getValue('newName', args));\n        break;\n      case 'createFolder':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        break;\n      case 'clearSelection':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onClearAllInit();\n        break;\n      case 'selectAll':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onSelectAllInit();\n        break;\n    }\n  };\n  LargeIconsView.prototype.getItemsIndex = function (items) {\n    var indexes = [];\n    var isFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    var filterName = this.parent.hasId ? 'id' : 'name';\n    if (this.parent.hasId || !isFilter) {\n      for (var i = 0, len = this.items.length; i < len; i++) {\n        if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    } else {\n      for (var i = 0, len = this.items.length; i < len; i++) {\n        var name_2 = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n        if (items.indexOf(name_2) !== -1) {\n          indexes.push(i);\n        }\n      }\n    }\n    return indexes;\n  };\n  LargeIconsView.prototype.deleteFiles = function (ids) {\n    this.parent.activeModule = 'largeiconsview';\n    if (isNOU(ids)) {\n      this.performDelete();\n      return;\n    }\n    var indexes = this.getItemsIndex(ids);\n    if (indexes.length === 0) {\n      return;\n    }\n    // eslint-disable-next-line\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < indexes.length; i++) {\n      data[i] = this.items[indexes[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDeleteFiles(this.parent, data, newIds);\n  };\n  LargeIconsView.prototype.downloadFiles = function (ids) {\n    if (isNOU(ids)) {\n      this.doDownload();\n      return;\n    }\n    var index = this.getItemsIndex(ids);\n    if (index.length === 0) {\n      return;\n    }\n    // eslint-disable-next-line\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < index.length; i++) {\n      data[i] = this.items[index[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDownloadFiles(this.parent, data, newIds);\n  };\n  LargeIconsView.prototype.openFile = function (id) {\n    if (isNOU(id)) {\n      return;\n    }\n    var indexes = this.getItemsIndex([id]);\n    if (indexes.length > 0) {\n      this.doOpenAction(this.itemList[indexes[0]]);\n    }\n  };\n  LargeIconsView.prototype.renameFile = function (id, name) {\n    this.parent.activeModule = 'largeiconsview';\n    if (isNOU(id)) {\n      this.performRename();\n      return;\n    }\n    var indexes = this.getItemsIndex([id]);\n    if (indexes.length > 0) {\n      updateRenamingData(this.parent, this.items[indexes[0]]);\n      if (isNOU(name)) {\n        doRename(this.parent);\n      } else {\n        if (!hasEditAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n        } else {\n          rename(this.parent, this.parent.path, name);\n        }\n      }\n    }\n  };\n  return LargeIconsView;\n}();\nexport { LargeIconsView };","map":{"version":3,"names":["ListBase","createElement","select","selectAll","EventHandler","KeyboardEvents","closest","Draggable","isNullOrUndefined","isNOU","addClass","removeClass","Touch","isVisible","getValue","setValue","remove","DataManager","Query","hideSpinner","showSpinner","events","CLS","createCheckBox","read","GetDetails","Delete","doRename","getAccessClass","getPathObject","getFullPath","getDirectoryPath","rename","doDownload","getItemName","removeBlur","cutFiles","copyFiles","addBlur","openSearchFolder","removeActive","pasteHandler","createVirtualDragElement","dragStopHandler","dragStartHandler","draggingHandler","getModule","updateRenamingData","doDeleteFiles","doDownloadFiles","openAction","fileType","refresh","getImageUrl","getSortedData","createDeniedDialog","updateLayout","createEmptyElement","hasReadAccess","hasEditAccess","createDialog","createImageDialog","LargeIconsView","parent","isInteraction","uploadOperation","count","isRendered","tapCount","isPasteOperation","isInteracted","element","id","LARGEICON_ID","LARGE_ICONS","addEventListener","keyConfigs","end","home","tab","moveDown","moveLeft","moveRight","moveUp","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","ctrlUp","shiftEnd","shiftHome","shiftDown","shiftLeft","shiftRight","shiftUp","csEnd","csHome","csDown","csLeft","csRight","csUp","space","ctrlSpace","shiftSpace","csSpace","ctrlA","enter","altEnter","esc","del","ctrlX","ctrlC","ctrlV","f2","shiftdel","back","ctrlD","prototype","render","args","visitedItem","startItem","view","resetMultiSelect","setAttribute","listObj","unWireEvents","removeEventListener","notify","hideLayout","iconsView","ul","ariaAttributes","itemRole","listRole","itemText","groupItemRole","wrapperRole","showIcon","fields","text","iconCss","imageUrl","htmlAttributes","sortOrder","itemCreated","onItemCreated","bind","enableHtmlSanitizer","items","renderList","listElements","createListFromJson","itemList","Array","slice","call","LIST_ITEM","appendChild","preventImgDrag","createDragObj","classList","DISPLAY_NONE","length","emptyList","querySelector","LIST_PARENT","removeChild","EMPTY","selectItems","pasteNodes","uploadItem","setProperties","selectedItems","activeEle","querySelectorAll","ACTIVE","activeModule","i","adjustHeight","style","maxHeight","getItemCount","wireEvents","checkItem","ondragstart","_this","isMobile","allowDragAndDrop","dragObj","destroy","enableTailMode","distance","enableAutoScroll","dragTarget","LARGE_ICON","helper","dragHelper","cursorAt","dragCursorPosition","dragArea","dragStop","drag","clone","dragStart","sender","target","dragLi","contains","setFocus","activeElements","dragData","push","getItemObject","dragPath","path","virtualDragElement","onDropInit","targetModule","getModuleName","dropLi","cwdData","pathId","feParent","info","dropPath","isFile","dropData","pane","CONTENT_ID","bar","BREADCRUMBBAR_ID","height","offsetHeight","item","removeAttribute","showFileExtension","curData","textEle","LIST_TEXT","txt","type","innerHTML","substr","renderCheckbox","eventArgs","fileDetails","module","trigger","allowMultiSelection","checkElement","checked","cssClass","firstElementChild","insertBefore","childNodes","onLayoutChange","fileAction","isCut","selectedNodes","indexes","getIndexes","length_1","focus","isLayoutChange","checkEle","checkLength","checkState","JSON","parse","stringify","files","icon","name_1","selected","className","indexOf","ICON_IMAGE","showThumbnail","imgUrl","alt","class","title","onFinalizeEnd","onCreateEnd","clearSelect","hasId","createdItem","largeiconsviewModule","onSelectedData","updateSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onRenameInit","updateRenameData","onPathChanged","breadcrumbbarModule","searchObj","value","searchedItems","renamedItem","addSelection","onOpenInit","doOpenAction","onHideLayout","add","onSelectAllInit","getFirstItem","lastItem","getLastItem","eveArgs","ctrlKey","shiftKey","doSelection","onClearAllInit","clearSelection","onBeforeRequest","onAfterRequest","onSearch","selectionChanged","onLayoutRefresh","onUpdateSelectionData","onPathColumn","isFiltered","sortBy","sortByChange","isDestroyed","off","pathColumn","finalizeEnd","createEnd","selectedData","deleteInit","deleteEnd","refreshEnd","pathChanged","layoutChange","search","openInit","openEnd","modelChanged","onPropertyChanged","methodCall","onMethodCall","actionFailure","onActionFailure","renameInit","renameEnd","selectAllInit","clearAllInit","menuItemData","onMenuItemData","beforeRequest","afterRequest","splitterResize","splitterResizeHandler","resizeEnd","resizeHandler","pasteInit","onpasteInit","pasteEnd","onpasteEnd","cutCopyInit","oncutCopyInit","dropInit","detailsInit","onDetailsInit","layoutRefresh","onDropPath","updateSelectionData","filterEnd","on","ele","itemData","folderPath","activeRecords","destinationPath","e","currentSelected","_i","_a","Object","keys","newProp","prop","wireClickEvent","keyboardModule","keyAction","keyActionHandler","eventName","keyboardDownModule","keydownActionHandler","onMouseOver","targetEle","HOVER","toBind","proxy_1","clickObj","tap","eve","originalEvent","preventDefault","isDevice","tapEvent","setTimeout","doTapAction","which","dblClickHandler","clickHandler","tapHold","multiSelect","MULTI_SELECT","updateType","cList","action","CHECK","fileSelectionArgs","triggerSelection","cancel","FRAME","startIndex","endIndex","addActive","addFocus","triggerSelect","details_1","permissionRead","fileOpenArgs","val","newPath","pathNames","folder","FOLDER","fItem","getFocusedItem","firstItem","navigateItem","navigateDown","navigateRight","csEndKey","csHomeKey","csDownKey","csLeftKey","csRightKey","csUpKey","spaceKey","ctrlAKey","getVisitedItem","performDelete","performRename","data","permissionEdit","FOCUS","getActiveItem","isTowards","nItem","getNextItem","perRow","li","index","nextItem","liParent","liScrPos","scrollTop","getCurFocusedItem","dItem","lItem","rItem","uItem","getDataName","preItem","splice","toCheck","CB_WRAP","eles","len","getBoundingClientRect","top","visitedData","j","byId","filter","resultData","executeLocal","where","renamedId","newData","filterPath","deleteFiles","downloadFiles","openFile","renameFile","getItemsIndex","isFilter","filterName","name_2","ids","newIds","name"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-filemanager/src/file-manager/layout/large-icons-view.js"],"sourcesContent":["import { ListBase } from '@syncfusion/ej2-lists';\nimport { createElement, select, selectAll, EventHandler, KeyboardEvents, closest, Draggable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, addClass, removeClass, Touch, isVisible } from '@syncfusion/ej2-base';\nimport { getValue, setValue, remove } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { read, GetDetails, Delete } from '../common/operations';\nimport { doRename, getAccessClass, getPathObject, getFullPath, getDirectoryPath, rename, doDownload, getItemName } from '../common/index';\nimport { removeBlur, cutFiles, copyFiles, addBlur, openSearchFolder, removeActive, pasteHandler } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule } from '../common/index';\nimport { updateRenamingData, doDeleteFiles, doDownloadFiles } from '../common/index';\nimport { openAction, fileType, refresh, getImageUrl, getSortedData, createDeniedDialog, updateLayout } from '../common/utility';\nimport { createEmptyElement, hasReadAccess, hasEditAccess } from '../common/utility';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\n/**\n * LargeIconsView module\n */\nvar LargeIconsView = /** @class */ (function () {\n    /**\n     * Constructor for the LargeIcons module.\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    function LargeIconsView(parent) {\n        this.isInteraction = true;\n        this.uploadOperation = false;\n        this.count = 0;\n        this.isRendered = true;\n        this.tapCount = 0;\n        this.isPasteOperation = false;\n        this.isInteracted = true;\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n        addClass([this.element], CLS.LARGE_ICONS);\n        this.addEventListener();\n        this.keyConfigs = {\n            end: 'end',\n            home: 'home',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            ctrlUp: 'ctrl+uparrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftLeft: 'shift+leftarrow',\n            shiftRight: 'shift+rightarrow',\n            shiftUp: 'shift+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csLeft: 'ctrl+shift+leftarrow',\n            csRight: 'ctrl+shift+rightarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            ctrlA: 'ctrl+a',\n            enter: 'enter',\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: 'ctrl+x',\n            ctrlC: 'ctrl+c',\n            ctrlV: 'ctrl+v',\n            f2: 'f2',\n            shiftdel: 'shift+delete',\n            back: 'backspace',\n            ctrlD: 'ctrl+d'\n        };\n    }\n    LargeIconsView.prototype.render = function (args) {\n        this.parent.visitedItem = null;\n        this.startItem = null;\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'LargeIcons') {\n            this.resetMultiSelect();\n            this.element.setAttribute('tabindex', '0');\n            if (this.listObj) {\n                this.unWireEvents();\n                this.removeEventListener();\n            }\n            this.parent.notify(events.hideLayout, {});\n            var iconsView = select('#' + this.parent.element.id + CLS.LARGEICON_ID, this.parent.element);\n            var ul = select('ul', iconsView);\n            if (ul) {\n                remove(ul);\n            }\n            this.listObj = {\n                ariaAttributes: {\n                    itemRole: 'option', listRole: 'listbox', itemText: '',\n                    groupItemRole: 'group', wrapperRole: ''\n                },\n                showIcon: true,\n                fields: { text: 'name', iconCss: '_fm_icon', imageUrl: '_fm_imageUrl', htmlAttributes: '_fm_htmlAttr' },\n                sortOrder: this.parent.sortOrder,\n                itemCreated: this.onItemCreated.bind(this),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n            };\n            this.items = [];\n            this.items = this.renderList(args);\n            this.items = getSortedData(this.parent, this.items);\n            // eslint-disable-next-line\n            this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n            this.itemList = Array.prototype.slice.call(selectAll('.' + CLS.LIST_ITEM, this.listElements));\n            this.element.appendChild(this.listElements);\n            this.preventImgDrag();\n            this.createDragObj();\n            iconsView.classList.remove(CLS.DISPLAY_NONE);\n            if (this.itemList.length === 0) {\n                var emptyList = this.element.querySelector('.' + CLS.LIST_PARENT);\n                this.element.removeChild(emptyList);\n                createEmptyElement(this.parent, this.element, args);\n            }\n            else if (this.itemList.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n                this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n            }\n            if (this.isPasteOperation === true) {\n                this.selectItems(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            /* istanbul ignore next */\n            if (this.uploadOperation === true) {\n                this.selectItems(this.parent.uploadItem);\n                this.parent.setProperties({ selectedItems: [] }, true);\n                this.count++;\n                if (this.count === this.parent.uploadItem.length) {\n                    this.uploadOperation = false;\n                    this.parent.uploadItem = [];\n                }\n            }\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            if (activeEle.length !== 0) {\n                this.parent.activeModule = 'largeiconsview';\n            }\n            for (var i = 0; i < activeEle.length; i++) {\n                activeEle[i].setAttribute('aria-selected', 'true');\n            }\n            this.adjustHeight();\n            this.element.style.maxHeight = '100%';\n            this.getItemCount();\n            this.addEventListener();\n            this.wireEvents();\n            this.isRendered = true;\n            hideSpinner(this.parent.element);\n            if (this.parent.selectedItems.length) {\n                this.checkItem();\n            }\n        }\n    };\n    LargeIconsView.prototype.preventImgDrag = function () {\n        var i = 0;\n        while (i < this.itemList.length) {\n            if (this.itemList[i].querySelector('img')) {\n                /* istanbul ignore next */\n                this.itemList[i].ondragstart = function () { return false; };\n            }\n            i++;\n        }\n    };\n    LargeIconsView.prototype.createDragObj = function () {\n        var _this = this;\n        if (!this.parent.isMobile && this.listObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.listElements, {\n                    enableTailMode: true,\n                    distance: 5,\n                    enableAutoScroll: true,\n                    dragTarget: '.' + CLS.LARGE_ICON,\n                    helper: this.dragHelper.bind(this),\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragArea: this.parent.element,\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    drag: draggingHandler.bind(this, this.parent),\n                    clone: true,\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    }\n                });\n            }\n            else if (this.dragObj && !this.parent.allowDragAndDrop) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    LargeIconsView.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        var dragLi = closest(dragTarget, '.e-list-item');\n        if (!dragLi) {\n            return null;\n        }\n        if (dragLi && !dragLi.classList.contains('e-active')) {\n            this.setFocus(dragLi);\n        }\n        var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        for (var i = 0; i < activeEle.length; i++) {\n            // eslint-disable-next-line\n            this.parent.dragData.push(this.getItemObject(activeEle[i]));\n            this.parent.activeElements.push(activeEle[i]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.dragPath = this.parent.path;\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    LargeIconsView.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var dropLi = closest(args.target, '.e-list-item');\n            // eslint-disable-next-line\n            var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (dropLi) {\n                // eslint-disable-next-line\n                var info = this.getItemObject(dropLi);\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n            else {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    LargeIconsView.prototype.getModuleName = function () {\n        return 'largeiconsview';\n    };\n    LargeIconsView.prototype.adjustHeight = function () {\n        var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n        this.element.style.height = (pane.offsetHeight - bar.offsetHeight) + 'px';\n    };\n    LargeIconsView.prototype.onItemCreated = function (args) {\n        args.item.removeAttribute('aria-level');\n        if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n            var textEle = args.item.querySelector('.' + CLS.LIST_TEXT);\n            var txt = getValue('name', args.curData);\n            var type = getValue('type', args.curData);\n            textEle.innerHTML = txt.substr(0, txt.length - type.length);\n        }\n        this.renderCheckbox(args);\n        var eventArgs = {\n            element: args.item,\n            fileDetails: args.curData,\n            module: 'LargeIconsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    LargeIconsView.prototype.renderCheckbox = function (args) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        var checkElement = createCheckBox(createElement, false, {\n            checked: false,\n            cssClass: 'e-small'\n        });\n        checkElement.setAttribute('role', 'checkbox');\n        checkElement.setAttribute('aria-checked', 'false');\n        args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n    };\n    LargeIconsView.prototype.onLayoutChange = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.destroy();\n            this.render(args);\n            /* istanbul ignore next */\n            if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' &&\n                this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n                var indexes = this.getIndexes(this.parent.selectedNodes);\n                var length_1 = 0;\n                while (length_1 < indexes.length) {\n                    addBlur(this.itemList[indexes[length_1]]);\n                    length_1++;\n                }\n            }\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            if (activeEle.length !== 0) {\n                this.element.focus();\n            }\n            this.checkItem();\n            this.parent.isLayoutChange = false;\n        }\n        else {\n            this.element.setAttribute('tabindex', '-1');\n        }\n    };\n    LargeIconsView.prototype.checkItem = function () {\n        var checkEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n        if (checkEle) {\n            var checkLength = 0;\n            while (checkLength < checkEle.length) {\n                this.checkState(checkEle[checkLength], true);\n                checkLength++;\n            }\n        }\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.renderList = function (args) {\n        var i = 0;\n        // eslint-disable-next-line\n        var items = JSON.parse(JSON.stringify(args.files));\n        while (i < items.length) {\n            var icon = fileType(items[i]);\n            var name_1 = getValue('name', items[i]);\n            var selected = getItemName(this.parent, items[i]);\n            var className = ((this.parent.selectedItems &&\n                this.parent.selectedItems.indexOf(selected) !== -1)) ?\n                CLS.LARGE_ICON + ' e-active' : CLS.LARGE_ICON;\n            if (!hasEditAccess(items[i])) {\n                className += ' ' + getAccessClass(items[i]);\n            }\n            if (icon === CLS.ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n                var imgUrl = getImageUrl(this.parent, items[i]);\n                setValue('_fm_imageUrl', imgUrl, items[i]);\n                setValue('_fm_imageAttr', { alt: name_1 }, items[i]);\n            }\n            else {\n                setValue('_fm_icon', icon, items[i]);\n            }\n            setValue('_fm_htmlAttr', { class: className, title: name_1 }, items[i]);\n            i++;\n        }\n        return items;\n    };\n    LargeIconsView.prototype.onFinalizeEnd = function (args) {\n        this.render(args);\n    };\n    LargeIconsView.prototype.onCreateEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.clearSelect();\n        this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n        this.parent.createdItem = null;\n        this.parent.largeiconsviewModule.element.focus();\n    };\n    LargeIconsView.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.updateSelectedData();\n        }\n    };\n    LargeIconsView.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'largeiconsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onDeleteEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.clearSelect();\n    };\n    LargeIconsView.prototype.onRefreshEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n    };\n    LargeIconsView.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    };\n    LargeIconsView.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        /* istanbul ignore next */\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n            this.parent.searchedItems = [];\n        }\n        if (this.parent.view === 'LargeIcons') {\n            removeBlur(this.parent);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.onLayoutChange(args);\n            if (this.parent.renamedItem) {\n                this.clearSelect();\n                this.addSelection(this.parent.renamedItem);\n                this.parent.renamedItem = null;\n            }\n        }\n    };\n    LargeIconsView.prototype.onOpenInit = function (args) {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.doOpenAction(args.target);\n        }\n    };\n    LargeIconsView.prototype.onHideLayout = function () {\n        if (this.parent.view !== 'LargeIcons' && this.element) {\n            this.element.classList.add(CLS.DISPLAY_NONE);\n        }\n    };\n    LargeIconsView.prototype.onSelectAllInit = function () {\n        if (this.parent.view === 'LargeIcons') {\n            this.startItem = this.getFirstItem();\n            var lastItem = this.getLastItem();\n            var eveArgs = { ctrlKey: true, shiftKey: true };\n            this.doSelection(lastItem, eveArgs);\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    };\n    LargeIconsView.prototype.onClearAllInit = function () {\n        if (this.parent.view === 'LargeIcons') {\n            this.clearSelection();\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    };\n    LargeIconsView.prototype.onBeforeRequest = function () {\n        this.isRendered = false;\n    };\n    LargeIconsView.prototype.onAfterRequest = function () {\n        this.isRendered = true;\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onSearch = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(events.selectionChanged, {});\n            this.parent.searchedItems = args.files;\n            this.onLayoutChange(args);\n        }\n    };\n    LargeIconsView.prototype.onLayoutRefresh = function () {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.adjustHeight();\n    };\n    LargeIconsView.prototype.onUpdateSelectionData = function () {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.updateSelectedData();\n    };\n    LargeIconsView.prototype.onPathColumn = function () {\n        if (this.parent.view === 'LargeIcons' && !isNOU(this.listObj) &&\n            this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered\n            && this.parent.sortBy === 'filterPath') {\n            this.parent.sortBy = 'name';\n            this.parent.notify(events.sortByChange, {});\n        }\n    };\n    LargeIconsView.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.pathColumn, this.onPathColumn);\n        this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.selectedData, this.onSelectedData);\n        this.parent.off(events.deleteInit, this.onDeleteInit);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.refreshEnd, this.onRefreshEnd);\n        this.parent.off(events.pathChanged, this.onPathChanged);\n        this.parent.off(events.layoutChange, this.onLayoutChange);\n        this.parent.off(events.search, this.onSearch);\n        this.parent.off(events.openInit, this.onOpenInit);\n        this.parent.off(events.openEnd, this.onPathChanged);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.methodCall, this.onMethodCall);\n        this.parent.off(events.actionFailure, this.onActionFailure);\n        this.parent.off(events.renameInit, this.onRenameInit);\n        this.parent.off(events.renameEnd, this.onPathChanged);\n        this.parent.off(events.hideLayout, this.onHideLayout);\n        this.parent.off(events.selectAllInit, this.onSelectAllInit);\n        this.parent.off(events.clearAllInit, this.onClearAllInit);\n        this.parent.off(events.menuItemData, this.onMenuItemData);\n        this.parent.off(events.beforeRequest, this.onBeforeRequest);\n        this.parent.off(events.afterRequest, this.onAfterRequest);\n        this.parent.off(events.splitterResize, this.splitterResizeHandler);\n        this.parent.off(events.resizeEnd, this.resizeHandler);\n        this.parent.off(events.pasteInit, this.onpasteInit);\n        this.parent.off(events.pasteEnd, this.onpasteEnd);\n        this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.detailsInit, this.onDetailsInit);\n        this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(events.dropPath, this.onDropPath);\n        this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n        this.parent.off(events.filterEnd, this.onPathChanged);\n    };\n    LargeIconsView.prototype.addEventListener = function () {\n        this.parent.on(events.pathColumn, this.onPathColumn, this);\n        this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(events.selectedData, this.onSelectedData, this);\n        this.parent.on(events.pathChanged, this.onPathChanged, this);\n        this.parent.on(events.deleteInit, this.onDeleteInit, this);\n        this.parent.on(events.pasteInit, this.onpasteInit, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.layoutChange, this.onLayoutChange, this);\n        this.parent.on(events.search, this.onSearch, this);\n        this.parent.on(events.openInit, this.onOpenInit, this);\n        this.parent.on(events.renameInit, this.onRenameInit, this);\n        this.parent.on(events.renameEnd, this.onPathChanged, this);\n        this.parent.on(events.openEnd, this.onPathChanged, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.methodCall, this.onMethodCall, this);\n        this.parent.on(events.actionFailure, this.onActionFailure, this);\n        this.parent.on(events.hideLayout, this.onHideLayout, this);\n        this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n        this.parent.on(events.menuItemData, this.onMenuItemData, this);\n        this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(events.afterRequest, this.onAfterRequest, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.detailsInit, this.onDetailsInit, this);\n        this.parent.on(events.splitterResize, this.splitterResizeHandler, this);\n        this.parent.on(events.resizeEnd, this.resizeHandler, this);\n        this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n        this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(events.dropPath, this.onDropPath, this);\n        this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n        this.parent.on(events.filterEnd, this.onPathChanged, this);\n    };\n    LargeIconsView.prototype.onActionFailure = function () { this.isInteraction = true; this.isInteracted = true; };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var ele = closest(args.target, 'li');\n            this.parent.itemData = [this.getItemObject(ele)];\n        }\n    };\n    LargeIconsView.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.updateSelectedData();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    };\n    LargeIconsView.prototype.onpasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath === '') ? [getPathObject(this.parent)] :\n                [this.getItemObject(select('.e-active', this.element))];\n        }\n    };\n    LargeIconsView.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var activeEle = this.element.querySelectorAll('.' + CLS.ACTIVE);\n            this.parent.activeRecords = [];\n            this.parent.activeElements = [];\n            for (var i = 0; i < activeEle.length; i++) {\n                this.parent.activeElements.push(activeEle[i]);\n                this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n            }\n        }\n    };\n    LargeIconsView.prototype.onpasteEnd = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    };\n    LargeIconsView.prototype.onDropPath = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    };\n    LargeIconsView.prototype.onPropertyChanged = function (e) {\n        var currentSelected;\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'selectedItems':\n                    this.isInteraction = false;\n                    this.isInteracted = false;\n                    currentSelected = isNOU(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n                    currentSelected = this.parent.allowMultiSelection ? currentSelected :\n                        currentSelected.slice(currentSelected.length - 1);\n                    this.parent.setProperties({ selectedItems: [] }, true);\n                    this.onClearAllInit();\n                    if (currentSelected.length) {\n                        this.selectItems(currentSelected);\n                    }\n                    this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    this.isInteraction = true;\n                    this.isInteracted = true;\n                    break;\n                case 'showThumbnail':\n                    refresh(this.parent);\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.parent.view !== 'LargeIcons') {\n                        break;\n                    }\n                    refresh(this.parent);\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'LargeIcons');\n                    break;\n            }\n        }\n    };\n    LargeIconsView.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.listObj) {\n            this.unWireEvents();\n        }\n    };\n    LargeIconsView.prototype.wireEvents = function () {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n    };\n    LargeIconsView.prototype.unWireEvents = function () {\n        this.wireClickEvent(false);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onMouseOver = function (e) {\n        var targetEle = closest(e.target, '.e-list-item');\n        removeBlur(this.parent, 'hover');\n        if (targetEle !== null) {\n            targetEle.classList.add(CLS.HOVER);\n        }\n    };\n    LargeIconsView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            this.clickObj = new Touch(this.element, {\n                tap: function (eve) {\n                    eve.originalEvent.preventDefault();\n                    if (proxy_1.parent.isDevice) {\n                        proxy_1.tapCount = eve.tapCount;\n                        proxy_1.tapEvent = eve;\n                        setTimeout(function () {\n                            if (proxy_1.tapCount > 0) {\n                                proxy_1.doTapAction(proxy_1.tapEvent);\n                            }\n                            proxy_1.tapCount = 0;\n                        }, 350);\n                    }\n                    else {\n                        if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n                            proxy_1.dblClickHandler(eve);\n                        }\n                        else {\n                            proxy_1.clickHandler(eve);\n                        }\n                    }\n                },\n                tapHold: function (e) {\n                    if (proxy_1.parent.isDevice) {\n                        proxy_1.multiSelect = proxy_1.parent.allowMultiSelection ? true : false;\n                        if (proxy_1.parent.allowMultiSelection) {\n                            addClass([proxy_1.parent.element], CLS.MULTI_SELECT);\n                        }\n                        proxy_1.clickHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    };\n    LargeIconsView.prototype.doTapAction = function (eve) {\n        var target = eve.originalEvent.target;\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        if (this.multiSelect || target.classList.contains(CLS.LIST_PARENT) || isNOU(item)) {\n            this.clickHandler(eve);\n        }\n        else {\n            this.parent.isFile = false;\n            this.updateType(item);\n            if (!this.parent.isFile) {\n                this.dblClickHandler(eve);\n            }\n            else if (eve.tapCount === 2) {\n                this.clickHandler(eve);\n                this.dblClickHandler(eve);\n            }\n            else {\n                this.clickHandler(eve);\n            }\n        }\n    };\n    LargeIconsView.prototype.clickHandler = function (e) {\n        var target = e.originalEvent.target;\n        removeBlur(this.parent, 'hover');\n        this.doSelection(target, e.originalEvent);\n        this.parent.activeModule = 'largeiconsview';\n    };\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n     * @returns {void}\n     * @hidden\n     */\n    LargeIconsView.prototype.doSelection = function (target, e) {\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        var cList = target.classList;\n        this.parent.isFile = false;\n        var action = 'select';\n        if (e.which === 3 && !isNOU(item) && item.classList.contains(CLS.ACTIVE)) {\n            this.updateType(item);\n            return;\n        }\n        else if (!isNOU(item)) {\n            if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)\n                && (e.ctrlKey || target.classList.contains(CLS.CHECK))) {\n                action = 'unselect';\n            }\n            var fileSelectionArgs = this.triggerSelection(action, item);\n            if (fileSelectionArgs.cancel !== true) {\n                if ((!this.parent.allowMultiSelection || (!this.multiSelect && (e && !e.ctrlKey)))\n                    && !cList.contains(CLS.FRAME)) {\n                    this.updateType(item);\n                    this.clearSelect();\n                }\n                if (this.parent.allowMultiSelection && e.shiftKey) {\n                    if (!(e && e.ctrlKey)) {\n                        this.clearSelect();\n                    }\n                    if (!this.startItem) {\n                        this.startItem = item;\n                    }\n                    var startIndex = this.itemList.indexOf(this.startItem);\n                    var endIndex = this.itemList.indexOf(item);\n                    if (startIndex > endIndex) {\n                        for (var i = startIndex; i >= endIndex; i--) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    else {\n                        for (var i = startIndex; i <= endIndex; i++) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    this.addFocus(this.itemList[endIndex]);\n                }\n                else {\n                    this.startItem = item;\n                    if (this.parent.allowMultiSelection && item.classList.contains(CLS.ACTIVE)) {\n                        this.removeActive(item);\n                    }\n                    else {\n                        this.addActive(item);\n                    }\n                    this.addFocus(item);\n                }\n                if (this.parent.selectedItems.length === 0) {\n                    this.resetMultiSelect();\n                }\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect(action, item);\n            }\n        }\n        else {\n            this.clearSelection();\n        }\n        if (!isNOU(item)) {\n            this.updateType(item);\n        }\n    };\n    LargeIconsView.prototype.dblClickHandler = function (e) {\n        this.parent.activeModule = 'largeiconsview';\n        var target = e.originalEvent.target;\n        this.doOpenAction(target);\n    };\n    LargeIconsView.prototype.clearSelection = function () {\n        this.clearSelect();\n        this.resetMultiSelect();\n        this.parent.notify(events.selectionChanged, {});\n    };\n    LargeIconsView.prototype.resetMultiSelect = function () {\n        this.multiSelect = false;\n        removeClass([this.parent.element], CLS.MULTI_SELECT);\n    };\n    LargeIconsView.prototype.doOpenAction = function (target) {\n        var _this = this;\n        if (isNOU(target)) {\n            return;\n        }\n        var item = closest(target, '.' + CLS.LIST_ITEM);\n        this.parent.isFile = false;\n        if (!isNOU(item)) {\n            this.updateType(item);\n            // eslint-disable-next-line\n            var details_1 = this.getItemObject(item);\n            if (!hasReadAccess(details_1)) {\n                createDeniedDialog(this.parent, details_1, events.permissionRead);\n                return;\n            }\n            var eventArgs = { cancel: false, fileDetails: details_1, module: 'LargeIconsView' };\n            this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n                if (!fileOpenArgs.cancel) {\n                    var text = getValue('name', details_1);\n                    if (!_this.parent.isFile) {\n                        var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n                        if (val === '' && !_this.parent.isFiltered) {\n                            var id = getValue('id', details_1);\n                            var newPath = _this.parent.path + (isNOU(id) ? text : id) + '/';\n                            _this.parent.setProperties({ path: newPath }, true);\n                            _this.parent.pathNames.push(text);\n                            _this.parent.pathId.push(getValue('_fm_id', details_1));\n                            _this.parent.itemData = [details_1];\n                            openAction(_this.parent);\n                        }\n                        else {\n                            openSearchFolder(_this.parent, details_1);\n                        }\n                        _this.parent.isFiltered = false;\n                        _this.parent.setProperties({ selectedItems: [] }, true);\n                    }\n                    else {\n                        var icon = fileType(details_1);\n                        if (icon === CLS.ICON_IMAGE) {\n                            var imgUrl = getImageUrl(_this.parent, details_1);\n                            createImageDialog(_this.parent, text, imgUrl);\n                        }\n                    }\n                }\n            });\n        }\n    };\n    LargeIconsView.prototype.updateType = function (item) {\n        var folder = select('.' + CLS.FOLDER, item);\n        this.parent.isFile = isNOU(folder) ? true : false;\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    LargeIconsView.prototype.keydownActionHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'moveDown':\n            case 'moveLeft':\n            case 'moveRight':\n            case 'moveUp':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    LargeIconsView.prototype.keyActionHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        var fItem = this.getFocusedItem();\n        var firstItem = this.getFirstItem();\n        var lastItem = this.getLastItem();\n        switch (e.action) {\n            case 'end':\n                this.navigateItem(lastItem);\n                break;\n            case 'home':\n                this.navigateItem(firstItem);\n                break;\n            case 'tab':\n                if (!isNOU(fItem)) {\n                    this.addFocus(fItem);\n                }\n                else if (!isNOU(firstItem)) {\n                    this.addFocus(firstItem);\n                }\n                break;\n            case 'moveDown':\n                this.navigateDown(fItem, true);\n                break;\n            case 'moveLeft':\n                this.navigateRight(fItem, false);\n                break;\n            case 'moveRight':\n                this.navigateRight(fItem, true);\n                break;\n            case 'moveUp':\n                this.navigateDown(fItem, false);\n                break;\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n                this.csEndKey(lastItem, e);\n                break;\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n                this.csHomeKey(firstItem, e);\n                break;\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n                this.csDownKey(fItem, e);\n                break;\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n                this.csLeftKey(fItem, e);\n                break;\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n                this.csRightKey(fItem, e);\n                break;\n            case 'ctrlUp':\n            case 'shiftUp':\n            case 'csUp':\n                this.csUpKey(fItem, e);\n                break;\n            case 'space':\n                this.spaceKey(fItem);\n                break;\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n                if (!isNOU(fItem)) {\n                    this.doSelection(fItem, e);\n                }\n                break;\n            case 'ctrlA':\n                this.ctrlAKey(firstItem, lastItem);\n                break;\n            case 'enter':\n                this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n                break;\n            case 'altEnter':\n                this.parent.notify(events.detailsInit, {});\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n        }\n    };\n    LargeIconsView.prototype.doDownload = function () {\n        this.updateSelectedData();\n        doDownload(this.parent);\n    };\n    LargeIconsView.prototype.performDelete = function () {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.updateSelectedData();\n            // eslint-disable-next-line\n            var data = this.parent.itemData;\n            for (var i = 0; i < data.length; i++) {\n                if (!hasEditAccess(data[i])) {\n                    createDeniedDialog(this.parent, data[i], events.permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    };\n    LargeIconsView.prototype.performRename = function () {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    };\n    LargeIconsView.prototype.updateRenameData = function () {\n        var item = select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        updateRenamingData(this.parent, data);\n    };\n    LargeIconsView.prototype.getVisitedItem = function () {\n        var item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n        var indexes = this.getIndexes([item], this.parent.hasId);\n        return this.itemList[indexes[0]];\n    };\n    LargeIconsView.prototype.getFocusedItem = function () {\n        return select('.' + CLS.LIST_ITEM + '.' + CLS.FOCUS, this.element);\n    };\n    LargeIconsView.prototype.getActiveItem = function () {\n        return select('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n    };\n    LargeIconsView.prototype.getFirstItem = function () {\n        return this.itemList[0];\n    };\n    LargeIconsView.prototype.getLastItem = function () {\n        return this.itemList[this.itemList.length - 1];\n    };\n    LargeIconsView.prototype.navigateItem = function (item) {\n        this.setFocus(item);\n    };\n    LargeIconsView.prototype.navigateDown = function (fItem, isTowards) {\n        var nItem = this.getNextItem(fItem, isTowards, this.perRow);\n        this.setFocus(nItem);\n    };\n    LargeIconsView.prototype.navigateRight = function (fItem, isTowards) {\n        var nItem = this.getNextItem(fItem, isTowards);\n        this.setFocus(nItem);\n    };\n    LargeIconsView.prototype.getNextItem = function (li, isTowards, perRow) {\n        if (isNOU(li)) {\n            return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n        }\n        var index = this.itemList.indexOf(li);\n        var nextItem;\n        do {\n            if (isTowards) {\n                index = perRow ? index + perRow : index + 1;\n            }\n            else {\n                index = perRow ? index - perRow : index - 1;\n            }\n            nextItem = this.itemList[index];\n            if (isNOU(nextItem)) {\n                return li;\n            }\n        } while (!isVisible(nextItem));\n        return nextItem;\n    };\n    LargeIconsView.prototype.setFocus = function (nextItem) {\n        if (!isNOU(nextItem)) {\n            var fileSelectionArgs = this.triggerSelection('select', nextItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.startItem = nextItem;\n                this.clearSelect();\n                this.addActive(nextItem);\n                this.addFocus(nextItem);\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect('select', nextItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.spaceKey = function (fItem) {\n        if (!isNOU(fItem) && !fItem.classList.contains(CLS.ACTIVE)) {\n            var fileSelectionArgs = this.triggerSelection('select', fItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.addActive(fItem);\n                this.parent.notify(events.selectionChanged, {});\n                this.triggerSelect('select', fItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.ctrlAKey = function (firstItem, lastItem) {\n        if (this.parent.allowMultiSelection && !isNOU(firstItem)) {\n            this.startItem = firstItem;\n            var eveArgs = { ctrlKey: true, shiftKey: true };\n            var liParent = this.element.querySelector('.' + CLS.LIST_PARENT);\n            var liScrPos = liParent.scrollTop;\n            var getCurFocusedItem = this.getFocusedItem();\n            this.doSelection(lastItem, eveArgs);\n            liParent.scrollTop = liScrPos;\n            if (!isNOU(getCurFocusedItem)) {\n                this.addFocus(getCurFocusedItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.csEndKey = function (lastItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(lastItem);\n        }\n        else if (!isNOU(lastItem)) {\n            if (e.action === 'ctrlEnd') {\n                this.addFocus(lastItem);\n            }\n            else {\n                this.doSelection(lastItem, e);\n            }\n        }\n    };\n    LargeIconsView.prototype.csHomeKey = function (firstItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(firstItem);\n        }\n        else if (!isNOU(firstItem)) {\n            if (e.action === 'ctrlHome') {\n                this.addFocus(firstItem);\n            }\n            else {\n                this.doSelection(firstItem, e);\n            }\n        }\n    };\n    LargeIconsView.prototype.csDownKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, true);\n        }\n        else {\n            var dItem = this.getNextItem(fItem, true, this.perRow);\n            if (!isNOU(dItem)) {\n                if (e.action === 'ctrlDown') {\n                    this.addFocus(dItem);\n                }\n                else {\n                    this.doSelection(dItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csLeftKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, false);\n        }\n        else {\n            var lItem = this.getNextItem(fItem, false);\n            if (!isNOU(lItem)) {\n                if (e.action === 'ctrlLeft') {\n                    this.addFocus(lItem);\n                }\n                else {\n                    this.doSelection(lItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csRightKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, true);\n        }\n        else {\n            var rItem = this.getNextItem(fItem, true);\n            if (!isNOU(rItem)) {\n                if (e.action === 'ctrlRight') {\n                    this.addFocus(rItem);\n                }\n                else {\n                    this.doSelection(rItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csUpKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, false);\n        }\n        else {\n            var uItem = this.getNextItem(fItem, false, this.perRow);\n            if (!isNOU(uItem)) {\n                if (e.action === 'ctrlUp') {\n                    this.addFocus(uItem);\n                }\n                else {\n                    this.doSelection(uItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.addActive = function (nextItem) {\n        if (!isNOU(nextItem)) {\n            if (!nextItem.classList.contains(CLS.ACTIVE)) {\n                this.parent.selectedItems.push(this.getDataName(nextItem));\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                addClass([nextItem], [CLS.ACTIVE]);\n                nextItem.setAttribute('aria-selected', 'true');\n                this.checkState(nextItem, true);\n            }\n            this.parent.visitedItem = nextItem;\n        }\n    };\n    LargeIconsView.prototype.removeActive = function (preItem) {\n        if (!isNOU(preItem)) {\n            removeClass([preItem], [CLS.ACTIVE]);\n            if (this.parent.allowMultiSelection) {\n                preItem.setAttribute('aria-selected', 'false');\n            }\n            else {\n                preItem.removeAttribute('aria-selected');\n            }\n            this.checkState(preItem, false);\n            var index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n            if (index > -1) {\n                this.parent.selectedItems.splice(index, 1);\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n            }\n            this.parent.visitedItem = null;\n        }\n    };\n    LargeIconsView.prototype.getDataName = function (item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        return getItemName(this.parent, data);\n    };\n    LargeIconsView.prototype.addFocus = function (item) {\n        this.element.setAttribute('tabindex', '-1');\n        var fItem = this.getFocusedItem();\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [CLS.FOCUS]);\n        }\n        addClass([item], [CLS.FOCUS]);\n        item.setAttribute('tabindex', '0');\n        item.focus();\n    };\n    LargeIconsView.prototype.checkState = function (item, toCheck) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        var checkEle = select('.' + CLS.FRAME, item);\n        if (isNOU(checkEle)) {\n            return;\n        }\n        if (toCheck) {\n            if (!checkEle.classList.contains(CLS.CHECK)) {\n                addClass([checkEle], CLS.CHECK);\n                closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'true');\n            }\n        }\n        else {\n            if (checkEle.classList.contains(CLS.CHECK)) {\n                removeClass([checkEle], CLS.CHECK);\n                closest(checkEle, '.' + CLS.CB_WRAP).setAttribute('aria-checked', 'false');\n            }\n        }\n    };\n    LargeIconsView.prototype.clearSelect = function () {\n        var eles = Array.prototype.slice.call(selectAll('.' + CLS.ACTIVE, this.listElements));\n        var fileSelectionArgs;\n        if (eles.length !== 0) {\n            fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n            if (fileSelectionArgs.cancel !== true) {\n                for (var i = 0, len = eles.length; i < len; i++) {\n                    this.removeActive(eles[i]);\n                }\n            }\n            this.triggerSelect('unselect', eles[0]);\n        }\n    };\n    LargeIconsView.prototype.resizeHandler = function () {\n        this.getItemCount();\n        if (!isNOU(this.listObj)) {\n            this.adjustHeight();\n        }\n    };\n    LargeIconsView.prototype.splitterResizeHandler = function () {\n        this.getItemCount();\n    };\n    LargeIconsView.prototype.getItemCount = function () {\n        var perRow = 1;\n        if (this.itemList) {\n            for (var i = 0, len = this.itemList.length - 1; i < len; i++) {\n                if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n                    perRow++;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        this.perRow = perRow;\n    };\n    LargeIconsView.prototype.triggerSelection = function (action, item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        var eventArgs = {\n            action: action, fileDetails: data, isInteracted: this.isInteraction, cancel: false, target: item\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        this.isInteraction = true;\n        return eventArgs;\n    };\n    LargeIconsView.prototype.triggerSelect = function (action, item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        this.parent.visitedData = data;\n        var eventArgs = { action: action, fileDetails: data, isInteracted: this.isInteracted };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.isInteracted = true;\n    };\n    LargeIconsView.prototype.selectItems = function (items) {\n        var indexes = this.getIndexes(items, this.parent.hasId);\n        for (var j = 0, len = indexes.length; j < len; j++) {\n            var eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[indexes[j]], eveArgs);\n        }\n    };\n    LargeIconsView.prototype.getIndexes = function (items, byId) {\n        var indexes = [];\n        var filter = byId ? 'id' : 'name';\n        for (var i = 0, len = this.items.length; i < len; i++) {\n            if (items.indexOf(getValue(filter, this.items[i])) !== -1) {\n                indexes.push(i);\n            }\n        }\n        return indexes;\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.getItemObject = function (item) {\n        var index = this.itemList.indexOf(item);\n        return this.items[index];\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.addSelection = function (data) {\n        // eslint-disable-next-line\n        var resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            var newData = new DataManager(this.items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (newData.length > 0) {\n                resultData = new DataManager(newData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (resultData.length > 0) {\n            var index = this.items.indexOf(resultData[0]);\n            var eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[index], eveArgs);\n        }\n    };\n    LargeIconsView.prototype.updateSelectedData = function () {\n        // eslint-disable-next-line\n        var data = [];\n        var items = selectAll('.' + CLS.LIST_ITEM + '.' + CLS.ACTIVE, this.element);\n        for (var i = 0; i < items.length; i++) {\n            data[i] = this.getItemObject(items[i]);\n        }\n        this.parent.itemData = data;\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.onMethodCall = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        var action = getValue('action', args);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', args));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', args));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', args));\n                break;\n            case 'renameFile':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.renameFile(getValue('id', args), getValue('newName', args));\n                break;\n            case 'createFolder':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                break;\n            case 'clearSelection':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onClearAllInit();\n                break;\n            case 'selectAll':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onSelectAllInit();\n                break;\n        }\n    };\n    LargeIconsView.prototype.getItemsIndex = function (items) {\n        var indexes = [];\n        var isFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        var filterName = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !isFilter) {\n            for (var i = 0, len = this.items.length; i < len; i++) {\n                if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n                    indexes.push(i);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = this.items.length; i < len; i++) {\n                var name_2 = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n                if (items.indexOf(name_2) !== -1) {\n                    indexes.push(i);\n                }\n            }\n        }\n        return indexes;\n    };\n    LargeIconsView.prototype.deleteFiles = function (ids) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNOU(ids)) {\n            this.performDelete();\n            return;\n        }\n        var indexes = this.getItemsIndex(ids);\n        if (indexes.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < indexes.length; i++) {\n            data[i] = this.items[indexes[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    };\n    LargeIconsView.prototype.downloadFiles = function (ids) {\n        if (isNOU(ids)) {\n            this.doDownload();\n            return;\n        }\n        var index = this.getItemsIndex(ids);\n        if (index.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < index.length; i++) {\n            data[i] = this.items[index[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    };\n    LargeIconsView.prototype.openFile = function (id) {\n        if (isNOU(id)) {\n            return;\n        }\n        var indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            this.doOpenAction(this.itemList[indexes[0]]);\n        }\n    };\n    LargeIconsView.prototype.renameFile = function (id, name) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNOU(id)) {\n            this.performRename();\n            return;\n        }\n        var indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            updateRenamingData(this.parent, this.items[indexes[0]]);\n            if (isNOU(name)) {\n                doRename(this.parent);\n            }\n            else {\n                if (!hasEditAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n                }\n                else {\n                    rename(this.parent, this.parent.path, name);\n                }\n            }\n        }\n    };\n    return LargeIconsView;\n}());\nexport { LargeIconsView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}