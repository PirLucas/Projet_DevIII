{"ast":null,"code":"import * as events from '../base/constant';\nimport { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * XhtmlValidation module called when set enableXhtml as true\n */\nvar XhtmlValidation = /** @class */function () {\n  function XhtmlValidation(parent) {\n    this.parent = parent;\n    this.addEventListener();\n  }\n  XhtmlValidation.prototype.addEventListener = function () {\n    this.parent.on(events.xhtmlValidation, this.enableXhtmlValidation, this);\n    this.parent.on(events.destroy, this.removeEventListener, this);\n  };\n  XhtmlValidation.prototype.removeEventListener = function () {\n    this.parent.off(events.xhtmlValidation, this.enableXhtmlValidation);\n    this.parent.off(events.destroy, this.removeEventListener);\n  };\n  XhtmlValidation.prototype.enableXhtmlValidation = function () {\n    if (this.parent.enableXhtml) {\n      if (isNullOrUndefined(this.parent.inputElement)) {\n        this.currentElement = this.parent.element;\n      } else {\n        this.currentElement = this.parent.inputElement;\n      }\n      this.clean(this.currentElement);\n      this.AddRootElement();\n      this.ImageTags();\n      this.removeTags();\n      this.RemoveUnsupported();\n      this.currentElement.innerHTML = this.selfEncloseValidation(this.currentElement.innerHTML, this.currentElement.innerText === \"\\n\" ? this.currentElement.innerText.length : this.currentElement.innerText.trim().length);\n      this.parent.setProperties({\n        value: this.currentElement.innerHTML\n      }, true);\n    }\n  };\n  /**\n   * @param {string} currentValue - specifies the string value.\n   * @param {number} valueLength - specifies the length of the current value.\n   * @returns {void}\n    */\n  XhtmlValidation.prototype.selfEncloseValidation = function (currentValue, valueLength) {\n    if (valueLength === 0 && currentValue.indexOf('table') < 0 && currentValue.indexOf('img') < 0) {\n      var arrayValue = currentValue.split('&nbsp;');\n      arrayValue[arrayValue.length - 1] = '&#8203;' + arrayValue[arrayValue.length - 1];\n      currentValue = arrayValue.join('');\n    }\n    currentValue = currentValue.replace(/<br>/g, '<br/>').replace(/<hr>/g, '<hr/>').replace(/ /g, ' ');\n    var valueTemp;\n    var valueDupe = [];\n    var valueOriginal = [];\n    var imgRegexp = [/<img(.*?)>/gi, /<area(.*?)>/gi, /<base(.*?)>/gi, /<col (.*?)>/gi, /<embed(.*?)>/gi, /<input(.*?)>/gi, /<link(.*?)>/gi, /<meta(.*?)>/gi, /<param(.*?)>/gi, /<source(.*?)>/gi, /<track(.*?)>/gi, /<wbr(.*?)>/gi];\n    for (var j = 0; j < imgRegexp.length; j++) {\n      valueTemp = imgRegexp[j].exec(currentValue);\n      while (valueTemp !== null) {\n        valueDupe.push(valueTemp[0].toString());\n        valueTemp = imgRegexp[j].exec(currentValue);\n      }\n      valueOriginal = valueDupe.slice(0);\n      for (var i = 0; i < valueDupe.length; i++) {\n        if (valueDupe[i].indexOf('/') === -1 || valueDupe[i].lastIndexOf('/') !== valueDupe[i].length - 2) {\n          valueDupe[i] = valueDupe[i].substr(0, valueDupe[i].length - 1) + ' /' + valueDupe[i].substr(valueDupe[i].length - 1, valueDupe[i].length);\n        }\n      }\n      for (var g = 0; g <= valueDupe.length - 1; g++) {\n        currentValue = currentValue.replace(valueOriginal[g], valueDupe[g]);\n      }\n    }\n    return currentValue;\n  };\n  XhtmlValidation.prototype.AddRootElement = function () {\n    if (this.currentElement.childNodes.length === 1 && this.currentElement.firstChild.nodeName !== 'DIV' || this.currentElement.childNodes.length > 1) {\n      var parentEle = this.parent.createElement('div');\n      while (this.currentElement.childNodes.length > 0) {\n        parentEle.appendChild(this.currentElement.childNodes[0]);\n      }\n      this.currentElement.appendChild(parentEle);\n    }\n  };\n  XhtmlValidation.prototype.clean = function (node) {\n    for (var n = 0; n < node.childNodes.length; n++) {\n      var child = node.childNodes[n];\n      if (child.nodeType === 8 || child.nodeName === 'V:IMAGE') {\n        node.removeChild(child);\n        n--;\n      } else if (child.nodeType === 1) {\n        this.clean(child);\n      }\n    }\n    return this.currentElement.innerHTML;\n  };\n  XhtmlValidation.prototype.ImageTags = function () {\n    var imgNodes = this.currentElement.querySelectorAll('IMG');\n    for (var i = imgNodes.length - 1; i >= 0; i--) {\n      if (!imgNodes[i].hasAttribute('alt')) {\n        var img = imgNodes[i];\n        img.setAttribute('alt', '');\n      }\n    }\n  };\n  XhtmlValidation.prototype.removeTags = function () {\n    var removeAttribute = [['br', 'ul'], ['br', 'ol'], ['table', 'span'], ['div', 'span'], ['p', 'span']];\n    for (var i = 0; i < removeAttribute.length; i++) {\n      this.RemoveElementNode(removeAttribute[i][0], removeAttribute[i][1]);\n    }\n  };\n  XhtmlValidation.prototype.RemoveElementNode = function (rmvNode, parentNode) {\n    var parentArray = this.currentElement.querySelectorAll(parentNode);\n    for (var i = 0; i < parentArray.length; i++) {\n      var rmvArray = parentArray[i].querySelectorAll(rmvNode);\n      for (var j = rmvArray.length; j > 0; j--) {\n        detach(rmvArray[j - 1]);\n      }\n    }\n  };\n  XhtmlValidation.prototype.RemoveUnsupported = function () {\n    var underlineEle = this.currentElement.querySelectorAll('u');\n    for (var i = underlineEle.length - 1; i >= 0; i--) {\n      var spanEle = this.parent.createElement('span');\n      spanEle.style.textDecoration = 'underline';\n      spanEle.innerHTML = underlineEle[i].innerHTML;\n      underlineEle[i].parentNode.insertBefore(spanEle, underlineEle[i]);\n      detach(underlineEle[i]);\n    }\n    var strongEle = this.currentElement.querySelectorAll('strong');\n    for (var i = strongEle.length - 1; i >= 0; i--) {\n      var boldEle = this.parent.createElement('b');\n      boldEle.innerHTML = strongEle[i].innerHTML;\n      strongEle[i].parentNode.insertBefore(boldEle, strongEle[i]);\n      detach(strongEle[i]);\n    }\n    var attrArray = ['language', 'role', 'target', 'contenteditable', 'cellspacing', 'cellpadding', 'border', 'valign', 'colspan'];\n    for (var i = 0; i <= attrArray.length; i++) {\n      this.RemoveAttributeByName(attrArray[i]);\n    }\n  };\n  XhtmlValidation.prototype.RemoveAttributeByName = function (attrName) {\n    if (this.currentElement.firstChild !== null) {\n      if (this.currentElement.firstChild.nodeType !== 3) {\n        for (var i = 0; i < this.currentElement.childNodes.length; i++) {\n          var ele = this.currentElement.childNodes[i];\n          if (ele.nodeType !== 3 && ele.nodeName !== 'TABLE' && ele.nodeName !== 'TBODY' && ele.nodeName !== 'THEAD' && ele.nodeName !== 'TH' && ele.nodeName !== 'TR' && ele.nodeName !== 'TD') {\n            if (ele.hasAttribute(attrName)) {\n              ele.removeAttribute(attrName);\n            }\n            if (ele.hasChildNodes()) {\n              for (var j = 0; j < ele.childNodes.length; j++) {\n                var childEle = ele.childNodes[j];\n                if (childEle.nodeType !== 3 && childEle.nodeName !== 'TABLE' && childEle.nodeName !== 'TBODY' && childEle.nodeName !== 'THEAD' && childEle.nodeName !== 'TH' && childEle.nodeName !== 'TR' && childEle.nodeName !== 'TD' && childEle.hasAttribute(attrName)) {\n                  childEle.removeAttribute(attrName);\n                }\n                if (childEle.hasChildNodes()) {\n                  for (var k = 0; k < childEle.childNodes.length; k++) {\n                    if (childEle.childNodes[k].nodeType !== 3 && childEle.childNodes[k].nodeName !== 'TABLE' && childEle.childNodes[k].nodeName !== 'TBODY' && childEle.childNodes[k].nodeName !== 'THEAD' && childEle.childNodes[k].nodeName !== 'TH' && childEle.childNodes[k].nodeName !== 'TR' && childEle.childNodes[k].nodeName !== 'TD' && childEle.childNodes[k].hasAttribute(attrName)) {\n                      childEle.childNodes[k].removeAttribute(attrName);\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n  return XhtmlValidation;\n}();\nexport { XhtmlValidation };","map":{"version":3,"names":["events","detach","isNullOrUndefined","XhtmlValidation","parent","addEventListener","prototype","on","xhtmlValidation","enableXhtmlValidation","destroy","removeEventListener","off","enableXhtml","inputElement","currentElement","element","clean","AddRootElement","ImageTags","removeTags","RemoveUnsupported","innerHTML","selfEncloseValidation","innerText","length","trim","setProperties","value","currentValue","valueLength","indexOf","arrayValue","split","join","replace","valueTemp","valueDupe","valueOriginal","imgRegexp","j","exec","push","toString","slice","i","lastIndexOf","substr","g","childNodes","firstChild","nodeName","parentEle","createElement","appendChild","node","n","child","nodeType","removeChild","imgNodes","querySelectorAll","hasAttribute","img","setAttribute","removeAttribute","RemoveElementNode","rmvNode","parentNode","parentArray","rmvArray","underlineEle","spanEle","style","textDecoration","insertBefore","strongEle","boldEle","attrArray","RemoveAttributeByName","attrName","ele","hasChildNodes","childEle","k"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/xhtml-validation.js"],"sourcesContent":["import * as events from '../base/constant';\nimport { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * XhtmlValidation module called when set enableXhtml as true\n */\nvar XhtmlValidation = /** @class */ (function () {\n    function XhtmlValidation(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    XhtmlValidation.prototype.addEventListener = function () {\n        this.parent.on(events.xhtmlValidation, this.enableXhtmlValidation, this);\n        this.parent.on(events.destroy, this.removeEventListener, this);\n    };\n    XhtmlValidation.prototype.removeEventListener = function () {\n        this.parent.off(events.xhtmlValidation, this.enableXhtmlValidation);\n        this.parent.off(events.destroy, this.removeEventListener);\n    };\n    XhtmlValidation.prototype.enableXhtmlValidation = function () {\n        if (this.parent.enableXhtml) {\n            if (isNullOrUndefined(this.parent.inputElement)) {\n                this.currentElement = this.parent.element;\n            }\n            else {\n                this.currentElement = this.parent.inputElement;\n            }\n            this.clean(this.currentElement);\n            this.AddRootElement();\n            this.ImageTags();\n            this.removeTags();\n            this.RemoveUnsupported();\n            this.currentElement.innerHTML = this.selfEncloseValidation(this.currentElement.innerHTML, this.currentElement.innerText === \"\\n\" ?\n                this.currentElement.innerText.length : this.currentElement.innerText.trim().length);\n            this.parent.setProperties({ value: this.currentElement.innerHTML }, true);\n        }\n    };\n    /**\n     * @param {string} currentValue - specifies the string value.\n     * @param {number} valueLength - specifies the length of the current value.\n     * @returns {void}\n\n     */\n    XhtmlValidation.prototype.selfEncloseValidation = function (currentValue, valueLength) {\n        if (valueLength === 0 && currentValue.indexOf('table') < 0 && currentValue.indexOf('img') < 0) {\n            var arrayValue = currentValue.split('&nbsp;');\n            arrayValue[arrayValue.length - 1] = '&#8203;' + arrayValue[arrayValue.length - 1];\n            currentValue = arrayValue.join('');\n        }\n        currentValue = currentValue.replace(/<br>/g, '<br/>').replace(/<hr>/g, '<hr/>').replace(/ /g, ' ');\n        var valueTemp;\n        var valueDupe = [];\n        var valueOriginal = [];\n        var imgRegexp = [/<img(.*?)>/gi, /<area(.*?)>/gi, /<base(.*?)>/gi, /<col (.*?)>/gi, /<embed(.*?)>/gi,\n            /<input(.*?)>/gi, /<link(.*?)>/gi, /<meta(.*?)>/gi, /<param(.*?)>/gi, /<source(.*?)>/gi,\n            /<track(.*?)>/gi, /<wbr(.*?)>/gi];\n        for (var j = 0; j < imgRegexp.length; j++) {\n            valueTemp = imgRegexp[j].exec(currentValue);\n            while ((valueTemp) !== null) {\n                valueDupe.push(valueTemp[0].toString());\n                valueTemp = imgRegexp[j].exec(currentValue);\n            }\n            valueOriginal = valueDupe.slice(0);\n            for (var i = 0; i < valueDupe.length; i++) {\n                if (valueDupe[i].indexOf('/') === -1 || valueDupe[i].lastIndexOf('/') !== valueDupe[i].length - 2) {\n                    valueDupe[i] = valueDupe[i].substr(0, valueDupe[i].length - 1) + ' /' +\n                        valueDupe[i].substr(valueDupe[i].length - 1, valueDupe[i].length);\n                }\n            }\n            for (var g = 0; g <= valueDupe.length - 1; g++) {\n                currentValue = currentValue.replace(valueOriginal[g], valueDupe[g]);\n            }\n        }\n        return currentValue;\n    };\n    XhtmlValidation.prototype.AddRootElement = function () {\n        if ((this.currentElement.childNodes.length === 1 && this.currentElement.firstChild.nodeName !== 'DIV') ||\n            this.currentElement.childNodes.length > 1) {\n            var parentEle = this.parent.createElement('div');\n            while (this.currentElement.childNodes.length > 0) {\n                parentEle.appendChild(this.currentElement.childNodes[0]);\n            }\n            this.currentElement.appendChild(parentEle);\n        }\n    };\n    XhtmlValidation.prototype.clean = function (node) {\n        for (var n = 0; n < node.childNodes.length; n++) {\n            var child = node.childNodes[n];\n            if (child.nodeType === 8 || child.nodeName === 'V:IMAGE') {\n                node.removeChild(child);\n                n--;\n            }\n            else if (child.nodeType === 1) {\n                this.clean(child);\n            }\n        }\n        return this.currentElement.innerHTML;\n    };\n    XhtmlValidation.prototype.ImageTags = function () {\n        var imgNodes = this.currentElement.querySelectorAll('IMG');\n        for (var i = imgNodes.length - 1; i >= 0; i--) {\n            if (!imgNodes[i].hasAttribute('alt')) {\n                var img = imgNodes[i];\n                img.setAttribute('alt', '');\n            }\n        }\n    };\n    XhtmlValidation.prototype.removeTags = function () {\n        var removeAttribute = [['br', 'ul'], ['br', 'ol'], ['table', 'span'], ['div', 'span'], ['p', 'span']];\n        for (var i = 0; i < removeAttribute.length; i++) {\n            this.RemoveElementNode(removeAttribute[i][0], removeAttribute[i][1]);\n        }\n    };\n    XhtmlValidation.prototype.RemoveElementNode = function (rmvNode, parentNode) {\n        var parentArray = this.currentElement.querySelectorAll(parentNode);\n        for (var i = 0; i < parentArray.length; i++) {\n            var rmvArray = parentArray[i].querySelectorAll(rmvNode);\n            for (var j = rmvArray.length; j > 0; j--) {\n                detach(rmvArray[j - 1]);\n            }\n        }\n    };\n    XhtmlValidation.prototype.RemoveUnsupported = function () {\n        var underlineEle = this.currentElement.querySelectorAll('u');\n        for (var i = underlineEle.length - 1; i >= 0; i--) {\n            var spanEle = this.parent.createElement('span');\n            spanEle.style.textDecoration = 'underline';\n            spanEle.innerHTML = underlineEle[i].innerHTML;\n            underlineEle[i].parentNode.insertBefore(spanEle, underlineEle[i]);\n            detach(underlineEle[i]);\n        }\n        var strongEle = this.currentElement.querySelectorAll('strong');\n        for (var i = strongEle.length - 1; i >= 0; i--) {\n            var boldEle = this.parent.createElement('b');\n            boldEle.innerHTML = strongEle[i].innerHTML;\n            strongEle[i].parentNode.insertBefore(boldEle, strongEle[i]);\n            detach(strongEle[i]);\n        }\n        var attrArray = ['language', 'role', 'target', 'contenteditable', 'cellspacing',\n            'cellpadding', 'border', 'valign', 'colspan'];\n        for (var i = 0; i <= attrArray.length; i++) {\n            this.RemoveAttributeByName(attrArray[i]);\n        }\n    };\n    XhtmlValidation.prototype.RemoveAttributeByName = function (attrName) {\n        if (this.currentElement.firstChild !== null) {\n            if (this.currentElement.firstChild.nodeType !== 3) {\n                for (var i = 0; i < this.currentElement.childNodes.length; i++) {\n                    var ele = this.currentElement.childNodes[i];\n                    if (ele.nodeType !== 3 && ele.nodeName !== 'TABLE' && ele.nodeName !== 'TBODY' && ele.nodeName !== 'THEAD' &&\n                        ele.nodeName !== 'TH' && ele.nodeName !== 'TR' && ele.nodeName !== 'TD') {\n                        if (ele.hasAttribute(attrName)) {\n                            ele.removeAttribute(attrName);\n                        }\n                        if (ele.hasChildNodes()) {\n                            for (var j = 0; j < ele.childNodes.length; j++) {\n                                var childEle = ele.childNodes[j];\n                                if (childEle.nodeType !== 3 && childEle.nodeName !== 'TABLE' && childEle.nodeName !== 'TBODY' &&\n                                    childEle.nodeName !== 'THEAD' && childEle.nodeName !== 'TH' && childEle.nodeName !== 'TR' &&\n                                    childEle.nodeName !== 'TD' && childEle.hasAttribute(attrName)) {\n                                    childEle.removeAttribute(attrName);\n                                }\n                                if (childEle.hasChildNodes()) {\n                                    for (var k = 0; k < childEle.childNodes.length; k++) {\n                                        if (childEle.childNodes[k].nodeType !== 3 && childEle.childNodes[k].nodeName !== 'TABLE' &&\n                                            childEle.childNodes[k].nodeName !== 'TBODY' && childEle.childNodes[k].nodeName !== 'THEAD' &&\n                                            childEle.childNodes[k].nodeName !== 'TH' && childEle.childNodes[k].nodeName !== 'TR'\n                                            && childEle.childNodes[k].nodeName !== 'TD'\n                                            && childEle.childNodes[k].hasAttribute(attrName)) {\n                                            childEle.childNodes[k].removeAttribute(attrName);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return XhtmlValidation;\n}());\nexport { XhtmlValidation };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}