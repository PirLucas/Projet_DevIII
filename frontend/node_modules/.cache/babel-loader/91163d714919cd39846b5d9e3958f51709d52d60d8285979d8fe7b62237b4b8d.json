{"ast":null,"code":"import { Dialog } from '@syncfusion/ej2-popups';\nimport { select, isNullOrUndefined as isNOU, createElement, Internationalization } from '@syncfusion/ej2-base';\nimport { getValue, remove, selectAll } from '@syncfusion/ej2-base';\nimport { createFolder } from '../common/operations';\nimport * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { paste, rename } from '../common/operations';\nimport { getLocaleText, getDuplicateData, getParentPath, objectToString, getCssClass } from '../common/utility';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\nexport function createDialog(parent, text, e, details, replaceItems) {\n  var options = getOptions(parent, text, e, details, replaceItems);\n  if (isNOU(parent.dialogObj)) {\n    parent.dialogObj = new Dialog({\n      beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n      },\n      header: options.header,\n      content: options.content,\n      buttons: options.buttons,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      allowDragging: true,\n      isModal: true,\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n      width: '350px',\n      open: options.open,\n      close: options.close,\n      enableRtl: parent.enableRtl,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.dialogObj.isStringTemplate = true;\n    parent.dialogObj.appendTo('#' + parent.element.id + CLS.DIALOG_ID);\n  } else {\n    changeOptions(parent, options);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\nexport function createExtDialog(parent, text, replaceItems, newPath) {\n  var extOptions = getExtOptions(parent, text, replaceItems, newPath);\n  parent.isApplySame = false;\n  if (isNOU(parent.extDialogObj)) {\n    parent.extDialogObj = new Dialog({\n      beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n      },\n      content: extOptions.content,\n      header: extOptions.header,\n      closeOnEscape: true,\n      allowDragging: true,\n      animationSettings: {\n        effect: 'None'\n      },\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n      enableRtl: parent.enableRtl,\n      showCloseIcon: true,\n      isModal: true,\n      width: 350,\n      buttons: extOptions.buttons,\n      open: extOptions.open,\n      close: extOptions.close,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.extDialogObj.isStringTemplate = true;\n    parent.extDialogObj.appendTo('#' + parent.element.id + CLS.EXTN_DIALOG_ID);\n  } else {\n    parent.extDialogObj.header = extOptions.header;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.open = extOptions.open;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.content = extOptions.content;\n    parent.extDialogObj.buttons = extOptions.buttons;\n    parent.extDialogObj.enableRtl = parent.enableRtl;\n    parent.extDialogObj.locale = parent.locale;\n    parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n    parent.extDialogObj.beforeClose = function (args) {\n      triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n    };\n    parent.extDialogObj.dataBind();\n    parent.extDialogObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n  var eventArgs = {\n    cancel: args.cancel,\n    popupName: dialogName,\n    popupModule: dlgModule\n  };\n  parent.trigger('beforePopupOpen', eventArgs, function (eventargs) {\n    args.cancel = eventargs.cancel;\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n  var eventArgs = {\n    cancel: args.cancel,\n    popupModule: dlgModule,\n    popupName: dialogName\n  };\n  parent.trigger('beforePopupClose', eventArgs, function (eventargs) {\n    args.cancel = eventargs.cancel;\n    if (!args.cancel && args.isInteracted && (dialogName === 'Rename' || dialogName === 'Create Folder')) {\n      parent.trigger(events.actionFailure, {});\n    }\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n  var args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n  var args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupClose', args);\n}\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n  var options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  var duplicateContent;\n  var item;\n  var index;\n  options.open = function () {\n    triggerPopupOpen(parent, parent.extDialogObj, options.dialogName);\n  };\n  options.close = function () {\n    triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n  };\n  switch (text) {\n    case 'Extension':\n      options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n      options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function () {\n          parent.extDialogObj.hide();\n          rename(parent, newPath, parent.renameText);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.extDialogObj.hide();\n          parent.dialogObj.hide();\n        }\n      }];\n      options.dialogName = 'Extension Change';\n      break;\n    case 'DuplicateItems':\n      options.dialogName = 'Duplicate Items';\n      parent.replaceItems = replaceItems;\n      item = parent.replaceItems[parent.fileLength];\n      index = item.lastIndexOf('/');\n      item = index === -1 ? item : item.substring(index);\n      options.header = getLocaleText(parent, 'Header-Duplicate');\n      duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n      options.content = duplicateContent.replace('{0}', item);\n      options.close = function () {\n        if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n          var args = {\n            fileDetails: parent.droppedObjects\n          };\n          parent.trigger('fileDropped', args);\n          parent.isDropEnd = parent.isDragDrop = false;\n        }\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function () {\n          parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n          parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n          parent.fileLength++;\n          if (replaceItems[parent.fileLength]) {\n            var item_1 = parent.replaceItems[parent.fileLength];\n            var indexval = item_1.lastIndexOf('/');\n            item_1 = indexval === -1 ? item_1 : item_1.substring(indexval);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item_1);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n            var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n            var path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n            var action = parent.isDragDrop ? 'move' : parent.fileAction;\n            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n          }\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.fileLength++;\n          if (replaceItems[parent.fileLength]) {\n            var item_2 = parent.replaceItems[parent.fileLength];\n            var ind = item_2.lastIndexOf('/');\n            item_2 = ind === -1 ? item_2 : item_2.substring(ind);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item_2);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n            if (parent.duplicateItems.length !== 0) {\n              var action = parent.isDragDrop ? 'move' : parent.fileAction;\n              var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n              var path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n              paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n            }\n          }\n        }\n      }];\n      break;\n    case 'UploadRetry':\n      options.dialogName = 'Retry Upload';\n      options.header = getLocaleText(parent, 'Header-Retry');\n      options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' + getLocaleText(parent, 'Content-Retry') + '</div>';\n      options.open = onRetryOpen.bind(this, parent);\n      options.close = function () {\n        parent.isRetryOpened = false;\n        retryDlgClose(parent);\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Keep-Both')\n        },\n        click: function () {\n          retryDlgUpdate(parent, true);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Replace')\n        },\n        click: function () {\n          retryDlgUpdate(parent, false);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Skip')\n        },\n        click: function () {\n          var count = 0;\n          if (parent.isApplySame) {\n            count = parent.retryFiles.length;\n            parent.retryFiles = [];\n            retryDlgClose(parent);\n          } else {\n            count = 1;\n            parent.retryFiles.splice(0, 1);\n            if (parent.retryFiles.length !== 0) {\n              createExtDialog(parent, 'UploadRetry');\n            } else {\n              retryDlgClose(parent);\n            }\n          }\n          parent.notify(events.skipUpload, {\n            count: count\n          });\n        }\n      }];\n      break;\n  }\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\nfunction retryDlgUpdate(parent, isKeepBoth) {\n  if (parent.isApplySame) {\n    if (isKeepBoth) {\n      onKeepBothAll(parent);\n    } else {\n      onReplaceAll(parent);\n    }\n    retryDlgClose(parent);\n  } else {\n    parent.retryArgs.push({\n      action: isKeepBoth ? 'keepboth' : 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n    if (parent.retryFiles.length !== 0) {\n      createExtDialog(parent, 'UploadRetry');\n    } else {\n      retryDlgClose(parent);\n    }\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction retryDlgClose(parent) {\n  var flag = true;\n  if (parent.isRetryOpened) {\n    parent.isRetryOpened = false;\n  } else {\n    flag = false;\n  }\n  var ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n  if (ele) {\n    remove(ele);\n  }\n  if (flag) {\n    parent.extDialogObj.hide();\n  } else {\n    parent.retryFiles = [];\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction onRetryOpen(parent, args) {\n  parent.isRetryOpened = true;\n  var dialogEle = getValue('element', args);\n  var container = select('.e-dlg-content', dialogEle);\n  var checkContainer = parent.createElement('div', {\n    className: 'e-dlg-checkbox'\n  });\n  var checkbox = parent.createElement('input', {\n    id: parent.element.id + '_applyall'\n  });\n  checkContainer.appendChild(checkbox);\n  container.appendChild(checkContainer);\n  var checkBoxObj = new CheckBox({\n    label: getLocaleText(parent, 'ApplyAll-Label'),\n    change: function (args) {\n      parent.isApplySame = args.checked;\n    }\n  });\n  checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n  triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onKeepBothAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'keepboth',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReplaceAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction focusInput(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n  ele.focus();\n  ele.value = '';\n  var len = ele.value.length;\n  ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onFolderDialogOpen(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n  if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n  }\n  ele.parentElement.nextElementSibling.innerHTML = '';\n  ele.oninput = function () {\n    onValidate(parent, ele);\n  };\n  ele.onkeyup = function (e) {\n    var code = getKeyCode(e);\n    if (code === 13) {\n      onSubmit(parent);\n    }\n  };\n  focusInput(parent);\n  triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onRenameDialogOpen(parent) {\n  var inputEle = select('#rename', parent.dialogObj.element);\n  if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n  }\n  inputEle.parentElement.nextElementSibling.innerHTML = '';\n  inputEle.oninput = function () {\n    onValidate(parent, inputEle);\n  };\n  inputEle.onkeyup = function (e) {\n    var code = getKeyCode(e);\n    if (code === 13) {\n      onReSubmit(parent);\n    }\n  };\n  onFocusRenameInput(parent, inputEle);\n  triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onFocusRenameInput(parent, inputEle) {\n  inputEle.focus();\n  var txt = '';\n  if (parent.isFile && !parent.showFileExtension) {\n    var index = parent.currentItemText.lastIndexOf('.');\n    txt = index === -1 ? parent.currentItemText : parent.currentItemText.substring(0, index);\n  } else {\n    txt = parent.currentItemText;\n  }\n  inputEle.value = txt;\n  if (parent.isFile && parent.showFileExtension && inputEle.value.indexOf('.') !== -1) {\n    inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n  } else {\n    inputEle.setSelectionRange(0, inputEle.value.length);\n  }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\nfunction createInput(ele, placeholder) {\n  Input.createInput({\n    element: ele,\n    properties: {\n      placeholder: placeholder\n    }\n  });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\nfunction getOptions(parent, text, e, details, replaceItems) {\n  var options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  var permission;\n  var formattedString;\n  var intl;\n  var strArr;\n  var fileType;\n  var location;\n  options.open = function () {\n    triggerPopupOpen(parent, parent.dialogObj, options.dialogName);\n  };\n  options.close = function () {\n    triggerPopupClose(parent, parent.dialogObj, options.dialogName);\n  };\n  text = details && details.multipleFiles === true ? 'MultipleFileDetails' : text;\n  switch (text) {\n    case 'NewFolder':\n      options.dialogName = 'Create Folder';\n      options.header = getLocaleText(parent, 'Header-NewFolder');\n      options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Create')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n          onSubmit(parent);\n        }\n      }];\n      options.open = onFolderDialogOpen.bind(this, parent);\n      break;\n    case 'Delete':\n      options.dialogName = 'Delete';\n      if (parent.selectedItems.length > 1) {\n        options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>').replace('{0}', parent.selectedItems.length.toString());\n        options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n      } else {\n        options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n        options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n      }\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function (e) {\n          onDeleteSubmit(parent);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n    case 'Rename':\n      options.dialogName = 'Rename';\n      options.header = getLocaleText(parent, 'Header-Rename');\n      options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Save')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n          onReSubmit(parent);\n        }\n      }];\n      options.open = onRenameDialogOpen.bind(this, parent);\n      break;\n    case 'details':\n      options.dialogName = 'File Details';\n      intl = new Internationalization(parent.locale);\n      formattedString = intl.formatDate(new Date(details.modified), {\n        format: 'MMMM dd, yyyy HH:mm:ss'\n      });\n      permission = '';\n      if (!isNOU(details.permission)) {\n        permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + CLS.VALUE + '\" >' + objectToString(details.permission) + '</td></tr>';\n      }\n      options.header = details.name;\n      options.content = '<table>' + '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + CLS.VALUE + '\" title=\"' + (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + CLS.VALUE + '\" title =\"' + details.size + '\">' + details.size + '</span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + CLS.VALUE + '\" title=\"' + details.location + '\">' + details.location + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + CLS.VALUE + '\" >' + formattedString + '</td></tr>' + permission + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n    case 'MultipleFileDetails':\n      options.dialogName = 'File Details';\n      strArr = details.name.split(',').map(function (val) {\n        var index = val.indexOf('.') + 1;\n        return index === 0 ? 'Folder' : val.substr(index).replace(' ', '');\n      });\n      fileType = strArr.every(function (val, i, arr) {\n        return val === arr[0];\n      }) ? strArr[0] === 'Folder' ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type' : 'Multiple Types';\n      location = details.location;\n      options.header = details.name;\n      options.content = '<table><tr><td>' + getLocaleText(parent, 'Type') + ':</td><td class=\"' + CLS.VALUE + '\">' + fileType + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' + details.size + '<span class=\"' + CLS.VALUE + '\" title =\"' + details.size + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + ':</td><td class=\"' + CLS.VALUE + '\" title=\"' + location + '\">' + location + '</td></tr>' + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n    case 'Error':\n      parent.notify(events.actionFailure, {});\n      options.dialogName = 'Error';\n      if (e.error.code === '401') {\n        options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' + getLocaleText(parent, 'Access-Denied') + '</div>';\n      } else {\n        options.header = getLocaleText(parent, 'Error');\n      }\n      options.content = '<div class=\"' + CLS.ERROR_CONTENT + '\">' + e.error.message + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n  }\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction keydownAction(parent, dialogName, args) {\n  var btnElement = selectAll('.e-btn', parent.dialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction beforeExtOpen(parent, dlgName, args) {\n  var btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\nfunction preventKeydown(btnElement) {\n  var _loop_1 = function (btnCount) {\n    btnElement[btnCount].onkeydown = function (e) {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n      }\n    };\n    btnElement[btnCount].onkeyup = function (e) {\n      if (e.keyCode === 13) {\n        btnElement[btnCount].click();\n      }\n    };\n  };\n  for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n    _loop_1(btnCount);\n  }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {SelectedEventArgs} data - specifies the data.\n * @returns {HTMLElement} - returns the HTML element.\n * @private\n */\nfunction getFilesName(data) {\n  var parent = createElement('div', {\n    id: 'uploadDialog'\n  });\n  var ulElement = createElement('ul');\n  var filesData = data.isModified ? data.modifiedFilesData : data.filesData;\n  for (var fileCount = 0; fileCount < filesData.length; fileCount++) {\n    var liElement = createElement('li', {\n      className: 'dialogFiles'\n    });\n    liElement.innerHTML = filesData[fileCount].name;\n    ulElement.appendChild(liElement);\n  }\n  parent.appendChild(ulElement);\n  var errorTag = createElement('div', {\n    className: 'e-fe-error'\n  });\n  parent.appendChild(errorTag);\n  return parent;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\nfunction changeOptions(parent, options) {\n  parent.dialogObj.header = options.header;\n  parent.dialogObj.content = options.content;\n  parent.dialogObj.buttons = options.buttons;\n  parent.dialogObj.enableRtl = parent.enableRtl;\n  parent.dialogObj.open = options.open;\n  parent.dialogObj.close = options.close;\n  parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n  parent.dialogObj.beforeClose = function (args) {\n    triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n  };\n  parent.dialogObj.dataBind();\n  parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onSubmit(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n  createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReSubmit(parent) {\n  var ele = select('#rename', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n  var text = ele.value;\n  var oIndex = parent.currentItemText.lastIndexOf('.');\n  if (parent.isFile && !parent.showFileExtension) {\n    var extn = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    text += extn;\n  }\n  parent.renameText = text;\n  if (parent.currentItemText === text) {\n    parent.dialogObj.hide();\n    return;\n  }\n  var newPath = parent.activeModule === 'navigationpane' ? getParentPath(parent.path) : parent.path;\n  parent.renamedId = getValue('id', parent.itemData[0]);\n  if (parent.isFile) {\n    var oldExtension = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    var nIndex = text.lastIndexOf('.');\n    var newExtension = nIndex === -1 ? '' : text.substr(nIndex);\n    if (parent.showFileExtension && oldExtension !== newExtension) {\n      createExtDialog(parent, 'Extension', null, newPath);\n    } else {\n      rename(parent, newPath, text);\n    }\n  } else {\n    rename(parent, newPath, text);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onDeleteSubmit(parent) {\n  parent.dialogObj.hide();\n  parent.notify(events.deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onValidate(parent, ele) {\n  if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n    addInvalid(parent, ele);\n  } else if (ele.value === '') {\n    ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = '';\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onSubmitValidate(parent, ele) {\n  onValidate(parent, ele);\n  var len = ele.value.length - 1;\n  if (ele.value !== '' && (ele.value.lastIndexOf('.') === len || ele.value.lastIndexOf(' ') === len) && (parent.showFileExtension || parent.currentItemText.lastIndexOf('.') === -1)) {\n    addInvalid(parent, ele);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction addInvalid(parent, ele) {\n  var error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n  if (parent.enableHtmlSanitizer) {\n    ele.parentElement.nextElementSibling.textContent = error;\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = error;\n  }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\nfunction getKeyCode(e) {\n  var code;\n  if (e.keyCode) {\n    code = e.keyCode;\n  } else if (e.which) {\n    code = e.which;\n  } else {\n    code = e.charCode;\n  }\n  return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\nexport function createImageDialog(parent, header, imageUrl) {\n  var content = createElement('div', {\n    className: 'e-image-wrap'\n  });\n  var image = createElement('img', {\n    className: 'e-image',\n    attrs: {\n      src: imageUrl,\n      alt: header\n    }\n  });\n  content.appendChild(image);\n  if (isNOU(parent.viewerObj)) {\n    parent.viewerObj = new Dialog({\n      header: header,\n      content: content,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      isModal: true,\n      width: '350px',\n      height: '350px',\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n      locale: parent.locale,\n      enableResize: true,\n      allowDragging: true,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      enableRtl: parent.enableRtl,\n      open: openImage.bind(this, parent),\n      close: function () {\n        triggerPopupClose(parent, parent.viewerObj, 'Image Preview');\n      },\n      beforeOpen: function (args) {\n        triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      resizing: updateImage.bind(this, parent),\n      resizeStop: updateImage.bind(this, parent)\n    });\n    parent.viewerObj.isStringTemplate = true;\n    parent.viewerObj.appendTo('#' + parent.element.id + CLS.IMG_DIALOG_ID);\n  } else {\n    parent.viewerObj.refresh();\n    parent.viewerObj.header = header;\n    parent.viewerObj.content = content;\n    parent.viewerObj.enableRtl = parent.enableRtl;\n    parent.viewerObj.dataBind();\n    parent.viewerObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openImage(parent) {\n  setTimeout(function () {\n    if (parent.viewerObj) {\n      parent.viewerObj.element.focus();\n    }\n  });\n  updateImage(parent);\n  triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction updateImage(parent) {\n  var content = select('.e-dlg-content', parent.viewerObj.element);\n  var imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n  var cssObj = window.getComputedStyle(content, null);\n  var paddingWidth = cssObj ? 2 * parseFloat(cssObj.paddingRight) : 36;\n  var paddingHeight = cssObj ? 2 * parseFloat(cssObj.paddingBottom) : 20;\n  imgWrap.style.width = content.offsetWidth - paddingWidth + 'px';\n  imgWrap.style.height = content.offsetHeight - paddingHeight + 'px';\n}","map":{"version":3,"names":["Dialog","select","isNullOrUndefined","isNOU","createElement","Internationalization","getValue","remove","selectAll","createFolder","CLS","events","paste","rename","getLocaleText","getDuplicateData","getParentPath","objectToString","getCssClass","Input","CheckBox","createDialog","parent","text","e","details","replaceItems","options","getOptions","dialogObj","beforeOpen","keydownAction","bind","dialogName","beforeClose","args","triggerPopupBeforeClose","header","content","buttons","animationSettings","effect","showCloseIcon","closeOnEscape","visible","allowDragging","isModal","target","popupTarget","element","id","cssClass","isMobile","MOB_POPUP","ROOT_POPUP","width","open","close","enableRtl","enableHtmlSanitizer","locale","isStringTemplate","appendTo","DIALOG_ID","changeOptions","createExtDialog","newPath","extOptions","getExtOptions","isApplySame","extDialogObj","beforeExtOpen","EXTN_DIALOG_ID","dataBind","show","triggerPopupBeforeOpen","dlgModule","eventArgs","cancel","popupName","popupModule","trigger","eventargs","isInteracted","actionFailure","triggerPopupOpen","triggerPopupClose","duplicateContent","item","index","buttonModel","isPrimary","click","hide","renameText","fileLength","lastIndexOf","substring","replace","isDropEnd","duplicateItems","length","fileDetails","droppedObjects","isDragDrop","push","duplicateRecords","item_1","indexval","targetPath","dragPath","path","dropPath","folderPath","action","fileAction","item_2","ind","retryFiles","name","onRetryOpen","isRetryOpened","retryDlgClose","retryDlgUpdate","count","splice","notify","skipUpload","isKeepBoth","onKeepBothAll","onReplaceAll","retryArgs","file","uploadObj","retry","flag","ele","dialogEle","container","checkContainer","className","checkbox","appendChild","checkBoxObj","label","change","checked","focusInput","focus","value","len","setSelectionRange","onFolderDialogOpen","parentElement","classList","contains","createInput","nextElementSibling","innerHTML","oninput","onValidate","onkeyup","code","getKeyCode","onSubmit","onRenameDialogOpen","inputEle","onReSubmit","onFocusRenameInput","txt","isFile","showFileExtension","currentItemText","indexOf","placeholder","properties","permission","formattedString","intl","strArr","fileType","location","multipleFiles","type","selectedItems","toString","onDeleteSubmit","formatDate","Date","modified","format","VALUE","size","split","map","val","substr","every","i","arr","toLocaleUpperCase","error","ERROR_CONTENT","message","btnElement","preventKeydown","dlgName","_loop_1","btnCount","onkeydown","keyCode","preventDefault","getFilesName","data","ulElement","filesData","isModified","modifiedFilesData","fileCount","liElement","errorTag","onSubmitValidate","oIndex","extn","activeModule","renamedId","itemData","oldExtension","nIndex","newExtension","deleteInit","test","addInvalid","textContent","which","charCode","createImageDialog","imageUrl","image","attrs","src","alt","viewerObj","height","enableResize","position","X","Y","openImage","resizing","updateImage","resizeStop","IMG_DIALOG_ID","refresh","setTimeout","imgWrap","cssObj","window","getComputedStyle","paddingWidth","parseFloat","paddingRight","paddingHeight","paddingBottom","style","offsetWidth","offsetHeight"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-filemanager/src/file-manager/pop-up/dialog.js"],"sourcesContent":["import { Dialog } from '@syncfusion/ej2-popups';\nimport { select, isNullOrUndefined as isNOU, createElement, Internationalization } from '@syncfusion/ej2-base';\nimport { getValue, remove, selectAll } from '@syncfusion/ej2-base';\nimport { createFolder } from '../common/operations';\nimport * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { paste, rename } from '../common/operations';\nimport { getLocaleText, getDuplicateData, getParentPath, objectToString, getCssClass } from '../common/utility';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\nexport function createDialog(parent, text, e, details, replaceItems) {\n    var options = getOptions(parent, text, e, details, replaceItems);\n    if (isNOU(parent.dialogObj)) {\n        parent.dialogObj = new Dialog({\n            beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n            },\n            header: options.header,\n            content: options.content,\n            buttons: options.buttons,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            allowDragging: true,\n            isModal: true,\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n            width: '350px',\n            open: options.open,\n            close: options.close,\n            enableRtl: parent.enableRtl,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.dialogObj.isStringTemplate = true;\n        parent.dialogObj.appendTo('#' + parent.element.id + CLS.DIALOG_ID);\n    }\n    else {\n        changeOptions(parent, options);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\nexport function createExtDialog(parent, text, replaceItems, newPath) {\n    var extOptions = getExtOptions(parent, text, replaceItems, newPath);\n    parent.isApplySame = false;\n    if (isNOU(parent.extDialogObj)) {\n        parent.extDialogObj = new Dialog({\n            beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n            },\n            content: extOptions.content,\n            header: extOptions.header,\n            closeOnEscape: true,\n            allowDragging: true,\n            animationSettings: { effect: 'None' },\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n            enableRtl: parent.enableRtl,\n            showCloseIcon: true,\n            isModal: true,\n            width: 350,\n            buttons: extOptions.buttons,\n            open: extOptions.open,\n            close: extOptions.close,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.extDialogObj.isStringTemplate = true;\n        parent.extDialogObj.appendTo('#' + parent.element.id + CLS.EXTN_DIALOG_ID);\n    }\n    else {\n        parent.extDialogObj.header = extOptions.header;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.open = extOptions.open;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.content = extOptions.content;\n        parent.extDialogObj.buttons = extOptions.buttons;\n        parent.extDialogObj.enableRtl = parent.enableRtl;\n        parent.extDialogObj.locale = parent.locale;\n        parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n        parent.extDialogObj.beforeClose = function (args) {\n            triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n        };\n        parent.extDialogObj.dataBind();\n        parent.extDialogObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n    var eventArgs = {\n        cancel: args.cancel, popupName: dialogName, popupModule: dlgModule\n    };\n    parent.trigger('beforePopupOpen', eventArgs, function (eventargs) {\n        args.cancel = eventargs.cancel;\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n    var eventArgs = {\n        cancel: args.cancel, popupModule: dlgModule, popupName: dialogName\n    };\n    parent.trigger('beforePopupClose', eventArgs, function (eventargs) {\n        args.cancel = eventargs.cancel;\n        if (!args.cancel && args.isInteracted && ((dialogName === 'Rename') || (dialogName === 'Create Folder'))) {\n            parent.trigger(events.actionFailure, {});\n        }\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n    var args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n    var args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupClose', args);\n}\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n    var options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    var duplicateContent;\n    var item;\n    var index;\n    options.open = function () { triggerPopupOpen(parent, parent.extDialogObj, options.dialogName); };\n    options.close = function () { triggerPopupClose(parent, parent.extDialogObj, options.dialogName); };\n    switch (text) {\n        case 'Extension':\n            options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n            options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n            options.buttons = [{\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function () {\n                        parent.extDialogObj.hide();\n                        rename(parent, newPath, parent.renameText);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.extDialogObj.hide();\n                        parent.dialogObj.hide();\n                    }\n                }];\n            options.dialogName = 'Extension Change';\n            break;\n        case 'DuplicateItems':\n            options.dialogName = 'Duplicate Items';\n            parent.replaceItems = replaceItems;\n            item = parent.replaceItems[parent.fileLength];\n            index = item.lastIndexOf('/');\n            item = index === -1 ? item : item.substring(index);\n            options.header = getLocaleText(parent, 'Header-Duplicate');\n            duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n            options.content = (duplicateContent).replace('{0}', item);\n            options.close = function () {\n                if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n                    var args = { fileDetails: parent.droppedObjects };\n                    parent.trigger('fileDropped', args);\n                    parent.isDropEnd = parent.isDragDrop = false;\n                }\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function () {\n                        parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n                        parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            var item_1 = parent.replaceItems[parent.fileLength];\n                            var indexval = item_1.lastIndexOf('/');\n                            item_1 = indexval === -1 ? item_1 : item_1.substring(indexval);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item_1);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                            var path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                parent.folderPath);\n                            var action = parent.isDragDrop ? 'move' : parent.fileAction;\n                            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                        }\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            var item_2 = parent.replaceItems[parent.fileLength];\n                            var ind = item_2.lastIndexOf('/');\n                            item_2 = ind === -1 ? item_2 : item_2.substring(ind);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item_2);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            if (parent.duplicateItems.length !== 0) {\n                                var action = parent.isDragDrop ? 'move' : parent.fileAction;\n                                var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                                var path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                    parent.folderPath);\n                                paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                            }\n                        }\n                    }\n                }\n            ];\n            break;\n        case 'UploadRetry':\n            options.dialogName = 'Retry Upload';\n            options.header = getLocaleText(parent, 'Header-Retry');\n            options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' +\n                (getLocaleText(parent, 'Content-Retry')) + '</div>';\n            options.open = onRetryOpen.bind(this, parent);\n            options.close = function () {\n                parent.isRetryOpened = false;\n                retryDlgClose(parent);\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Keep-Both') },\n                    click: function () {\n                        retryDlgUpdate(parent, true);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Replace') },\n                    click: function () {\n                        retryDlgUpdate(parent, false);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Skip') },\n                    click: function () {\n                        var count = 0;\n                        if (parent.isApplySame) {\n                            count = parent.retryFiles.length;\n                            parent.retryFiles = [];\n                            retryDlgClose(parent);\n                        }\n                        else {\n                            count = 1;\n                            parent.retryFiles.splice(0, 1);\n                            if (parent.retryFiles.length !== 0) {\n                                createExtDialog(parent, 'UploadRetry');\n                            }\n                            else {\n                                retryDlgClose(parent);\n                            }\n                        }\n                        parent.notify(events.skipUpload, { count: count });\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\nfunction retryDlgUpdate(parent, isKeepBoth) {\n    if (parent.isApplySame) {\n        if (isKeepBoth) {\n            onKeepBothAll(parent);\n        }\n        else {\n            onReplaceAll(parent);\n        }\n        retryDlgClose(parent);\n    }\n    else {\n        parent.retryArgs.push({\n            action: isKeepBoth ? 'keepboth' : 'replace',\n            file: parent.retryFiles[0]\n        });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n        if (parent.retryFiles.length !== 0) {\n            createExtDialog(parent, 'UploadRetry');\n        }\n        else {\n            retryDlgClose(parent);\n        }\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction retryDlgClose(parent) {\n    var flag = true;\n    if (parent.isRetryOpened) {\n        parent.isRetryOpened = false;\n    }\n    else {\n        flag = false;\n    }\n    var ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n    if (ele) {\n        remove(ele);\n    }\n    if (flag) {\n        parent.extDialogObj.hide();\n    }\n    else {\n        parent.retryFiles = [];\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction onRetryOpen(parent, args) {\n    parent.isRetryOpened = true;\n    var dialogEle = getValue('element', args);\n    var container = select('.e-dlg-content', dialogEle);\n    var checkContainer = parent.createElement('div', {\n        className: 'e-dlg-checkbox'\n    });\n    var checkbox = parent.createElement('input', {\n        id: parent.element.id + '_applyall'\n    });\n    checkContainer.appendChild(checkbox);\n    container.appendChild(checkContainer);\n    var checkBoxObj = new CheckBox({\n        label: getLocaleText(parent, 'ApplyAll-Label'),\n        change: function (args) {\n            parent.isApplySame = args.checked;\n        }\n    });\n    checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n    triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onKeepBothAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'keepboth', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReplaceAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'replace', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction focusInput(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    ele.focus();\n    ele.value = '';\n    var len = ele.value.length;\n    ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onFolderDialogOpen(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n    }\n    ele.parentElement.nextElementSibling.innerHTML = '';\n    ele.oninput = function () {\n        onValidate(parent, ele);\n    };\n    ele.onkeyup = function (e) {\n        var code = getKeyCode(e);\n        if (code === 13) {\n            onSubmit(parent);\n        }\n    };\n    focusInput(parent);\n    triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onRenameDialogOpen(parent) {\n    var inputEle = select('#rename', parent.dialogObj.element);\n    if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n    }\n    inputEle.parentElement.nextElementSibling.innerHTML = '';\n    inputEle.oninput = function () {\n        onValidate(parent, inputEle);\n    };\n    inputEle.onkeyup = function (e) {\n        var code = getKeyCode(e);\n        if (code === 13) {\n            onReSubmit(parent);\n        }\n    };\n    onFocusRenameInput(parent, inputEle);\n    triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onFocusRenameInput(parent, inputEle) {\n    inputEle.focus();\n    var txt = '';\n    if (parent.isFile && !parent.showFileExtension) {\n        var index = parent.currentItemText.lastIndexOf('.');\n        txt = (index === -1) ? parent.currentItemText : parent.currentItemText.substring(0, index);\n    }\n    else {\n        txt = parent.currentItemText;\n    }\n    inputEle.value = txt;\n    if (parent.isFile && parent.showFileExtension && (inputEle.value.indexOf('.') !== -1)) {\n        inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n    }\n    else {\n        inputEle.setSelectionRange(0, inputEle.value.length);\n    }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\nfunction createInput(ele, placeholder) {\n    Input.createInput({\n        element: ele,\n        properties: {\n            placeholder: placeholder\n        }\n    });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\nfunction getOptions(parent, text, e, details, replaceItems) {\n    var options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    var permission;\n    var formattedString;\n    var intl;\n    var strArr;\n    var fileType;\n    var location;\n    options.open = function () { triggerPopupOpen(parent, parent.dialogObj, options.dialogName); };\n    options.close = function () { triggerPopupClose(parent, parent.dialogObj, options.dialogName); };\n    text = (details && details.multipleFiles === true) ? 'MultipleFileDetails' : text;\n    switch (text) {\n        case 'NewFolder':\n            options.dialogName = 'Create Folder';\n            options.header = getLocaleText(parent, 'Header-NewFolder');\n            options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Create') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onFolderDialogOpen.bind(this, parent);\n            break;\n        case 'Delete':\n            options.dialogName = 'Delete';\n            if (parent.selectedItems.length > 1) {\n                options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>')\n                    .replace('{0}', parent.selectedItems.length.toString());\n                options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n            }\n            else {\n                options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n                options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n            }\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function (e) {\n                        onDeleteSubmit(parent);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Rename':\n            options.dialogName = 'Rename';\n            options.header = getLocaleText(parent, 'Header-Rename');\n            options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Save') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onReSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onRenameDialogOpen.bind(this, parent);\n            break;\n        case 'details':\n            options.dialogName = 'File Details';\n            intl = new Internationalization(parent.locale);\n            formattedString = intl.formatDate(new Date(details.modified), { format: 'MMMM dd, yyyy HH:mm:ss' });\n            permission = '';\n            if (!isNOU(details.permission)) {\n                permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + CLS.VALUE + '\" >'\n                    + objectToString(details.permission) + '</td></tr>';\n            }\n            options.header = details.name;\n            options.content = '<table>' +\n                '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + CLS.VALUE + '\" title=\"' +\n                (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + CLS.VALUE + '\" title =\"' +\n                details.size + '\">' + details.size + '</span></td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + CLS.VALUE + '\" title=\"' +\n                details.location + '\">' + details.location + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + CLS.VALUE + '\" >'\n                + formattedString + '</td></tr>'\n                + permission + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'MultipleFileDetails':\n            options.dialogName = 'File Details';\n            strArr = details.name.split(',').map(function (val) {\n                var index = val.indexOf('.') + 1;\n                return (index === 0) ? 'Folder' : val.substr(index).replace(' ', '');\n            });\n            fileType = strArr.every(function (val, i, arr) { return val === arr[0]; }) ?\n                ((strArr[0] === 'Folder') ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type') : 'Multiple Types';\n            location = details.location;\n            options.header = details.name;\n            options.content = '<table><tr><td>' + getLocaleText(parent, 'Type')\n                + ':</td><td class=\"' + CLS.VALUE + '\">' + fileType + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' +\n                details.size + '<span class=\"' + CLS.VALUE + '\" title =\"' + details.size\n                + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') +\n                ':</td><td class=\"' + CLS.VALUE + '\" title=\"' + location + '\">'\n                + location + '</td></tr>' + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Error':\n            parent.notify(events.actionFailure, {});\n            options.dialogName = 'Error';\n            if (e.error.code === '401') {\n                options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' +\n                    getLocaleText(parent, 'Access-Denied') + '</div>';\n            }\n            else {\n                options.header = getLocaleText(parent, 'Error');\n            }\n            options.content = '<div class=\"' + CLS.ERROR_CONTENT + '\">' + e.error.message + '</div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction keydownAction(parent, dialogName, args) {\n    var btnElement = selectAll('.e-btn', parent.dialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction beforeExtOpen(parent, dlgName, args) {\n    var btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\nfunction preventKeydown(btnElement) {\n    var _loop_1 = function (btnCount) {\n        btnElement[btnCount].onkeydown = function (e) {\n            if (e.keyCode === 13) {\n                e.preventDefault();\n            }\n        };\n        btnElement[btnCount].onkeyup = function (e) {\n            if (e.keyCode === 13) {\n                btnElement[btnCount].click();\n            }\n        };\n    };\n    for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n        _loop_1(btnCount);\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {SelectedEventArgs} data - specifies the data.\n * @returns {HTMLElement} - returns the HTML element.\n * @private\n */\nfunction getFilesName(data) {\n    var parent = createElement('div', { id: 'uploadDialog' });\n    var ulElement = createElement('ul');\n    var filesData = data.isModified ? data.modifiedFilesData : data.filesData;\n    for (var fileCount = 0; fileCount < filesData.length; fileCount++) {\n        var liElement = createElement('li', { className: 'dialogFiles' });\n        liElement.innerHTML = filesData[fileCount].name;\n        ulElement.appendChild(liElement);\n    }\n    parent.appendChild(ulElement);\n    var errorTag = createElement('div', { className: 'e-fe-error' });\n    parent.appendChild(errorTag);\n    return parent;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\nfunction changeOptions(parent, options) {\n    parent.dialogObj.header = options.header;\n    parent.dialogObj.content = options.content;\n    parent.dialogObj.buttons = options.buttons;\n    parent.dialogObj.enableRtl = parent.enableRtl;\n    parent.dialogObj.open = options.open;\n    parent.dialogObj.close = options.close;\n    parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n    parent.dialogObj.beforeClose = function (args) {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n    };\n    parent.dialogObj.dataBind();\n    parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onSubmit(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReSubmit(parent) {\n    var ele = select('#rename', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    var text = ele.value;\n    var oIndex = parent.currentItemText.lastIndexOf('.');\n    if (parent.isFile && !parent.showFileExtension) {\n        var extn = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        text += extn;\n    }\n    parent.renameText = text;\n    if (parent.currentItemText === text) {\n        parent.dialogObj.hide();\n        return;\n    }\n    var newPath = (parent.activeModule === 'navigationpane') ? getParentPath(parent.path) : parent.path;\n    parent.renamedId = getValue('id', parent.itemData[0]);\n    if (parent.isFile) {\n        var oldExtension = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        var nIndex = text.lastIndexOf('.');\n        var newExtension = (nIndex === -1) ? '' : text.substr(nIndex);\n        if (parent.showFileExtension && oldExtension !== newExtension) {\n            createExtDialog(parent, 'Extension', null, newPath);\n        }\n        else {\n            rename(parent, newPath, text);\n        }\n    }\n    else {\n        rename(parent, newPath, text);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onDeleteSubmit(parent) {\n    parent.dialogObj.hide();\n    parent.notify(events.deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onValidate(parent, ele) {\n    if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n        addInvalid(parent, ele);\n    }\n    else if (ele.value === '') {\n        ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = '';\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onSubmitValidate(parent, ele) {\n    onValidate(parent, ele);\n    var len = ele.value.length - 1;\n    if (ele.value !== '' && ((ele.value.lastIndexOf('.') === len) || (ele.value.lastIndexOf(' ') === len)) &&\n        (parent.showFileExtension || (parent.currentItemText.lastIndexOf('.') === -1))) {\n        addInvalid(parent, ele);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction addInvalid(parent, ele) {\n    var error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n    if (parent.enableHtmlSanitizer) {\n        ele.parentElement.nextElementSibling.textContent = error;\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = error;\n    }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\nfunction getKeyCode(e) {\n    var code;\n    if (e.keyCode) {\n        code = e.keyCode;\n    }\n    else if (e.which) {\n        code = e.which;\n    }\n    else {\n        code = e.charCode;\n    }\n    return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\nexport function createImageDialog(parent, header, imageUrl) {\n    var content = createElement('div', { className: 'e-image-wrap' });\n    var image = createElement('img', { className: 'e-image', attrs: { src: imageUrl, alt: header } });\n    content.appendChild(image);\n    if (isNOU(parent.viewerObj)) {\n        parent.viewerObj = new Dialog({\n            header: header,\n            content: content,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            isModal: true,\n            width: '350px',\n            height: '350px',\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n            locale: parent.locale,\n            enableResize: true,\n            allowDragging: true,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            position: { X: 'center', Y: 'center' },\n            enableRtl: parent.enableRtl,\n            open: openImage.bind(this, parent),\n            close: function () { triggerPopupClose(parent, parent.viewerObj, 'Image Preview'); },\n            beforeOpen: function (args) {\n                triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            resizing: updateImage.bind(this, parent),\n            resizeStop: updateImage.bind(this, parent)\n        });\n        parent.viewerObj.isStringTemplate = true;\n        parent.viewerObj.appendTo('#' + parent.element.id + CLS.IMG_DIALOG_ID);\n    }\n    else {\n        parent.viewerObj.refresh();\n        parent.viewerObj.header = header;\n        parent.viewerObj.content = content;\n        parent.viewerObj.enableRtl = parent.enableRtl;\n        parent.viewerObj.dataBind();\n        parent.viewerObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openImage(parent) {\n    setTimeout(function () {\n        if (parent.viewerObj) {\n            parent.viewerObj.element.focus();\n        }\n    });\n    updateImage(parent);\n    triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction updateImage(parent) {\n    var content = select('.e-dlg-content', parent.viewerObj.element);\n    var imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n    var cssObj = window.getComputedStyle(content, null);\n    var paddingWidth = cssObj ? (2 * parseFloat(cssObj.paddingRight)) : 36;\n    var paddingHeight = cssObj ? (2 * parseFloat(cssObj.paddingBottom)) : 20;\n    imgWrap.style.width = (content.offsetWidth - paddingWidth) + 'px';\n    imgWrap.style.height = (content.offsetHeight - paddingHeight) + 'px';\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}