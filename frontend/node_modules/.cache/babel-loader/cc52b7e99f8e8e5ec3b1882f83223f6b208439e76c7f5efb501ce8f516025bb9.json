{"ast":null,"code":"import { detach, closest, Browser, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, EventHandler, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport * as classes from '../base/classes';\nimport { dispatchEvent, parseHtml, hasClass } from '../base/util';\n/**\n * `Table` module is used to handle table actions.\n */\nvar Table = /** @class */function () {\n  function Table(parent, serviceLocator) {\n    this.ensureInsideTableList = true;\n    this.pageX = null;\n    this.pageY = null;\n    this.moveEle = null;\n    this.parent = parent;\n    this.rteID = parent.element.id;\n    this.l10n = serviceLocator.getService('rteLocale');\n    this.rendererFactory = serviceLocator.getService('rendererFactory');\n    this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n    this.addEventListener();\n  }\n  Table.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.createTable, this.renderDlgContent, this);\n    this.parent.on(events.initialEnd, this.afterRender, this);\n    this.parent.on(events.dynamicModule, this.afterRender, this);\n    this.parent.on(events.showTableDialog, this.showDialog, this);\n    this.parent.on(events.closeTableDialog, this.closeDialog, this);\n    this.parent.on(events.docClick, this.docClick, this);\n    this.parent.on(events.editAreaClick, this.editAreaClickHandler, this);\n    this.parent.on(events.clearDialogObj, this.clearDialogObj, this);\n    this.parent.on(events.tableToolbarAction, this.onToolbarAction, this);\n    this.parent.on(events.dropDownSelect, this.dropdownSelect, this);\n    this.parent.on(events.keyDown, this.keyDown, this);\n    this.parent.on(events.mouseUp, this.selectionTable, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  Table.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.createTable, this.renderDlgContent);\n    this.parent.off(events.initialEnd, this.afterRender);\n    this.parent.off(events.dynamicModule, this.afterRender);\n    this.parent.off(events.docClick, this.docClick);\n    this.parent.off(events.showTableDialog, this.showDialog);\n    this.parent.off(events.closeTableDialog, this.closeDialog);\n    this.parent.off(events.editAreaClick, this.editAreaClickHandler);\n    this.parent.off(events.clearDialogObj, this.clearDialogObj);\n    this.parent.off(events.tableToolbarAction, this.onToolbarAction);\n    this.parent.off(events.dropDownSelect, this.dropdownSelect);\n    this.parent.off(events.mouseDown, this.cellSelect);\n    this.parent.off(events.tableColorPickerChanged, this.setBGColor);\n    this.parent.off(events.keyDown, this.keyDown);\n    this.parent.off(events.mouseUp, this.selectionTable);\n    this.parent.off(events.destroy, this.destroy);\n  };\n  Table.prototype.selectionTable = function (e) {\n    var target = e.args.target;\n    if (Browser.info.name === 'mozilla' && !isNOU(closest(target, 'table')) && closest(target, 'table').tagName === 'TABLE') {\n      this.parent.contentModule.getEditPanel().setAttribute('contenteditable', 'true');\n    }\n  };\n  Table.prototype.afterRender = function () {\n    if (isNullOrUndefined(this.contentModule)) {\n      this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n      this.parent.on(events.tableColorPickerChanged, this.setBGColor, this);\n      this.parent.on(events.mouseDown, this.cellSelect, this);\n      if (this.parent.tableSettings.resize) {\n        EventHandler.add(this.parent.contentModule.getEditPanel(), Browser.touchStartEvent, this.resizeStart, this);\n      }\n      if (!Browser.isDevice && this.parent.tableSettings.resize) {\n        EventHandler.add(this.contentModule.getEditPanel(), 'mouseover', this.resizeHelper, this);\n      }\n    }\n  };\n  Table.prototype.dropdownSelect = function (e) {\n    var item = e.item;\n    if (!document.body.contains(document.body.querySelector('.e-rte-quick-toolbar')) || item.command !== 'Table') {\n      return;\n    }\n    var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n    var args = {\n      args: e,\n      selection: this.parent.formatter.editorManager.nodeSelection.save(range, this.contentModule.getDocument()),\n      selectParent: this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range)\n    };\n    switch (item.subCommand) {\n      case 'InsertRowBefore':\n      case 'InsertRowAfter':\n        this.addRow(args.selection, e);\n        break;\n      case 'InsertColumnLeft':\n      case 'InsertColumnRight':\n        this.addColumn(args.selection, e);\n        break;\n      case 'DeleteColumn':\n      case 'DeleteRow':\n        this.removeRowColumn(args.selection, e);\n        break;\n      case 'AlignTop':\n      case 'AlignMiddle':\n      case 'AlignBottom':\n        this.verticalAlign(args, e);\n        break;\n      case 'Dashed':\n      case 'Alternate':\n      case 'Custom':\n        this.tableStyles(args, item.subCommand);\n        break;\n      case 'Merge':\n      case 'VerticalSplit':\n      case 'HorizontalSplit':\n        this.UpdateCells(args.selection, e);\n        break;\n    }\n  };\n  Table.prototype.UpdateCells = function (selectCell, e) {\n    this.parent.formatter.process(this.parent, e, e, {\n      selection: selectCell,\n      subCommand: e.item.subCommand\n    });\n    this.hideTableQuickToolbar();\n  };\n  Table.prototype.keyDown = function (e) {\n    var event = e.args;\n    // eslint-disable-next-line\n    var proxy = this;\n    switch (event.action) {\n      case 'escape':\n        break;\n      case 'insert-table':\n        this.openDialog(true, e);\n        event.preventDefault();\n        break;\n    }\n    if (!isNullOrUndefined(this.parent.formatter.editorManager.nodeSelection) && this.contentModule && event.code !== 'KeyK') {\n      var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n      var selection = this.parent.formatter.editorManager.nodeSelection.save(range, this.contentModule.getDocument());\n      var ele = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range)[0];\n      ele = ele && ele.tagName !== 'TD' && ele.tagName !== 'TH' ? ele.parentElement : ele;\n      if (event.keyCode === 8 || event.keyCode === 46 || event.ctrlKey && event.keyCode === 88) {\n        if (ele && ele.tagName === 'TBODY') {\n          event.preventDefault();\n          proxy.removeTable(selection, event, true);\n        } else if (ele && ele.querySelectorAll('table').length > 0) {\n          this.removeResizeElement();\n        }\n      }\n      if (ele && ele.tagName !== 'TD' && ele.tagName !== 'TH') {\n        var closestTd = closest(ele, 'td');\n        ele = !isNullOrUndefined(closestTd) && this.parent.inputElement.contains(closestTd) ? closestTd : ele;\n      }\n      if (ele && (ele.tagName === 'TD' || ele.tagName === 'TH')) {\n        switch (event.keyCode) {\n          case 9:\n          case 37:\n          case 39:\n            proxy.tabSelection(event, selection, ele);\n            break;\n          case 40:\n          case 38:\n            proxy.tableArrowNavigation(event, selection, ele);\n            break;\n        }\n      }\n    }\n  };\n  Table.prototype.openDialog = function (isInternal, e) {\n    if (!isInternal) {\n      this.parent.contentModule.getEditPanel().focus();\n    }\n    if (this.parent.editorMode === 'HTML') {\n      var docElement = this.parent.contentModule.getDocument();\n      var range = this.parent.formatter.editorManager.nodeSelection.getRange(docElement);\n      var selection = this.parent.formatter.editorManager.nodeSelection.save(range, docElement);\n      var args = {\n        originalEvent: e ? e.args : {\n          action: 'insert-table'\n        },\n        item: {\n          command: 'Table',\n          subCommand: 'CreateTable'\n        }\n      };\n      this.insertTableDialog({\n        self: this,\n        args: args,\n        selection: selection\n      });\n    }\n  };\n  Table.prototype.showDialog = function () {\n    this.openDialog(false);\n  };\n  Table.prototype.closeDialog = function () {\n    if (this.editdlgObj) {\n      this.editdlgObj.hide({\n        returnValue: true\n      });\n    }\n  };\n  Table.prototype.onToolbarAction = function (args) {\n    var item = args.args.item;\n    switch (item.subCommand) {\n      case 'TableHeader':\n        this.tableHeader(args.selection, args.args);\n        break;\n      case 'TableRemove':\n        this.removeTable(args.selection, args.args);\n        break;\n      case 'TableEditProperties':\n        this.editTable(args);\n        break;\n    }\n  };\n  Table.prototype.verticalAlign = function (args, e) {\n    var tdEle = closest(args.selectParent[0], 'td') || closest(args.selectParent[0], 'th');\n    if (tdEle) {\n      this.parent.formatter.process(this.parent, e, e, {\n        tableCell: tdEle,\n        subCommand: e.item.subCommand\n      });\n    }\n  };\n  Table.prototype.tableStyles = function (args, command) {\n    var table = closest(args.selectParent[0], 'table');\n    if (command === 'Dashed') {\n      /* eslint-disable */\n      this.parent.element.classList.contains(classes.CLS_TB_DASH_BOR) ? this.parent.element.classList.remove(classes.CLS_TB_DASH_BOR) : this.parent.element.classList.add(classes.CLS_TB_DASH_BOR);\n      table.classList.contains(classes.CLS_TB_DASH_BOR) ? table.classList.remove(classes.CLS_TB_DASH_BOR) : table.classList.add(classes.CLS_TB_DASH_BOR);\n    }\n    if (command === 'Alternate') {\n      this.parent.element.classList.contains(classes.CLS_TB_ALT_BOR) ? this.parent.element.classList.remove(classes.CLS_TB_ALT_BOR) : this.parent.element.classList.add(classes.CLS_TB_ALT_BOR);\n      table.classList.contains(classes.CLS_TB_ALT_BOR) ? table.classList.remove(classes.CLS_TB_ALT_BOR) : table.classList.add(classes.CLS_TB_ALT_BOR);\n      /* eslint-enable */\n    }\n\n    if (args.args && args.args.item.cssClass) {\n      var classList = args.args.item.cssClass.split(' ');\n      for (var i = 0; i < classList.length; i++) {\n        if (table.classList.contains(classList[i])) {\n          table.classList.remove(classList[i]);\n        } else {\n          table.classList.add(classList[i]);\n        }\n      }\n    }\n    this.parent.formatter.saveData();\n    this.parent.formatter.editorManager.nodeSelection.restore();\n  };\n  Table.prototype.insideList = function (range) {\n    var blockNodes = this.parent.formatter.editorManager.domNode.blockNodes();\n    var nodes = [];\n    for (var i = 0; i < blockNodes.length; i++) {\n      if (blockNodes[i].parentNode.tagName === 'LI') {\n        nodes.push(blockNodes[i].parentNode);\n      } else if (blockNodes[i].tagName === 'LI' && blockNodes[i].childNodes[0].tagName !== 'P' && blockNodes[i].childNodes[0].tagName !== 'OL' && blockNodes[i].childNodes[0].tagName !== 'UL') {\n        nodes.push(blockNodes[i]);\n      }\n    }\n    if (nodes.length > 1 || nodes.length && range.startOffset === 0 && range.endOffset === 0) {\n      this.ensureInsideTableList = true;\n      return true;\n    } else {\n      this.ensureInsideTableList = false;\n      return false;\n    }\n  };\n  Table.prototype.tabSelection = function (event, selection, ele) {\n    var insideList = this.insideList(selection.range);\n    if ((event.keyCode === 37 || event.keyCode === 39) && selection.range.startContainer.nodeType === 3 || insideList) {\n      return;\n    }\n    event.preventDefault();\n    ele.classList.remove(classes.CLS_TABLE_SEL);\n    if (!event.shiftKey && event.keyCode !== 37) {\n      var nextElement = !isNullOrUndefined(ele.nextSibling) ? ele.nextSibling : !isNullOrUndefined(closest(ele, 'tr').nextSibling) ? closest(ele, 'tr').nextSibling.childNodes[0] : !isNullOrUndefined(closest(ele, 'table').nextSibling) ? closest(ele, 'table').nextSibling.nodeName.toLowerCase() === 'td' ? closest(ele, 'table').nextSibling : ele : ele;\n      if (ele === nextElement && ele.nodeName === 'TH') {\n        nextElement = closest(ele, 'table').rows[1].cells[0];\n      }\n      if (event.keyCode === 39 && ele === nextElement) {\n        nextElement = closest(ele, 'table').nextSibling;\n      }\n      if (nextElement) {\n        // eslint-disable-next-line\n        nextElement.textContent.trim() !== '' && closest(nextElement, 'td') ? selection.setSelectionNode(this.contentModule.getDocument(), nextElement) : selection.setSelectionText(this.contentModule.getDocument(), nextElement, nextElement, 0, 0);\n      }\n      if (ele === nextElement && event.keyCode !== 39 && nextElement) {\n        ele.classList.add(classes.CLS_TABLE_SEL);\n        this.addRow(selection, event, true);\n        ele.classList.remove(classes.CLS_TABLE_SEL);\n        nextElement = nextElement.parentElement.nextSibling.firstChild;\n        // eslint-disable-next-line\n        nextElement.textContent.trim() !== '' && closest(nextElement, 'td') ? selection.setSelectionNode(this.contentModule.getDocument(), nextElement) : selection.setSelectionText(this.contentModule.getDocument(), nextElement, nextElement, 0, 0);\n      }\n    } else {\n      var prevElement = !isNullOrUndefined(ele.previousSibling) ? ele.previousSibling : !isNullOrUndefined(closest(ele, 'tr').previousSibling) ? closest(ele, 'tr').previousSibling.childNodes[closest(ele, 'tr').previousSibling.childNodes.length - 1] : !isNullOrUndefined(closest(ele, 'table').previousSibling) ? closest(ele, 'table').previousSibling.nodeName.toLowerCase() === 'td' ? closest(ele, 'table').previousSibling : ele : ele;\n      if (ele === prevElement && ele.cellIndex === 0 && closest(ele, 'table').tHead) {\n        var clsTble = closest(ele, 'table');\n        prevElement = clsTble.rows[0].cells[clsTble.rows[0].cells.length - 1];\n      }\n      if (event.keyCode === 37 && ele === prevElement) {\n        prevElement = closest(ele, 'table').previousSibling;\n      }\n      if (prevElement) {\n        // eslint-disable-next-line\n        prevElement.textContent.trim() !== '' && closest(prevElement, 'td') ? selection.setSelectionNode(this.contentModule.getDocument(), prevElement) : selection.setSelectionText(this.contentModule.getDocument(), prevElement, prevElement, 0, 0);\n      }\n    }\n  };\n  Table.prototype.tableArrowNavigation = function (event, selection, ele) {\n    var selText = selection.range.startContainer;\n    if (event.keyCode === 40 && selText.nodeType === 3 && (selText.nextSibling && selText.nextSibling.nodeName === 'BR' || selText.parentNode && selText.parentNode.nodeName !== 'TD') || event.keyCode === 38 && selText.nodeType === 3 && (selText.previousSibling && selText.previousSibling.nodeName === 'BR' || selText.parentNode && selText.parentNode.nodeName !== 'TD')) {\n      return;\n    }\n    event.preventDefault();\n    ele.classList.remove(classes.CLS_TABLE_SEL);\n    if (event.keyCode === 40) {\n      ele = !isNullOrUndefined(closest(ele, 'tr').nextElementSibling) ? closest(ele, 'tr').nextElementSibling.children[ele.cellIndex] : closest(ele, 'table').tHead && ele.nodeName === 'TH' ? closest(ele, 'table').rows[1].cells[ele.cellIndex] : !isNullOrUndefined(closest(ele, 'table').nextSibling) ? closest(ele, 'table').nextSibling : ele;\n    } else {\n      ele = !isNullOrUndefined(closest(ele, 'tr').previousElementSibling) ? closest(ele, 'tr').previousElementSibling.children[ele.cellIndex] : closest(ele, 'table').tHead && ele.nodeName !== 'TH' ? closest(ele, 'table').tHead.rows[0].cells[ele.cellIndex] : !isNullOrUndefined(closest(ele, 'table').previousSibling) ? closest(ele, 'table').previousSibling : ele;\n    }\n    if (ele) {\n      selection.setSelectionText(this.contentModule.getDocument(), ele, ele, 0, 0);\n    }\n  };\n  Table.prototype.setBGColor = function (args) {\n    var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n    // eslint-disable-next-line\n    var selection = this.parent.formatter.editorManager.nodeSelection.save(range, this.contentModule.getDocument());\n    // eslint-disable-next-line\n    var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n    for (var i = 0; i < selectedCells.length; i++) {\n      selectedCells[i].style.backgroundColor = args.item.value;\n    }\n    this.parent.formatter.saveData();\n  };\n  Table.prototype.hideTableQuickToolbar = function () {\n    if (this.quickToolObj && this.quickToolObj.tableQTBar && document.body.contains(this.quickToolObj.tableQTBar.element)) {\n      this.quickToolObj.tableQTBar.hidePopup();\n    }\n  };\n  Table.prototype.tableHeader = function (selection, e) {\n    this.parent.formatter.process(this.parent, e, e.originalEvent, {\n      selection: selection,\n      subCommand: e.item.subCommand\n    });\n  };\n  Table.prototype.editAreaClickHandler = function (e) {\n    if (this.parent.readonly || !isNOU(closest(e.args.target, '.e-img-caption'))) {\n      return;\n    }\n    var args = e.args;\n    var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n    if (args.which === 2 || showOnRightClick && args.which === 1 || !showOnRightClick && args.which === 3) {\n      return;\n    }\n    if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.tableQTBar) {\n      this.quickToolObj = this.parent.quickToolbarModule;\n      var target = args.target;\n      this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n      var isPopupOpen = this.quickToolObj.tableQTBar.element.classList.contains('e-rte-pop');\n      if (isPopupOpen) {\n        return;\n      }\n      var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n      var closestTable = closest(target, 'table');\n      var startNode = this.parent.getRange().startContainer.parentElement;\n      var endNode = this.parent.getRange().endContainer.parentElement;\n      if (target && target.nodeName !== 'A' && target.nodeName !== 'IMG' && startNode === endNode && (target.nodeName === 'TD' || target.nodeName === 'TH' || target.nodeName === 'TABLE' || closestTable && this.parent.contentModule.getEditPanel().contains(closestTable)) && !(range.startContainer.nodeType === 3 && !range.collapsed)) {\n        var range_1 = this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n        this.parent.formatter.editorManager.nodeSelection.save(range_1, this.contentModule.getDocument());\n        this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n        var pageY = this.parent.iframeSettings.enable ? window.pageYOffset + this.parent.element.getBoundingClientRect().top + args.clientY : args.pageY;\n        this.quickToolObj.tableQTBar.showPopup(args.pageX, pageY, target);\n        this.parent.formatter.editorManager.nodeSelection.restore();\n      } else {\n        this.hideTableQuickToolbar();\n      }\n    }\n  };\n  Table.prototype.tableCellSelect = function (e) {\n    var target = e.target;\n    var row = Array.prototype.slice.call(target.parentElement.parentElement.children).indexOf(target.parentElement);\n    var col = Array.prototype.slice.call(target.parentElement.children).indexOf(target);\n    var list = this.dlgDiv.querySelectorAll('.e-rte-tablecell');\n    Array.prototype.forEach.call(list, function (item) {\n      var parentIndex = Array.prototype.slice.call(item.parentElement.parentElement.children).indexOf(item.parentElement);\n      var cellIndex = Array.prototype.slice.call(item.parentElement.children).indexOf(item);\n      removeClass([item], 'e-active');\n      if (parentIndex <= row && cellIndex <= col) {\n        addClass([item], 'e-active');\n      }\n    });\n    this.tblHeader.innerHTML = col + 1 + 'x' + (row + 1);\n  };\n  // eslint-disable-next-line\n  Table.prototype.tableMouseUp = function (e) {\n    EventHandler.remove(this.curTable, 'mousemove', this.tableMove);\n  };\n  // eslint-disable-next-line\n  Table.prototype.tableCellLeave = function (e) {\n    removeClass(this.dlgDiv.querySelectorAll('.e-rte-tablecell'), 'e-active');\n    addClass([this.dlgDiv.querySelector('.e-rte-tablecell')], 'e-active');\n    this.tblHeader.innerHTML = 1 + 'x' + 1;\n  };\n  Table.prototype.tableCellClick = function (e) {\n    var target = e.target;\n    var row = Array.prototype.slice.call(target.parentElement.parentElement.children).indexOf(target.parentElement) + 1;\n    var col = Array.prototype.slice.call(target.parentElement.children).indexOf(target) + 1;\n    this.self.tableInsert(row, col, e, this);\n  };\n  Table.prototype.tableInsert = function (row, col, e, selectionObj) {\n    var proxy = selectionObj.self ? selectionObj.self : this;\n    var startContainer = selectionObj.selection.range.startContainer;\n    if (startContainer.nodeName === 'P' && startContainer.textContent.trim() === '' && !(startContainer.childNodes.length > 0)) {\n      startContainer.innerHTML = '<br />';\n    }\n    var parentNode = startContainer.parentNode;\n    if (proxy.parent.editorMode === 'HTML' && (proxy.parent.iframeSettings.enable && !hasClass(parentNode.ownerDocument.querySelector('body'), 'e-lib') ||\n    // eslint-disable-next-line\n    !proxy.parent.iframeSettings.enable && isNOU(closest(parentNode, '[id=' + \"'\" + proxy.contentModule.getPanel().id + \"'\" + ']')))) {\n      proxy.contentModule.getEditPanel().focus();\n      var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.contentModule.getDocument());\n      selectionObj.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.contentModule.getDocument());\n    }\n    var value = {\n      rows: row,\n      columns: col,\n      width: {\n        minWidth: proxy.parent.tableSettings.minWidth,\n        maxWidth: proxy.parent.tableSettings.maxWidth,\n        width: proxy.parent.tableSettings.width\n      },\n      selection: selectionObj.selection\n    };\n    if (proxy.popupObj) {\n      proxy.popupObj.hide();\n    }\n    if (proxy.editdlgObj) {\n      proxy.editdlgObj.hide();\n    }\n    proxy.parent.formatter.process(proxy.parent, selectionObj.args, selectionObj.args.originalEvent, value);\n    proxy.contentModule.getEditPanel().focus();\n    proxy.parent.on(events.mouseDown, proxy.cellSelect, proxy);\n  };\n  Table.prototype.cellSelect = function (e) {\n    var target = e.args.target;\n    var tdNode = closest(target, 'td,th');\n    target = target.nodeName !== 'TD' && tdNode && this.parent.contentModule.getEditPanel().contains(tdNode) ? tdNode : target;\n    removeClass(this.contentModule.getEditPanel().querySelectorAll('table td, table th'), classes.CLS_TABLE_SEL);\n    if (target && (target.tagName === 'TD' || target.tagName === 'TH')) {\n      addClass([target], classes.CLS_TABLE_SEL);\n      this.activeCell = target;\n      this.curTable = this.curTable ? this.curTable : closest(target, 'table');\n      EventHandler.add(this.curTable, 'mousemove', this.tableMove, this);\n      EventHandler.add(this.curTable, 'mouseup', this.tableMouseUp, this);\n      this.removeResizeElement();\n      if (this.helper && this.contentModule.getEditPanel().contains(this.helper)) {\n        detach(this.helper);\n      }\n    }\n    if (Browser.info.name === 'mozilla' && !isNOU(closest(target, 'table')) && closest(target, 'table').tagName === 'TABLE') {\n      this.parent.contentModule.getEditPanel().setAttribute('contenteditable', 'false');\n    }\n  };\n  Table.prototype.tableMove = function (event) {\n    this.parent.formatter.editorManager.observer.notify('TABLE_MOVE', {\n      event: event,\n      selectNode: [this.activeCell]\n    });\n  };\n  Table.prototype.resizeHelper = function (e) {\n    if (this.parent.readonly) {\n      return;\n    }\n    var target = e.target || e.targetTouches[0].target;\n    var closestTable = closest(target, 'table.e-rte-table');\n    if (!isNOU(this.curTable) && !isNOU(closestTable) && closestTable !== this.curTable) {\n      this.removeResizeElement();\n      this.removeHelper(e);\n      this.cancelResizeAction();\n    }\n    if (target.nodeName === 'TABLE' || target.nodeName === 'TD' || target.nodeName === 'TH') {\n      this.curTable = closestTable && this.parent.contentModule.getEditPanel().contains(closestTable) && (target.nodeName === 'TD' || target.nodeName === 'TH') ? closestTable : target;\n      this.removeResizeElement();\n      this.tableResizeEleCreation(this.curTable, e);\n    }\n  };\n  Table.prototype.tableResizeEleCreation = function (table, e) {\n    this.parent.preventDefaultResize(e);\n    var columns = Array.prototype.slice.call(table.rows[this.calMaxCol(table)].cells, 1);\n    var rows = [];\n    for (var i = 0; i < table.rows.length; i++) {\n      rows.push(Array.prototype.slice.call(table.rows[i].cells, 0, 1)[0]);\n    }\n    var height = parseInt(getComputedStyle(table).height, 10);\n    var width = parseInt(getComputedStyle(table).width, 10);\n    var pos = this.calcPos(table);\n    for (var i = 0; columns.length > i; i++) {\n      var colReEle = this.parent.createElement('span', {\n        attrs: {\n          'data-col': (i + 1).toString(),\n          'unselectable': 'on',\n          'contenteditable': 'false'\n        }\n      });\n      colReEle.classList.add(classes.CLS_RTE_TABLE_RESIZE, classes.CLS_TB_COL_RES);\n      colReEle.style.cssText = 'height: ' + height + 'px; width: 4px; top: ' + pos.top + 'px; left:' + (pos.left + this.calcPos(columns[i]).left) + 'px;';\n      this.contentModule.getEditPanel().appendChild(colReEle);\n    }\n    for (var i = 0; rows.length > i; i++) {\n      var rowReEle = this.parent.createElement('span', {\n        attrs: {\n          'data-row': i.toString(),\n          'unselectable': 'on',\n          'contenteditable': 'false'\n        }\n      });\n      rowReEle.classList.add(classes.CLS_RTE_TABLE_RESIZE, classes.CLS_TB_ROW_RES);\n      var rowPosLeft = !isNOU(table.getAttribute('cellspacing')) || table.getAttribute('cellspacing') !== '' ? 0 : this.calcPos(rows[i]).left;\n      rowReEle.style.cssText = 'width: ' + width + 'px; height: 4px; top: ' + (this.calcPos(rows[i]).top + pos.top + rows[i].offsetHeight - 2) + 'px; left:' + (rowPosLeft + pos.left) + 'px;';\n      this.contentModule.getEditPanel().appendChild(rowReEle);\n    }\n    var tableReBox = this.parent.createElement('span', {\n      className: classes.CLS_TB_BOX_RES,\n      attrs: {\n        'data-col': columns.length.toString(),\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      }\n    });\n    tableReBox.style.cssText = 'top: ' + (pos.top + height - 4) + 'px; left:' + (pos.left + width - 4) + 'px;';\n    if (Browser.isDevice) {\n      tableReBox.classList.add('e-rmob');\n    }\n    this.contentModule.getEditPanel().appendChild(tableReBox);\n  };\n  Table.prototype.removeResizeElement = function () {\n    var item = this.parent.contentModule.getEditPanel().querySelectorAll('.e-column-resize, .e-row-resize, .e-table-box');\n    if (item.length > 0) {\n      for (var i = 0; i < item.length; i++) {\n        detach(item[i]);\n      }\n    }\n  };\n  Table.prototype.calcPos = function (elem) {\n    var parentOffset = {\n      top: 0,\n      left: 0\n    };\n    // eslint-disable-next-line\n    var offset = elem.getBoundingClientRect();\n    var doc = elem.ownerDocument;\n    var offsetParent = elem.offsetParent || doc.documentElement;\n    while (offsetParent && (offsetParent === doc.body || offsetParent === doc.documentElement) && offsetParent.style.position === 'static') {\n      offsetParent = offsetParent.parentNode;\n    }\n    if (offsetParent.nodeName === 'TD' && elem.nodeName === 'TABLE') {\n      offsetParent = closest(offsetParent, '.e-rte-content');\n    }\n    if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n      // eslint-disable-next-line\n      parentOffset = offsetParent.getBoundingClientRect();\n    }\n    return {\n      top: elem.offsetTop,\n      left: elem.offsetLeft\n    };\n  };\n  Table.prototype.getPointX = function (e) {\n    if (e.touches && e.touches.length) {\n      return e.touches[0].pageX;\n    } else {\n      return e.pageX;\n    }\n  };\n  Table.prototype.getPointY = function (e) {\n    if (e.touches && e.touches.length) {\n      return e.touches[0].pageY;\n    } else {\n      return e.pageY;\n    }\n  };\n  Table.prototype.resizeStart = function (e) {\n    var _this = this;\n    if (this.parent.readonly) {\n      return;\n    }\n    if (Browser.isDevice) {\n      this.resizeHelper(e);\n    }\n    var target = e.target;\n    if (target.classList.contains(classes.CLS_TB_COL_RES) || target.classList.contains(classes.CLS_TB_ROW_RES) || target.classList.contains(classes.CLS_TB_BOX_RES)) {\n      e.preventDefault();\n      this.parent.preventDefaultResize(e);\n      removeClass(this.curTable.querySelectorAll('td,th'), classes.CLS_TABLE_SEL);\n      this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n      this.pageX = this.getPointX(e);\n      this.pageY = this.getPointY(e);\n      this.resizeBtnInit();\n      this.hideTableQuickToolbar();\n      if (target.classList.contains(classes.CLS_TB_COL_RES)) {\n        this.resizeBtnStat.column = true;\n        this.columnEle = this.curTable.rows[this.calMaxCol(this.curTable)].cells[parseInt(target.getAttribute('data-col'), 10)];\n        this.colIndex = this.columnEle.cellIndex;\n        this.moveEle = e.target;\n        this.appendHelper();\n      }\n      if (target.classList.contains(classes.CLS_TB_ROW_RES)) {\n        this.rowEle = this.curTable.rows[parseInt(target.getAttribute('data-row'), 10)];\n        this.resizeBtnStat.row = true;\n        this.appendHelper();\n      }\n      if (target.classList.contains(classes.CLS_TB_BOX_RES)) {\n        this.resizeBtnStat.tableBox = true;\n      }\n      if (Browser.isDevice && this.helper && !this.helper.classList.contains('e-reicon')) {\n        this.helper.classList.add('e-reicon');\n        EventHandler.add(document, Browser.touchStartEvent, this.removeHelper, this);\n        EventHandler.add(this.helper, Browser.touchStartEvent, this.resizeStart, this);\n      } else {\n        var args = {\n          event: e,\n          requestType: 'Table'\n        };\n        this.parent.trigger(events.resizeStart, args, function (resizeStartArgs) {\n          if (resizeStartArgs.cancel) {\n            _this.cancelResizeAction();\n          }\n        });\n      }\n      EventHandler.add(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing, this);\n      EventHandler.add(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd, this);\n    }\n  };\n  Table.prototype.removeHelper = function (e) {\n    var cls = e.target.classList;\n    if (!cls.contains('e-reicon') && this.helper) {\n      EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper);\n      EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart);\n      if (this.helper && this.contentModule.getEditPanel().contains(this.helper)) {\n        detach(this.helper);\n      }\n      this.pageX = null;\n      this.helper = null;\n    }\n  };\n  Table.prototype.appendHelper = function () {\n    this.helper = this.parent.createElement('div', {\n      className: 'e-table-rhelper'\n    });\n    if (Browser.isDevice) {\n      this.helper.classList.add('e-reicon');\n    }\n    this.contentModule.getEditPanel().appendChild(this.helper);\n    this.setHelperHeight();\n  };\n  Table.prototype.setHelperHeight = function () {\n    var pos = this.calcPos(this.curTable);\n    if (this.resizeBtnStat.column) {\n      this.helper.classList.add('e-column-helper');\n      this.helper.style.cssText = 'height: ' + getComputedStyle(this.curTable).height + '; top: ' + pos.top + 'px; left:' + (pos.left + this.calcPos(this.columnEle).left - 1) + 'px;';\n    } else {\n      this.helper.classList.add('e-row-helper');\n      this.helper.style.cssText = 'width: ' + getComputedStyle(this.curTable).width + '; top: ' + (this.calcPos(this.rowEle).top + pos.top + this.rowEle.offsetHeight) + 'px; left:' + (this.calcPos(this.rowEle).left + pos.left) + 'px;';\n    }\n  };\n  Table.prototype.updateHelper = function () {\n    var pos = this.calcPos(this.curTable);\n    if (this.resizeBtnStat.column) {\n      var left = pos.left + this.calcPos(this.columnEle).left - 1;\n      this.helper.style.left = left + 'px';\n    } else {\n      var top_1 = this.calcPos(this.rowEle).top + pos.top + this.rowEle.offsetHeight;\n      this.helper.style.top = top_1 + 'px';\n    }\n  };\n  Table.prototype.calMaxCol = function (element) {\n    var max = 0;\n    var maxRowIndex;\n    for (var i = 0; i < element.rows.length; i++) {\n      if (max < element.rows[i].cells.length) {\n        maxRowIndex = i;\n        max = element.rows[i].cells.length;\n      }\n    }\n    return maxRowIndex;\n  };\n  Table.prototype.resizing = function (e) {\n    var _this = this;\n    var pageX = this.getPointX(e);\n    var pageY = this.getPointY(e);\n    var mouseX = this.parent.enableRtl ? -(pageX - this.pageX) : pageX - this.pageX;\n    var mouseY = this.parent.enableRtl ? -(pageY - this.pageY) : pageY - this.pageY;\n    this.pageX = pageX;\n    this.pageY = pageY;\n    var args = {\n      event: e,\n      requestType: 'table'\n    };\n    this.parent.trigger(events.onResize, args, function (resizingArgs) {\n      if (resizingArgs.cancel) {\n        _this.cancelResizeAction();\n      } else {\n        var tableReBox = _this.contentModule.getEditPanel().querySelector('.e-table-box');\n        var tableWidth = parseInt(getComputedStyle(_this.curTable).width, 10);\n        var tableHeight = parseInt(getComputedStyle(_this.curTable).height, 10);\n        var paddingSize = +getComputedStyle(_this.contentModule.getEditPanel()).paddingRight.match(/\\d/g).join('');\n        var rteWidth = _this.contentModule.getEditPanel().offsetWidth - paddingSize * 2;\n        if (_this.resizeBtnStat.column) {\n          var cellColl = _this.curTable.rows[_this.calMaxCol(_this.curTable)].cells;\n          var width = parseFloat(_this.columnEle.offsetWidth.toString());\n          var actualwid = width - mouseX;\n          var totalwid = parseFloat(_this.columnEle.offsetWidth.toString()) + parseFloat(cellColl[_this.colIndex - 1].offsetWidth.toString());\n          for (var i = 0; i < _this.curTable.rows.length; i++) {\n            if (totalwid - actualwid > 20 && actualwid > 20) {\n              var leftColumnWidth = totalwid - actualwid;\n              var rightColWidth = actualwid;\n              if (!isNOU(_this.curTable.rows[i].cells[_this.colIndex - 1])) {\n                _this.curTable.rows[i].cells[_this.colIndex - 1].style.width = _this.convertPixelToPercentage(leftColumnWidth, tableWidth) + '%';\n              }\n              if (!isNOU(_this.curTable.rows[i].cells[_this.colIndex])) {\n                _this.curTable.rows[i].cells[_this.colIndex].style.width = _this.convertPixelToPercentage(rightColWidth, tableWidth) + '%';\n              }\n            }\n          }\n          _this.updateHelper();\n        } else if (_this.resizeBtnStat.row) {\n          _this.parent.preventDefaultResize(e);\n          var height = parseFloat(_this.rowEle.clientHeight.toString()) + mouseY;\n          if (height > 20) {\n            _this.rowEle.style.height = height + 'px';\n          }\n          _this.curTable.style.height = '';\n          if (!isNOU(tableReBox)) {\n            tableReBox.style.cssText = 'top: ' + (_this.calcPos(_this.curTable).top + tableHeight - 4) + 'px; left:' + (_this.calcPos(_this.curTable).left + tableWidth - 4) + 'px;';\n          }\n          _this.updateHelper();\n        } else if (_this.resizeBtnStat.tableBox) {\n          if (!Browser.isDevice) {\n            EventHandler.remove(_this.contentModule.getEditPanel(), 'mouseover', _this.resizeHelper);\n          }\n          var widthType = _this.curTable.style.width.indexOf('%') > -1;\n          _this.curTable.style.width = widthType ? _this.convertPixelToPercentage(tableWidth + mouseX, rteWidth) + '%' : tableWidth + mouseX + 'px';\n          _this.curTable.style.height = tableHeight + mouseY + 'px';\n          tableReBox.classList.add('e-rbox-select');\n          tableReBox.style.cssText = 'top: ' + (_this.calcPos(_this.curTable).top + tableHeight - 4) + 'px; left:' + (_this.calcPos(_this.curTable).left + tableWidth - 4) + 'px;';\n        }\n      }\n    });\n  };\n  Table.prototype.convertPixelToPercentage = function (value, offsetValue) {\n    return value / offsetValue * 100;\n  };\n  Table.prototype.cancelResizeAction = function () {\n    EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n    EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n    this.removeResizeElement();\n  };\n  Table.prototype.resizeEnd = function (e) {\n    this.resizeBtnInit();\n    EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n    EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n    if (this.contentModule.getEditPanel().querySelector('.e-table-box') && this.contentModule.getEditPanel().contains(this.contentModule.getEditPanel().querySelector('.e-table-box'))) {\n      if (!Browser.isDevice) {\n        EventHandler.add(this.contentModule.getEditPanel(), 'mouseover', this.resizeHelper, this);\n      }\n      this.removeResizeElement();\n      if (this.helper && this.contentModule.getEditPanel().contains(this.helper)) {\n        detach(this.helper);\n        this.helper = null;\n      }\n      this.pageX = null;\n      this.pageY = null;\n      this.moveEle = null;\n    }\n    var args = {\n      event: e,\n      requestType: 'table'\n    };\n    this.parent.trigger(events.resizeStop, args);\n    this.parent.formatter.saveData();\n  };\n  Table.prototype.resizeBtnInit = function () {\n    return this.resizeBtnStat = {\n      column: false,\n      row: false,\n      tableBox: false\n    };\n  };\n  Table.prototype.addRow = function (selectCell, e, tabkey) {\n    var cmd;\n    if (tabkey) {\n      cmd = {\n        item: {\n          command: 'Table',\n          subCommand: 'InsertRowAfter'\n        }\n      };\n    }\n    var value = {\n      selection: selectCell,\n      subCommand: tabkey ? cmd.item.subCommand : e.item.subCommand\n    };\n    this.parent.formatter.process(this.parent, tabkey ? cmd : e, e, value);\n  };\n  Table.prototype.addColumn = function (selectCell, e) {\n    this.parent.formatter.process(this.parent, e, e, {\n      selection: selectCell,\n      width: this.parent.tableSettings.width,\n      subCommand: e.item.subCommand\n    });\n  };\n  Table.prototype.removeRowColumn = function (selectCell, e) {\n    this.parent.formatter.process(this.parent, e, e, {\n      selection: selectCell,\n      subCommand: e.item.subCommand\n    });\n    this.hideTableQuickToolbar();\n  };\n  Table.prototype.removeTable = function (selection, args, delKey) {\n    var cmd;\n    if (delKey) {\n      cmd = {\n        item: {\n          command: 'Table',\n          subCommand: 'TableRemove'\n        }\n      };\n    }\n    var value = {\n      selection: selection,\n      subCommand: delKey ? cmd.item.subCommand : args.item.subCommand\n    };\n    this.parent.formatter.process(this.parent, delKey ? cmd : args, args.originalEvent, value);\n    this.contentModule.getEditPanel().focus();\n    this.removeResizeElement();\n    this.hideTableQuickToolbar();\n  };\n  Table.prototype.renderDlgContent = function (args) {\n    var _this = this;\n    if (Browser.isDevice || this.parent.inlineMode.enable) {\n      this.insertTableDialog(args);\n      return;\n    }\n    if (this.popupObj) {\n      this.popupObj.hide();\n      return;\n    }\n    this.hideTableQuickToolbar();\n    var header = '1X1';\n    var insertbtn = this.l10n.getConstant('inserttablebtn');\n    this.dlgDiv = this.parent.createElement('div', {\n      className: 'e-rte-table-popup',\n      id: this.rteID + '_table'\n    });\n    this.tblHeader = this.parent.createElement('div', {\n      className: 'e-rte-popup-header'\n    });\n    this.tblHeader.innerHTML = header;\n    this.dlgDiv.appendChild(this.tblHeader);\n    var tableDiv = this.parent.createElement('div', {\n      className: 'e-rte-table-span'\n    });\n    this.drawTable(tableDiv, args);\n    this.dlgDiv.appendChild(tableDiv);\n    this.dlgDiv.appendChild(this.parent.createElement('span', {\n      className: 'e-span-border'\n    }));\n    var btnEle = this.parent.createElement('button', {\n      className: 'e-insert-table-btn',\n      id: this.rteID + '_insertTable',\n      attrs: {\n        type: 'button',\n        tabindex: '0'\n      }\n    });\n    if (!isNOU(this.parent.getToolbarElement().querySelector('.e-expended-nav'))) {\n      this.parent.getToolbarElement().querySelector('.e-expended-nav').setAttribute('tabindex', '1');\n    }\n    this.dlgDiv.appendChild(btnEle);\n    var button = new Button({\n      iconCss: 'e-icons e-create-table',\n      content: insertbtn,\n      cssClass: 'e-flat',\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    button.isStringTemplate = true;\n    button.appendTo(btnEle);\n    EventHandler.add(btnEle, 'click', this.insertTableDialog, {\n      self: this,\n      args: args.args,\n      selection: args.selection\n    });\n    this.parent.getToolbar().appendChild(this.dlgDiv);\n    var target = args.args.originalEvent.target;\n    target = target.classList.contains('e-toolbar-item') ? target.firstChild : target.parentElement;\n    this.popupObj = new Popup(this.dlgDiv, {\n      targetType: 'relative',\n      relateTo: target,\n      collision: {\n        X: 'fit',\n        Y: 'none'\n      },\n      offsetY: 8,\n      viewPortElement: this.parent.element,\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      enableRtl: this.parent.enableRtl,\n      zIndex: 10001,\n      // eslint-disable-next-line\n      close: function (event) {\n        _this.parent.isBlur = false;\n        _this.popupObj.destroy();\n        detach(_this.popupObj.element);\n        _this.popupObj = null;\n      }\n    });\n    addClass([this.popupObj.element], 'e-popup-open');\n    this.popupObj.refreshPosition(target);\n  };\n  Table.prototype.docClick = function (e) {\n    var target = e.args.target;\n    // eslint-disable-next-line\n    if (target && target.classList && (this.popupObj && !closest(target, '[id=' + \"'\" + this.popupObj.element.id + \"'\" + ']') || this.editdlgObj && !closest(target, '#' + this.editdlgObj.element.id)) && !target.classList.contains('e-create-table') && target.offsetParent && !target.offsetParent.classList.contains('e-rte-backgroundcolor-dropdown')) {\n      if (this.popupObj) {\n        this.popupObj.hide();\n      }\n      if (this.editdlgObj) {\n        this.editdlgObj.hide();\n      }\n      this.parent.isBlur = true;\n      dispatchEvent(this.parent.element, 'focusout');\n    }\n    var closestEle = closest(target, 'td');\n    var isExist = closestEle && this.parent.contentModule.getEditPanel().contains(closestEle) ? true : false;\n    if (target && target.tagName !== 'TD' && target.tagName !== 'TH' && !isExist && closest(target, '.e-rte-quick-popup') === null && target.offsetParent && !target.offsetParent.classList.contains('e-quick-dropdown') && !target.offsetParent.classList.contains('e-rte-backgroundcolor-dropdown') && !closest(target, '.e-rte-dropdown-popup') && !closest(target, '.e-rte-elements')) {\n      removeClass(this.parent.element.querySelectorAll('table td'), classes.CLS_TABLE_SEL);\n      if (!Browser.isIE) {\n        this.hideTableQuickToolbar();\n      }\n    }\n    if (target && target.classList && !target.classList.contains(classes.CLS_TB_COL_RES) && !target.classList.contains(classes.CLS_TB_ROW_RES) && !target.classList.contains(classes.CLS_TB_BOX_RES)) {\n      this.removeResizeElement();\n    }\n  };\n  Table.prototype.drawTable = function (tableDiv, args) {\n    var rowDiv;\n    var tableCell;\n    for (var row = 0; row < 3; row++) {\n      rowDiv = this.parent.createElement('div', {\n        className: 'e-rte-table-row',\n        attrs: {\n          'data-column': '' + row\n        }\n      });\n      for (var col = 0; col < 10; col++) {\n        var display = row > 2 ? 'none' : 'inline-block';\n        tableCell = this.parent.createElement('div', {\n          className: 'e-rte-tablecell e-default',\n          attrs: {\n            'data-cell': '' + col\n          }\n        });\n        rowDiv.appendChild(tableCell);\n        tableCell.style.display = display;\n        if (col === 0 && row === 0) {\n          addClass([tableCell], 'e-active');\n        }\n        EventHandler.add(tableCell, 'mousemove', this.tableCellSelect, this);\n        EventHandler.add(rowDiv, 'mouseleave', this.tableCellLeave, this);\n        EventHandler.add(tableCell, 'mouseup', this.tableCellClick, {\n          self: this,\n          args: args.args,\n          selection: args.selection\n        });\n      }\n      tableDiv.appendChild(rowDiv);\n    }\n  };\n  Table.prototype.editTable = function (args) {\n    var _this = this;\n    this.createDialog(args);\n    var editContent = this.tableDlgContent(args);\n    var update = this.l10n.getConstant('dialogUpdate');\n    var cancel = this.l10n.getConstant('dialogCancel');\n    var editHeader = this.l10n.getConstant('tableEditHeader');\n    this.editdlgObj.setProperties({\n      height: 'initial',\n      width: '290px',\n      content: editContent,\n      header: editHeader,\n      buttons: [{\n        click: this.applyProperties.bind(this, args),\n        buttonModel: {\n          content: update,\n          cssClass: 'e-flat e-size-update',\n          isPrimary: true\n        }\n      }, {\n        click: function (e) {\n          _this.cancelDialog(e);\n        },\n        buttonModel: {\n          cssClass: 'e-flat e-cancel',\n          content: cancel\n        }\n      }]\n    });\n    this.editdlgObj.element.style.maxHeight = 'none';\n    this.editdlgObj.content.querySelector('input').focus();\n    this.hideTableQuickToolbar();\n  };\n  Table.prototype.insertTableDialog = function (args) {\n    var proxy = this.self ? this.self : this;\n    if (proxy.popupObj) {\n      proxy.popupObj.hide();\n    }\n    proxy.createDialog(args);\n    var dlgContent = proxy.tableCellDlgContent();\n    var insert = proxy.l10n.getConstant('dialogInsert');\n    var cancel = proxy.l10n.getConstant('dialogCancel');\n    if (isNullOrUndefined(proxy.editdlgObj)) {\n      return;\n    }\n    proxy.editdlgObj.setProperties({\n      height: 'initial',\n      width: '290px',\n      content: dlgContent,\n      buttons: [{\n        click: proxy.customTable.bind(this, args),\n        buttonModel: {\n          content: insert,\n          cssClass: 'e-flat e-insert-table',\n          isPrimary: true\n        }\n      }, {\n        click: function (e) {\n          proxy.cancelDialog(e);\n        },\n        buttonModel: {\n          cssClass: 'e-flat e-cancel',\n          content: cancel\n        }\n      }]\n    });\n    proxy.editdlgObj.element.style.maxHeight = 'none';\n    proxy.editdlgObj.content.querySelector('input').focus();\n  };\n  Table.prototype.tableCellDlgContent = function () {\n    var tableColumn = this.l10n.getConstant('columns');\n    var tableRow = this.l10n.getConstant('rows');\n    var tableWrap = this.parent.createElement('div', {\n      className: 'e-cell-wrap'\n    });\n    var content = '<div class=\"e-rte-field\"><input type=\"text\" ' + ' data-role =\"none\" id=\"tableColumn\" class=\"e-table-column\"/></div>' + '<div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"tableRow\" class=\"e-table-row\" /></div>';\n    var contentElem = parseHtml(content);\n    tableWrap.appendChild(contentElem);\n    this.columnTextBox = new NumericTextBox({\n      format: 'n0',\n      min: 1,\n      value: 3,\n      placeholder: tableColumn,\n      floatLabelType: 'Auto',\n      max: 50,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    this.columnTextBox.isStringTemplate = true;\n    this.columnTextBox.appendTo(tableWrap.querySelector('#tableColumn'));\n    this.rowTextBox = new NumericTextBox({\n      format: 'n0',\n      min: 1,\n      value: 3,\n      placeholder: tableRow,\n      floatLabelType: 'Auto',\n      max: 50,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    this.rowTextBox.isStringTemplate = true;\n    this.rowTextBox.appendTo(tableWrap.querySelector('#tableRow'));\n    return tableWrap;\n  };\n  Table.prototype.clearDialogObj = function () {\n    if (this.editdlgObj) {\n      this.editdlgObj.destroy();\n      detach(this.editdlgObj.element);\n      this.editdlgObj = null;\n    }\n  };\n  // eslint-disable-next-line\n  Table.prototype.createDialog = function (args) {\n    var _this = this;\n    if (this.editdlgObj) {\n      this.editdlgObj.hide({\n        returnValue: true\n      });\n      return;\n    }\n    var tableDialog = this.parent.createElement('div', {\n      className: 'e-rte-edit-table',\n      id: this.rteID + '_tabledialog'\n    });\n    this.parent.element.appendChild(tableDialog);\n    var insert = this.l10n.getConstant('dialogInsert');\n    var cancel = this.l10n.getConstant('dialogCancel');\n    var header = this.l10n.getConstant('tabledialogHeader');\n    var dialogModel = {\n      header: header,\n      cssClass: classes.CLS_RTE_ELEMENTS,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      showCloseIcon: true,\n      closeOnEscape: true,\n      width: Browser.isDevice ? '290px' : '340px',\n      height: 'initial',\n      position: {\n        X: 'center',\n        Y: Browser.isDevice ? 'center' : 'top'\n      },\n      isModal: Browser.isDevice,\n      buttons: [{\n        buttonModel: {\n          content: insert,\n          cssClass: 'e-flat e-insert-table',\n          isPrimary: true\n        }\n      }, {\n        click: function (e) {\n          _this.cancelDialog(e);\n        },\n        buttonModel: {\n          cssClass: 'e-flat e-cancel',\n          content: cancel\n        }\n      }],\n      target: Browser.isDevice ? document.body : this.parent.element,\n      animationSettings: {\n        effect: 'None'\n      },\n      close: function (event) {\n        _this.parent.isBlur = false;\n        _this.editdlgObj.destroy();\n        detach(_this.editdlgObj.element);\n        _this.dialogRenderObj.close(event);\n        _this.editdlgObj = null;\n      }\n    };\n    this.editdlgObj = this.dialogRenderObj.render(dialogModel);\n    this.editdlgObj.appendTo(tableDialog);\n    if (this.quickToolObj && this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n      this.quickToolObj.inlineQTBar.hidePopup();\n    }\n  };\n  Table.prototype.customTable = function (args, e) {\n    var proxy = this.self ? this.self : this;\n    if (proxy.rowTextBox.value && proxy.columnTextBox.value) {\n      var argument = Browser.isDevice || !isNullOrUndefined(args.args) && !isNullOrUndefined(args.args.originalEvent) && args.args.originalEvent.action === 'insert-table' || proxy.parent.inlineMode.enable ? args : this;\n      proxy.tableInsert(proxy.rowTextBox.value, proxy.columnTextBox.value, e, argument);\n    }\n  };\n  // eslint-disable-next-line\n  Table.prototype.cancelDialog = function (e) {\n    this.parent.isBlur = false;\n    this.editdlgObj.hide({\n      returnValue: true\n    });\n  };\n  // eslint-disable-next-line\n  Table.prototype.applyProperties = function (args, e) {\n    var dialogEle = this.editdlgObj.element;\n    var table = closest(args.selectNode[0], 'table');\n    table.style.width = dialogEle.querySelector('.e-table-width').value + 'px';\n    if (dialogEle.querySelector('.e-cell-padding').value !== '') {\n      var tdElm = table.querySelectorAll('td');\n      for (var i = 0; i < tdElm.length; i++) {\n        var padVal = '';\n        if (tdElm[i].style.padding === '') {\n          padVal = tdElm[i].getAttribute('style') + ' padding:' + dialogEle.querySelector('.e-cell-padding').value + 'px;';\n        } else {\n          tdElm[i].style.padding = dialogEle.querySelector('.e-cell-padding').value + 'px';\n          padVal = tdElm[i].getAttribute('style');\n        }\n        tdElm[i].setAttribute('style', padVal);\n      }\n    }\n    table.cellSpacing = dialogEle.querySelector('.e-cell-spacing').value;\n    if (!isNOU(table.cellSpacing) || table.cellSpacing !== '0') {\n      addClass([table], classes.CLS_TABLE_BORDER);\n    } else {\n      removeClass([table], classes.CLS_TABLE_BORDER);\n    }\n    this.parent.formatter.saveData();\n    this.editdlgObj.hide({\n      returnValue: true\n    });\n  };\n  Table.prototype.tableDlgContent = function (e) {\n    var selectNode = e.selectParent[0];\n    var tableWidth = this.l10n.getConstant('tableWidth');\n    var cellPadding = this.l10n.getConstant('cellpadding');\n    var cellSpacing = this.l10n.getConstant('cellspacing');\n    var tableWrap = this.parent.createElement('div', {\n      className: 'e-table-sizewrap'\n    });\n    var widthVal = closest(selectNode, 'table').getClientRects()[0].width;\n    var padVal = closest(selectNode, 'td').style.padding;\n    var brdSpcVal = closest(selectNode, 'table').getAttribute('cellspacing');\n    var content = '<div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"tableWidth\" class=\"e-table-width\" ' + ' /></div>' + '<div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"cellPadding\" class=\"e-cell-padding\" />' + ' </div><div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"cellSpacing\" class=\"e-cell-spacing\" /></div>';\n    var contentElem = parseHtml(content);\n    tableWrap.appendChild(contentElem);\n    var widthNum = new NumericTextBox({\n      format: 'n0',\n      min: 0,\n      value: widthVal,\n      placeholder: tableWidth,\n      floatLabelType: 'Auto',\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    widthNum.isStringTemplate = true;\n    widthNum.appendTo(tableWrap.querySelector('#tableWidth'));\n    var padding = new NumericTextBox({\n      format: 'n0',\n      min: 0,\n      // eslint-disable-next-line\n      value: padVal !== '' ? parseInt(padVal, null) : 0,\n      placeholder: cellPadding,\n      floatLabelType: 'Auto',\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    padding.isStringTemplate = true;\n    padding.appendTo(tableWrap.querySelector('#cellPadding'));\n    var spacing = new NumericTextBox({\n      format: 'n0',\n      min: 0,\n      // eslint-disable-next-line\n      value: brdSpcVal !== '' && !isNOU(brdSpcVal) ? parseInt(brdSpcVal, null) : 0,\n      placeholder: cellSpacing,\n      floatLabelType: 'Auto',\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale\n    });\n    spacing.isStringTemplate = true;\n    spacing.appendTo(tableWrap.querySelector('#cellSpacing'));\n    return tableWrap;\n  };\n  /**\n   * Destroys the ToolBar.\n   *\n   * @function destroy\n   * @returns {void}\n   * @hidden\n    */\n  Table.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {void}\n   */\n  Table.prototype.getModuleName = function () {\n    return 'table';\n  };\n  return Table;\n}();\nexport { Table };","map":{"version":3,"names":["detach","closest","Browser","isNullOrUndefined","isNOU","EventHandler","addClass","removeClass","Popup","Button","events","RenderType","NumericTextBox","classes","dispatchEvent","parseHtml","hasClass","Table","parent","serviceLocator","ensureInsideTableList","pageX","pageY","moveEle","rteID","element","id","l10n","getService","rendererFactory","dialogRenderObj","addEventListener","prototype","isDestroyed","on","createTable","renderDlgContent","initialEnd","afterRender","dynamicModule","showTableDialog","showDialog","closeTableDialog","closeDialog","docClick","editAreaClick","editAreaClickHandler","clearDialogObj","tableToolbarAction","onToolbarAction","dropDownSelect","dropdownSelect","keyDown","mouseUp","selectionTable","destroy","removeEventListener","off","mouseDown","cellSelect","tableColorPickerChanged","setBGColor","e","target","args","info","name","tagName","contentModule","getEditPanel","setAttribute","getRenderer","Content","tableSettings","resize","add","touchStartEvent","resizeStart","isDevice","resizeHelper","item","document","body","contains","querySelector","command","range","formatter","editorManager","nodeSelection","getRange","getDocument","selection","save","selectParent","getParentNodeCollection","subCommand","addRow","addColumn","removeRowColumn","verticalAlign","tableStyles","UpdateCells","selectCell","process","hideTableQuickToolbar","event","proxy","action","openDialog","preventDefault","code","ele","parentElement","keyCode","ctrlKey","removeTable","querySelectorAll","length","removeResizeElement","closestTd","inputElement","tabSelection","tableArrowNavigation","isInternal","focus","editorMode","docElement","originalEvent","insertTableDialog","self","editdlgObj","hide","returnValue","tableHeader","editTable","tdEle","tableCell","table","classList","CLS_TB_DASH_BOR","remove","CLS_TB_ALT_BOR","cssClass","split","i","saveData","restore","insideList","blockNodes","domNode","nodes","parentNode","push","childNodes","startOffset","endOffset","startContainer","nodeType","CLS_TABLE_SEL","shiftKey","nextElement","nextSibling","nodeName","toLowerCase","rows","cells","textContent","trim","setSelectionNode","setSelectionText","firstChild","prevElement","previousSibling","cellIndex","tHead","clsTble","selText","nextElementSibling","children","previousElementSibling","selectedCells","curTable","style","backgroundColor","value","quickToolObj","tableQTBar","hidePopup","readonly","showOnRightClick","quickToolbarSettings","which","quickToolbarModule","isPopupOpen","closestTable","startNode","endNode","endContainer","collapsed","range_1","Clear","iframeSettings","enable","window","pageYOffset","getBoundingClientRect","top","clientY","showPopup","tableCellSelect","row","Array","slice","call","indexOf","col","list","dlgDiv","forEach","parentIndex","tblHeader","innerHTML","tableMouseUp","tableMove","tableCellLeave","tableCellClick","tableInsert","selectionObj","ownerDocument","getPanel","columns","width","minWidth","maxWidth","popupObj","tdNode","activeCell","helper","observer","notify","selectNode","targetTouches","removeHelper","cancelResizeAction","tableResizeEleCreation","preventDefaultResize","calMaxCol","height","parseInt","getComputedStyle","pos","calcPos","colReEle","createElement","attrs","toString","CLS_RTE_TABLE_RESIZE","CLS_TB_COL_RES","cssText","left","appendChild","rowReEle","CLS_TB_ROW_RES","rowPosLeft","getAttribute","offsetHeight","tableReBox","className","CLS_TB_BOX_RES","elem","parentOffset","offset","doc","offsetParent","documentElement","position","offsetTop","offsetLeft","getPointX","touches","getPointY","_this","resizeBtnInit","resizeBtnStat","column","columnEle","colIndex","appendHelper","rowEle","tableBox","requestType","trigger","resizeStartArgs","cancel","touchMoveEvent","resizing","touchEndEvent","resizeEnd","cls","setHelperHeight","updateHelper","top_1","max","maxRowIndex","mouseX","enableRtl","mouseY","onResize","resizingArgs","tableWidth","tableHeight","paddingSize","paddingRight","match","join","rteWidth","offsetWidth","cellColl","parseFloat","actualwid","totalwid","leftColumnWidth","rightColWidth","convertPixelToPercentage","clientHeight","widthType","offsetValue","resizeStop","tabkey","cmd","delKey","inlineMode","header","insertbtn","getConstant","tableDiv","drawTable","btnEle","type","tabindex","getToolbarElement","button","iconCss","content","locale","isStringTemplate","appendTo","getToolbar","targetType","relateTo","collision","X","Y","offsetY","viewPortElement","zIndex","close","isBlur","refreshPosition","closestEle","isExist","isIE","rowDiv","display","createDialog","editContent","tableDlgContent","update","editHeader","setProperties","buttons","click","applyProperties","bind","buttonModel","isPrimary","cancelDialog","maxHeight","dlgContent","tableCellDlgContent","insert","customTable","tableColumn","tableRow","tableWrap","contentElem","columnTextBox","format","min","placeholder","floatLabelType","rowTextBox","tableDialog","dialogModel","CLS_RTE_ELEMENTS","showCloseIcon","closeOnEscape","isModal","animationSettings","effect","render","inlineQTBar","argument","dialogEle","tdElm","padVal","padding","cellSpacing","CLS_TABLE_BORDER","cellPadding","widthVal","getClientRects","brdSpcVal","widthNum","spacing","getModuleName"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/renderer/table-module.js"],"sourcesContent":["import { detach, closest, Browser, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, EventHandler, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport * as classes from '../base/classes';\nimport { dispatchEvent, parseHtml, hasClass } from '../base/util';\n/**\n * `Table` module is used to handle table actions.\n */\nvar Table = /** @class */ (function () {\n    function Table(parent, serviceLocator) {\n        this.ensureInsideTableList = true;\n        this.pageX = null;\n        this.pageY = null;\n        this.moveEle = null;\n        this.parent = parent;\n        this.rteID = parent.element.id;\n        this.l10n = serviceLocator.getService('rteLocale');\n        this.rendererFactory = serviceLocator.getService('rendererFactory');\n        this.dialogRenderObj = serviceLocator.getService('dialogRenderObject');\n        this.addEventListener();\n    }\n    Table.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.createTable, this.renderDlgContent, this);\n        this.parent.on(events.initialEnd, this.afterRender, this);\n        this.parent.on(events.dynamicModule, this.afterRender, this);\n        this.parent.on(events.showTableDialog, this.showDialog, this);\n        this.parent.on(events.closeTableDialog, this.closeDialog, this);\n        this.parent.on(events.docClick, this.docClick, this);\n        this.parent.on(events.editAreaClick, this.editAreaClickHandler, this);\n        this.parent.on(events.clearDialogObj, this.clearDialogObj, this);\n        this.parent.on(events.tableToolbarAction, this.onToolbarAction, this);\n        this.parent.on(events.dropDownSelect, this.dropdownSelect, this);\n        this.parent.on(events.keyDown, this.keyDown, this);\n        this.parent.on(events.mouseUp, this.selectionTable, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    Table.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.createTable, this.renderDlgContent);\n        this.parent.off(events.initialEnd, this.afterRender);\n        this.parent.off(events.dynamicModule, this.afterRender);\n        this.parent.off(events.docClick, this.docClick);\n        this.parent.off(events.showTableDialog, this.showDialog);\n        this.parent.off(events.closeTableDialog, this.closeDialog);\n        this.parent.off(events.editAreaClick, this.editAreaClickHandler);\n        this.parent.off(events.clearDialogObj, this.clearDialogObj);\n        this.parent.off(events.tableToolbarAction, this.onToolbarAction);\n        this.parent.off(events.dropDownSelect, this.dropdownSelect);\n        this.parent.off(events.mouseDown, this.cellSelect);\n        this.parent.off(events.tableColorPickerChanged, this.setBGColor);\n        this.parent.off(events.keyDown, this.keyDown);\n        this.parent.off(events.mouseUp, this.selectionTable);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    Table.prototype.selectionTable = function (e) {\n        var target = e.args.target;\n        if (Browser.info.name === 'mozilla' && !isNOU(closest(target, 'table')) && closest(target, 'table').tagName === 'TABLE') {\n            this.parent.contentModule.getEditPanel().setAttribute('contenteditable', 'true');\n        }\n    };\n    Table.prototype.afterRender = function () {\n        if (isNullOrUndefined(this.contentModule)) {\n            this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n            this.parent.on(events.tableColorPickerChanged, this.setBGColor, this);\n            this.parent.on(events.mouseDown, this.cellSelect, this);\n            if (this.parent.tableSettings.resize) {\n                EventHandler.add(this.parent.contentModule.getEditPanel(), Browser.touchStartEvent, this.resizeStart, this);\n            }\n            if (!Browser.isDevice && this.parent.tableSettings.resize) {\n                EventHandler.add(this.contentModule.getEditPanel(), 'mouseover', this.resizeHelper, this);\n            }\n        }\n    };\n    Table.prototype.dropdownSelect = function (e) {\n        var item = e.item;\n        if (!document.body.contains(document.body.querySelector('.e-rte-quick-toolbar')) || item.command !== 'Table') {\n            return;\n        }\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n        var args = {\n            args: e,\n            selection: this.parent.formatter.editorManager.nodeSelection.save(range, this.contentModule.getDocument()),\n            selectParent: this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range)\n        };\n        switch (item.subCommand) {\n            case 'InsertRowBefore':\n            case 'InsertRowAfter':\n                this.addRow(args.selection, e);\n                break;\n            case 'InsertColumnLeft':\n            case 'InsertColumnRight':\n                this.addColumn(args.selection, e);\n                break;\n            case 'DeleteColumn':\n            case 'DeleteRow':\n                this.removeRowColumn(args.selection, e);\n                break;\n            case 'AlignTop':\n            case 'AlignMiddle':\n            case 'AlignBottom':\n                this.verticalAlign(args, e);\n                break;\n            case 'Dashed':\n            case 'Alternate':\n            case 'Custom':\n                this.tableStyles(args, item.subCommand);\n                break;\n            case 'Merge':\n            case 'VerticalSplit':\n            case 'HorizontalSplit':\n                this.UpdateCells(args.selection, e);\n                break;\n        }\n    };\n    Table.prototype.UpdateCells = function (selectCell, e) {\n        this.parent.formatter.process(this.parent, e, e, { selection: selectCell, subCommand: e.item.subCommand });\n        this.hideTableQuickToolbar();\n    };\n    Table.prototype.keyDown = function (e) {\n        var event = e.args;\n        // eslint-disable-next-line\n        var proxy = this;\n        switch (event.action) {\n            case 'escape':\n                break;\n            case 'insert-table':\n                this.openDialog(true, e);\n                event.preventDefault();\n                break;\n        }\n        if (!isNullOrUndefined(this.parent.formatter.editorManager.nodeSelection) && this.contentModule\n            && event.code !== 'KeyK') {\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());\n            var selection = this.parent.formatter.editorManager.\n                nodeSelection.save(range, this.contentModule.getDocument());\n            var ele = this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(range)[0];\n            ele = (ele && ele.tagName !== 'TD' && ele.tagName !== 'TH') ? ele.parentElement : ele;\n            if ((event.keyCode === 8 || event.keyCode === 46) ||\n                (event.ctrlKey && event.keyCode === 88)) {\n                if (ele && ele.tagName === 'TBODY') {\n                    event.preventDefault();\n                    proxy.removeTable(selection, event, true);\n                }\n                else if (ele && ele.querySelectorAll('table').length > 0) {\n                    this.removeResizeElement();\n                }\n            }\n            if (ele && ele.tagName !== 'TD' && ele.tagName !== 'TH') {\n                var closestTd = closest(ele, 'td');\n                ele = !isNullOrUndefined(closestTd) && this.parent.inputElement.contains(closestTd) ? closestTd : ele;\n            }\n            if (ele && (ele.tagName === 'TD' || ele.tagName === 'TH')) {\n                switch (event.keyCode) {\n                    case 9:\n                    case 37:\n                    case 39:\n                        proxy.tabSelection(event, selection, ele);\n                        break;\n                    case 40:\n                    case 38:\n                        proxy.tableArrowNavigation(event, selection, ele);\n                        break;\n                }\n            }\n        }\n    };\n    Table.prototype.openDialog = function (isInternal, e) {\n        if (!isInternal) {\n            this.parent.contentModule.getEditPanel().focus();\n        }\n        if (this.parent.editorMode === 'HTML') {\n            var docElement = this.parent.contentModule.getDocument();\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(docElement);\n            var selection = this.parent.formatter.editorManager.nodeSelection.save(range, docElement);\n            var args = {\n                originalEvent: e ? e.args : { action: 'insert-table' },\n                item: {\n                    command: 'Table',\n                    subCommand: 'CreateTable'\n                }\n            };\n            this.insertTableDialog({ self: this, args: args, selection: selection });\n        }\n    };\n    Table.prototype.showDialog = function () {\n        this.openDialog(false);\n    };\n    Table.prototype.closeDialog = function () {\n        if (this.editdlgObj) {\n            this.editdlgObj.hide({ returnValue: true });\n        }\n    };\n    Table.prototype.onToolbarAction = function (args) {\n        var item = args.args.item;\n        switch (item.subCommand) {\n            case 'TableHeader':\n                this.tableHeader(args.selection, args.args);\n                break;\n            case 'TableRemove':\n                this.removeTable(args.selection, args.args);\n                break;\n            case 'TableEditProperties':\n                this.editTable(args);\n                break;\n        }\n    };\n    Table.prototype.verticalAlign = function (args, e) {\n        var tdEle = closest(args.selectParent[0], 'td') || closest(args.selectParent[0], 'th');\n        if (tdEle) {\n            this.parent.formatter.process(this.parent, e, e, { tableCell: tdEle, subCommand: e.item.subCommand });\n        }\n    };\n    Table.prototype.tableStyles = function (args, command) {\n        var table = closest(args.selectParent[0], 'table');\n        if (command === 'Dashed') {\n            /* eslint-disable */\n            (this.parent.element.classList.contains(classes.CLS_TB_DASH_BOR)) ?\n                this.parent.element.classList.remove(classes.CLS_TB_DASH_BOR) : this.parent.element.classList.add(classes.CLS_TB_DASH_BOR);\n            (table.classList.contains(classes.CLS_TB_DASH_BOR)) ? table.classList.remove(classes.CLS_TB_DASH_BOR) :\n                table.classList.add(classes.CLS_TB_DASH_BOR);\n        }\n        if (command === 'Alternate') {\n            (this.parent.element.classList.contains(classes.CLS_TB_ALT_BOR)) ?\n                this.parent.element.classList.remove(classes.CLS_TB_ALT_BOR) : this.parent.element.classList.add(classes.CLS_TB_ALT_BOR);\n            (table.classList.contains(classes.CLS_TB_ALT_BOR)) ? table.classList.remove(classes.CLS_TB_ALT_BOR) :\n                table.classList.add(classes.CLS_TB_ALT_BOR);\n            /* eslint-enable */\n        }\n        if (args.args && args.args.item.cssClass) {\n            var classList = args.args.item.cssClass.split(' ');\n            for (var i = 0; i < classList.length; i++) {\n                if (table.classList.contains(classList[i])) {\n                    table.classList.remove(classList[i]);\n                }\n                else {\n                    table.classList.add(classList[i]);\n                }\n            }\n        }\n        this.parent.formatter.saveData();\n        this.parent.formatter.editorManager.nodeSelection.restore();\n    };\n    Table.prototype.insideList = function (range) {\n        var blockNodes = this.parent.formatter.editorManager.domNode.blockNodes();\n        var nodes = [];\n        for (var i = 0; i < blockNodes.length; i++) {\n            if (blockNodes[i].parentNode.tagName === 'LI') {\n                nodes.push(blockNodes[i].parentNode);\n            }\n            else if (blockNodes[i].tagName === 'LI' && blockNodes[i].childNodes[0].tagName !== 'P' &&\n                (blockNodes[i].childNodes[0].tagName !== 'OL' &&\n                    blockNodes[i].childNodes[0].tagName !== 'UL')) {\n                nodes.push(blockNodes[i]);\n            }\n        }\n        if (nodes.length > 1 || nodes.length && ((range.startOffset === 0 && range.endOffset === 0))) {\n            this.ensureInsideTableList = true;\n            return true;\n        }\n        else {\n            this.ensureInsideTableList = false;\n            return false;\n        }\n    };\n    Table.prototype.tabSelection = function (event, selection, ele) {\n        var insideList = this.insideList(selection.range);\n        if ((event.keyCode === 37 || event.keyCode === 39) && selection.range.startContainer.nodeType === 3 ||\n            insideList) {\n            return;\n        }\n        event.preventDefault();\n        ele.classList.remove(classes.CLS_TABLE_SEL);\n        if (!event.shiftKey && event.keyCode !== 37) {\n            var nextElement = (!isNullOrUndefined(ele.nextSibling)) ? ele.nextSibling :\n                (!isNullOrUndefined(closest(ele, 'tr').nextSibling) ? closest(ele, 'tr').nextSibling.childNodes[0] :\n                    (!isNullOrUndefined(closest(ele, 'table').nextSibling)) ?\n                        (closest(ele, 'table').nextSibling.nodeName.toLowerCase() === 'td') ?\n                            closest(ele, 'table').nextSibling : ele : ele);\n            if (ele === nextElement && ele.nodeName === 'TH') {\n                nextElement = closest(ele, 'table').rows[1].cells[0];\n            }\n            if (event.keyCode === 39 && ele === nextElement) {\n                nextElement = closest(ele, 'table').nextSibling;\n            }\n            if (nextElement) {\n                // eslint-disable-next-line\n                (nextElement.textContent.trim() !== '' && closest(nextElement, 'td')) ?\n                    selection.setSelectionNode(this.contentModule.getDocument(), nextElement) :\n                    selection.setSelectionText(this.contentModule.getDocument(), nextElement, nextElement, 0, 0);\n            }\n            if (ele === nextElement && event.keyCode !== 39 && nextElement) {\n                ele.classList.add(classes.CLS_TABLE_SEL);\n                this.addRow(selection, event, true);\n                ele.classList.remove(classes.CLS_TABLE_SEL);\n                nextElement = nextElement.parentElement.nextSibling.firstChild;\n                // eslint-disable-next-line\n                (nextElement.textContent.trim() !== '' && closest(nextElement, 'td')) ?\n                    selection.setSelectionNode(this.contentModule.getDocument(), nextElement) :\n                    selection.setSelectionText(this.contentModule.getDocument(), nextElement, nextElement, 0, 0);\n            }\n        }\n        else {\n            var prevElement = (!isNullOrUndefined(ele.previousSibling)) ? ele.previousSibling :\n                (!isNullOrUndefined(closest(ele, 'tr').previousSibling) ?\n                    closest(ele, 'tr').previousSibling.childNodes[closest(ele, 'tr').previousSibling.childNodes.length - 1] :\n                    (!isNullOrUndefined(closest(ele, 'table').previousSibling)) ?\n                        (closest(ele, 'table').previousSibling.nodeName.toLowerCase() === 'td') ? closest(ele, 'table').previousSibling :\n                            ele : ele);\n            if (ele === prevElement && ele.cellIndex === 0 &&\n                closest(ele, 'table').tHead) {\n                var clsTble = closest(ele, 'table');\n                prevElement = clsTble.rows[0].cells[clsTble.rows[0].cells.length - 1];\n            }\n            if (event.keyCode === 37 && ele === prevElement) {\n                prevElement = closest(ele, 'table').previousSibling;\n            }\n            if (prevElement) {\n                // eslint-disable-next-line\n                (prevElement.textContent.trim() !== '' && closest(prevElement, 'td')) ?\n                    selection.setSelectionNode(this.contentModule.getDocument(), prevElement) :\n                    selection.setSelectionText(this.contentModule.getDocument(), prevElement, prevElement, 0, 0);\n            }\n        }\n    };\n    Table.prototype.tableArrowNavigation = function (event, selection, ele) {\n        var selText = selection.range.startContainer;\n        if ((event.keyCode === 40 && selText.nodeType === 3 && (selText.nextSibling && selText.nextSibling.nodeName === 'BR' ||\n            selText.parentNode && selText.parentNode.nodeName !== 'TD')) ||\n            (event.keyCode === 38 && selText.nodeType === 3 && (selText.previousSibling && selText.previousSibling.nodeName === 'BR' ||\n                selText.parentNode && selText.parentNode.nodeName !== 'TD'))) {\n            return;\n        }\n        event.preventDefault();\n        ele.classList.remove(classes.CLS_TABLE_SEL);\n        if (event.keyCode === 40) {\n            ele = (!isNullOrUndefined(closest(ele, 'tr').nextElementSibling)) ?\n                closest(ele, 'tr').nextElementSibling.children[ele.cellIndex] :\n                (closest(ele, 'table').tHead && ele.nodeName === 'TH') ?\n                    closest(ele, 'table').rows[1].cells[ele.cellIndex] :\n                    (!isNullOrUndefined(closest(ele, 'table').nextSibling)) ? closest(ele, 'table').nextSibling :\n                        ele;\n        }\n        else {\n            ele = (!isNullOrUndefined(closest(ele, 'tr').previousElementSibling)) ?\n                closest(ele, 'tr').previousElementSibling.children[ele.cellIndex] :\n                (closest(ele, 'table').tHead && ele.nodeName !== 'TH') ?\n                    closest(ele, 'table').tHead.rows[0].cells[ele.cellIndex] :\n                    (!isNullOrUndefined(closest(ele, 'table').previousSibling)) ? closest(ele, 'table').previousSibling :\n                        ele;\n        }\n        if (ele) {\n            selection.setSelectionText(this.contentModule.getDocument(), ele, ele, 0, 0);\n        }\n    };\n    Table.prototype.setBGColor = function (args) {\n        var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n        // eslint-disable-next-line\n        var selection = this.parent.formatter.editorManager.nodeSelection.save(range, this.contentModule.getDocument());\n        // eslint-disable-next-line\n        var selectedCells = this.curTable.querySelectorAll('.e-cell-select');\n        for (var i = 0; i < selectedCells.length; i++) {\n            selectedCells[i].style.backgroundColor = args.item.value;\n        }\n        this.parent.formatter.saveData();\n    };\n    Table.prototype.hideTableQuickToolbar = function () {\n        if (this.quickToolObj && this.quickToolObj.tableQTBar && document.body.contains(this.quickToolObj.tableQTBar.element)) {\n            this.quickToolObj.tableQTBar.hidePopup();\n        }\n    };\n    Table.prototype.tableHeader = function (selection, e) {\n        this.parent.formatter.process(this.parent, e, e.originalEvent, { selection: selection, subCommand: e.item.subCommand });\n    };\n    Table.prototype.editAreaClickHandler = function (e) {\n        if (this.parent.readonly || !isNOU(closest(e.args.target, '.e-img-caption'))) {\n            return;\n        }\n        var args = e.args;\n        var showOnRightClick = this.parent.quickToolbarSettings.showOnRightClick;\n        if (args.which === 2 || (showOnRightClick && args.which === 1) || (!showOnRightClick && args.which === 3)) {\n            return;\n        }\n        if (this.parent.editorMode === 'HTML' && this.parent.quickToolbarModule && this.parent.quickToolbarModule.tableQTBar) {\n            this.quickToolObj = this.parent.quickToolbarModule;\n            var target = args.target;\n            this.contentModule = this.rendererFactory.getRenderer(RenderType.Content);\n            var isPopupOpen = this.quickToolObj.tableQTBar.element.classList.contains('e-rte-pop');\n            if (isPopupOpen) {\n                return;\n            }\n            var range = this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n            var closestTable = closest(target, 'table');\n            var startNode = this.parent.getRange().startContainer.parentElement;\n            var endNode = this.parent.getRange().endContainer.parentElement;\n            if (target && target.nodeName !== 'A' && target.nodeName !== 'IMG' && startNode === endNode && (target.nodeName === 'TD' || target.nodeName === 'TH' ||\n                target.nodeName === 'TABLE' || (closestTable && this.parent.contentModule.getEditPanel().contains(closestTable)))\n                && !(range.startContainer.nodeType === 3 && !range.collapsed)) {\n                var range_1 = this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());\n                this.parent.formatter.editorManager.nodeSelection.save(range_1, this.contentModule.getDocument());\n                this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n                var pageY = (this.parent.iframeSettings.enable) ? window.pageYOffset +\n                    this.parent.element.getBoundingClientRect().top + args.clientY : args.pageY;\n                this.quickToolObj.tableQTBar.showPopup(args.pageX, pageY, target);\n                this.parent.formatter.editorManager.nodeSelection.restore();\n            }\n            else {\n                this.hideTableQuickToolbar();\n            }\n        }\n    };\n    Table.prototype.tableCellSelect = function (e) {\n        var target = e.target;\n        var row = Array.prototype.slice.call(target.parentElement.parentElement.children).indexOf(target.parentElement);\n        var col = Array.prototype.slice.call(target.parentElement.children).indexOf(target);\n        var list = this.dlgDiv.querySelectorAll('.e-rte-tablecell');\n        Array.prototype.forEach.call(list, function (item) {\n            var parentIndex = Array.prototype.slice.call(item.parentElement.parentElement.children).indexOf(item.parentElement);\n            var cellIndex = Array.prototype.slice.call(item.parentElement.children).indexOf(item);\n            removeClass([item], 'e-active');\n            if (parentIndex <= row && cellIndex <= col) {\n                addClass([item], 'e-active');\n            }\n        });\n        this.tblHeader.innerHTML = (col + 1) + 'x' + (row + 1);\n    };\n    // eslint-disable-next-line\n    Table.prototype.tableMouseUp = function (e) {\n        EventHandler.remove(this.curTable, 'mousemove', this.tableMove);\n    };\n    // eslint-disable-next-line\n    Table.prototype.tableCellLeave = function (e) {\n        removeClass(this.dlgDiv.querySelectorAll('.e-rte-tablecell'), 'e-active');\n        addClass([this.dlgDiv.querySelector('.e-rte-tablecell')], 'e-active');\n        this.tblHeader.innerHTML = 1 + 'x' + 1;\n    };\n    Table.prototype.tableCellClick = function (e) {\n        var target = e.target;\n        var row = Array.prototype.slice.call(target.parentElement.parentElement.children).indexOf(target.parentElement) + 1;\n        var col = Array.prototype.slice.call(target.parentElement.children).indexOf(target) + 1;\n        this.self.tableInsert(row, col, e, this);\n    };\n    Table.prototype.tableInsert = function (row, col, e, selectionObj) {\n        var proxy = (selectionObj.self) ? selectionObj.self : this;\n        var startContainer = selectionObj.selection.range.startContainer;\n        if (startContainer.nodeName === 'P' && startContainer.textContent.trim() === '' && !(startContainer.childNodes.length > 0)) {\n            startContainer.innerHTML = '<br />';\n        }\n        var parentNode = startContainer.parentNode;\n        if (proxy.parent.editorMode === 'HTML' &&\n            ((proxy.parent.iframeSettings.enable && !hasClass(parentNode.ownerDocument.querySelector('body'), 'e-lib')) ||\n                // eslint-disable-next-line\n                (!proxy.parent.iframeSettings.enable && isNOU(closest(parentNode, '[id=' + \"'\" + proxy.contentModule.getPanel().id + \"'\" + ']'))))) {\n            proxy.contentModule.getEditPanel().focus();\n            var range = proxy.parent.formatter.editorManager.nodeSelection.getRange(proxy.contentModule.getDocument());\n            selectionObj.selection = proxy.parent.formatter.editorManager.nodeSelection.save(range, proxy.contentModule.getDocument());\n        }\n        var value = {\n            rows: row, columns: col, width: {\n                minWidth: proxy.parent.tableSettings.minWidth,\n                maxWidth: proxy.parent.tableSettings.maxWidth,\n                width: proxy.parent.tableSettings.width\n            },\n            selection: selectionObj.selection\n        };\n        if (proxy.popupObj) {\n            proxy.popupObj.hide();\n        }\n        if (proxy.editdlgObj) {\n            proxy.editdlgObj.hide();\n        }\n        proxy.parent.formatter.process(proxy.parent, selectionObj.args, selectionObj.args.originalEvent, value);\n        proxy.contentModule.getEditPanel().focus();\n        proxy.parent.on(events.mouseDown, proxy.cellSelect, proxy);\n    };\n    Table.prototype.cellSelect = function (e) {\n        var target = e.args.target;\n        var tdNode = closest(target, 'td,th');\n        target = (target.nodeName !== 'TD' && tdNode && this.parent.contentModule.getEditPanel().contains(tdNode)) ?\n            tdNode : target;\n        removeClass(this.contentModule.getEditPanel().querySelectorAll('table td, table th'), classes.CLS_TABLE_SEL);\n        if (target && (target.tagName === 'TD' || target.tagName === 'TH')) {\n            addClass([target], classes.CLS_TABLE_SEL);\n            this.activeCell = target;\n            this.curTable = (this.curTable) ? this.curTable : closest(target, 'table');\n            EventHandler.add(this.curTable, 'mousemove', this.tableMove, this);\n            EventHandler.add(this.curTable, 'mouseup', this.tableMouseUp, this);\n            this.removeResizeElement();\n            if (this.helper && this.contentModule.getEditPanel().contains(this.helper)) {\n                detach(this.helper);\n            }\n        }\n        if (Browser.info.name === 'mozilla' && !isNOU(closest(target, 'table')) &&\n            closest(target, 'table').tagName === 'TABLE') {\n            this.parent.contentModule.getEditPanel().setAttribute('contenteditable', 'false');\n        }\n    };\n    Table.prototype.tableMove = function (event) {\n        this.parent.formatter.editorManager.observer.notify('TABLE_MOVE', { event: event, selectNode: [this.activeCell] });\n    };\n    Table.prototype.resizeHelper = function (e) {\n        if (this.parent.readonly) {\n            return;\n        }\n        var target = e.target || e.targetTouches[0].target;\n        var closestTable = closest(target, 'table.e-rte-table');\n        if (!isNOU(this.curTable) && !isNOU(closestTable) && closestTable !== this.curTable) {\n            this.removeResizeElement();\n            this.removeHelper(e);\n            this.cancelResizeAction();\n        }\n        if (target.nodeName === 'TABLE' || target.nodeName === 'TD' || target.nodeName === 'TH') {\n            this.curTable = (closestTable && this.parent.contentModule.getEditPanel().contains(closestTable))\n                && (target.nodeName === 'TD' || target.nodeName === 'TH') ?\n                closestTable : target;\n            this.removeResizeElement();\n            this.tableResizeEleCreation(this.curTable, e);\n        }\n    };\n    Table.prototype.tableResizeEleCreation = function (table, e) {\n        this.parent.preventDefaultResize(e);\n        var columns = Array.prototype.slice.call(table.rows[this.calMaxCol(table)].cells, 1);\n        var rows = [];\n        for (var i = 0; i < table.rows.length; i++) {\n            rows.push(Array.prototype.slice.call(table.rows[i].cells, 0, 1)[0]);\n        }\n        var height = parseInt(getComputedStyle(table).height, 10);\n        var width = parseInt(getComputedStyle(table).width, 10);\n        var pos = this.calcPos(table);\n        for (var i = 0; columns.length > i; i++) {\n            var colReEle = this.parent.createElement('span', {\n                attrs: {\n                    'data-col': (i + 1).toString(), 'unselectable': 'on', 'contenteditable': 'false'\n                }\n            });\n            colReEle.classList.add(classes.CLS_RTE_TABLE_RESIZE, classes.CLS_TB_COL_RES);\n            colReEle.style.cssText = 'height: ' + height + 'px; width: 4px; top: ' + pos.top +\n                'px; left:' + (pos.left + this.calcPos(columns[i]).left) + 'px;';\n            this.contentModule.getEditPanel().appendChild(colReEle);\n        }\n        for (var i = 0; rows.length > i; i++) {\n            var rowReEle = this.parent.createElement('span', {\n                attrs: {\n                    'data-row': (i).toString(), 'unselectable': 'on', 'contenteditable': 'false'\n                }\n            });\n            rowReEle.classList.add(classes.CLS_RTE_TABLE_RESIZE, classes.CLS_TB_ROW_RES);\n            var rowPosLeft = !isNOU(table.getAttribute('cellspacing')) || table.getAttribute('cellspacing') !== '' ?\n                0 : this.calcPos(rows[i]).left;\n            rowReEle.style.cssText = 'width: ' + width + 'px; height: 4px; top: ' +\n                (this.calcPos(rows[i]).top + pos.top + rows[i].offsetHeight - 2) +\n                'px; left:' + (rowPosLeft + pos.left) + 'px;';\n            this.contentModule.getEditPanel().appendChild(rowReEle);\n        }\n        var tableReBox = this.parent.createElement('span', {\n            className: classes.CLS_TB_BOX_RES, attrs: {\n                'data-col': columns.length.toString(), 'unselectable': 'on', 'contenteditable': 'false'\n            }\n        });\n        tableReBox.style.cssText = 'top: ' + (pos.top + height - 4) +\n            'px; left:' + (pos.left + width - 4) + 'px;';\n        if (Browser.isDevice) {\n            tableReBox.classList.add('e-rmob');\n        }\n        this.contentModule.getEditPanel().appendChild(tableReBox);\n    };\n    Table.prototype.removeResizeElement = function () {\n        var item = this.parent.contentModule.getEditPanel().\n            querySelectorAll('.e-column-resize, .e-row-resize, .e-table-box');\n        if (item.length > 0) {\n            for (var i = 0; i < item.length; i++) {\n                detach(item[i]);\n            }\n        }\n    };\n    Table.prototype.calcPos = function (elem) {\n        var parentOffset = {\n            top: 0,\n            left: 0\n        };\n        // eslint-disable-next-line\n        var offset = elem.getBoundingClientRect();\n        var doc = elem.ownerDocument;\n        var offsetParent = elem.offsetParent || doc.documentElement;\n        while (offsetParent &&\n            (offsetParent === doc.body || offsetParent === doc.documentElement) &&\n            offsetParent.style.position === 'static') {\n            offsetParent = offsetParent.parentNode;\n        }\n        if (offsetParent.nodeName === 'TD' && elem.nodeName === 'TABLE') {\n            offsetParent = closest(offsetParent, '.e-rte-content');\n        }\n        if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n            // eslint-disable-next-line\n            parentOffset = offsetParent.getBoundingClientRect();\n        }\n        return {\n            top: elem.offsetTop,\n            left: elem.offsetLeft\n        };\n    };\n    Table.prototype.getPointX = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageX;\n        }\n        else {\n            return e.pageX;\n        }\n    };\n    Table.prototype.getPointY = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageY;\n        }\n        else {\n            return e.pageY;\n        }\n    };\n    Table.prototype.resizeStart = function (e) {\n        var _this = this;\n        if (this.parent.readonly) {\n            return;\n        }\n        if (Browser.isDevice) {\n            this.resizeHelper(e);\n        }\n        var target = e.target;\n        if (target.classList.contains(classes.CLS_TB_COL_RES) ||\n            target.classList.contains(classes.CLS_TB_ROW_RES) ||\n            target.classList.contains(classes.CLS_TB_BOX_RES)) {\n            e.preventDefault();\n            this.parent.preventDefaultResize(e);\n            removeClass(this.curTable.querySelectorAll('td,th'), classes.CLS_TABLE_SEL);\n            this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());\n            this.pageX = this.getPointX(e);\n            this.pageY = this.getPointY(e);\n            this.resizeBtnInit();\n            this.hideTableQuickToolbar();\n            if (target.classList.contains(classes.CLS_TB_COL_RES)) {\n                this.resizeBtnStat.column = true;\n                this.columnEle = this.curTable.rows[this.calMaxCol(this.curTable)].cells[parseInt(target.getAttribute('data-col'), 10)];\n                this.colIndex = this.columnEle.cellIndex;\n                this.moveEle = e.target;\n                this.appendHelper();\n            }\n            if (target.classList.contains(classes.CLS_TB_ROW_RES)) {\n                this.rowEle = this.curTable.rows[parseInt(target.getAttribute('data-row'), 10)];\n                this.resizeBtnStat.row = true;\n                this.appendHelper();\n            }\n            if (target.classList.contains(classes.CLS_TB_BOX_RES)) {\n                this.resizeBtnStat.tableBox = true;\n            }\n            if (Browser.isDevice && this.helper && !this.helper.classList.contains('e-reicon')) {\n                this.helper.classList.add('e-reicon');\n                EventHandler.add(document, Browser.touchStartEvent, this.removeHelper, this);\n                EventHandler.add(this.helper, Browser.touchStartEvent, this.resizeStart, this);\n            }\n            else {\n                var args = { event: e, requestType: 'Table' };\n                this.parent.trigger(events.resizeStart, args, function (resizeStartArgs) {\n                    if (resizeStartArgs.cancel) {\n                        _this.cancelResizeAction();\n                    }\n                });\n            }\n            EventHandler.add(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing, this);\n            EventHandler.add(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd, this);\n        }\n    };\n    Table.prototype.removeHelper = function (e) {\n        var cls = e.target.classList;\n        if (!(cls.contains('e-reicon')) && this.helper) {\n            EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper);\n            EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart);\n            if (this.helper && this.contentModule.getEditPanel().contains(this.helper)) {\n                detach(this.helper);\n            }\n            this.pageX = null;\n            this.helper = null;\n        }\n    };\n    Table.prototype.appendHelper = function () {\n        this.helper = this.parent.createElement('div', {\n            className: 'e-table-rhelper'\n        });\n        if (Browser.isDevice) {\n            this.helper.classList.add('e-reicon');\n        }\n        this.contentModule.getEditPanel().appendChild(this.helper);\n        this.setHelperHeight();\n    };\n    Table.prototype.setHelperHeight = function () {\n        var pos = this.calcPos(this.curTable);\n        if (this.resizeBtnStat.column) {\n            this.helper.classList.add('e-column-helper');\n            this.helper.style.cssText = 'height: ' + getComputedStyle(this.curTable).height + '; top: ' +\n                pos.top + 'px; left:' + (pos.left + this.calcPos(this.columnEle).left - 1) + 'px;';\n        }\n        else {\n            this.helper.classList.add('e-row-helper');\n            this.helper.style.cssText = 'width: ' + getComputedStyle(this.curTable).width + '; top: ' +\n                (this.calcPos(this.rowEle).top + pos.top + this.rowEle.offsetHeight) +\n                'px; left:' + (this.calcPos(this.rowEle).left + pos.left) + 'px;';\n        }\n    };\n    Table.prototype.updateHelper = function () {\n        var pos = this.calcPos(this.curTable);\n        if (this.resizeBtnStat.column) {\n            var left = pos.left + this.calcPos(this.columnEle).left - 1;\n            this.helper.style.left = left + 'px';\n        }\n        else {\n            var top_1 = this.calcPos(this.rowEle).top + pos.top + this.rowEle.offsetHeight;\n            this.helper.style.top = top_1 + 'px';\n        }\n    };\n    Table.prototype.calMaxCol = function (element) {\n        var max = 0;\n        var maxRowIndex;\n        for (var i = 0; i < element.rows.length; i++) {\n            if (max < element.rows[i].cells.length) {\n                maxRowIndex = i;\n                max = element.rows[i].cells.length;\n            }\n        }\n        return maxRowIndex;\n    };\n    Table.prototype.resizing = function (e) {\n        var _this = this;\n        var pageX = this.getPointX(e);\n        var pageY = this.getPointY(e);\n        var mouseX = (this.parent.enableRtl) ? -(pageX - this.pageX) : (pageX - this.pageX);\n        var mouseY = (this.parent.enableRtl) ? -(pageY - this.pageY) : (pageY - this.pageY);\n        this.pageX = pageX;\n        this.pageY = pageY;\n        var args = { event: e, requestType: 'table' };\n        this.parent.trigger(events.onResize, args, function (resizingArgs) {\n            if (resizingArgs.cancel) {\n                _this.cancelResizeAction();\n            }\n            else {\n                var tableReBox = _this.contentModule.getEditPanel().querySelector('.e-table-box');\n                var tableWidth = parseInt(getComputedStyle(_this.curTable).width, 10);\n                var tableHeight = parseInt(getComputedStyle(_this.curTable).height, 10);\n                var paddingSize = +getComputedStyle(_this.contentModule.getEditPanel()).paddingRight.match(/\\d/g).join('');\n                var rteWidth = _this.contentModule.getEditPanel().offsetWidth - paddingSize * 2;\n                if (_this.resizeBtnStat.column) {\n                    var cellColl = _this.curTable.rows[_this.calMaxCol(_this.curTable)].cells;\n                    var width = parseFloat(_this.columnEle.offsetWidth.toString());\n                    var actualwid = width - mouseX;\n                    var totalwid = parseFloat(_this.columnEle.offsetWidth.toString()) +\n                        parseFloat(cellColl[_this.colIndex - 1].offsetWidth.toString());\n                    for (var i = 0; i < _this.curTable.rows.length; i++) {\n                        if ((totalwid - actualwid) > 20 && actualwid > 20) {\n                            var leftColumnWidth = totalwid - actualwid;\n                            var rightColWidth = actualwid;\n                            if (!isNOU(_this.curTable.rows[i].cells[_this.colIndex - 1])) {\n                                _this.curTable.rows[i].cells[_this.colIndex - 1].style.width =\n                                    _this.convertPixelToPercentage(leftColumnWidth, tableWidth) + '%';\n                            }\n                            if (!isNOU(_this.curTable.rows[i].cells[_this.colIndex])) {\n                                _this.curTable.rows[i].cells[_this.colIndex].style.width =\n                                    _this.convertPixelToPercentage(rightColWidth, tableWidth) + '%';\n                            }\n                        }\n                    }\n                    _this.updateHelper();\n                }\n                else if (_this.resizeBtnStat.row) {\n                    _this.parent.preventDefaultResize(e);\n                    var height = parseFloat(_this.rowEle.clientHeight.toString()) + mouseY;\n                    if (height > 20) {\n                        _this.rowEle.style.height = height + 'px';\n                    }\n                    _this.curTable.style.height = '';\n                    if (!isNOU(tableReBox)) {\n                        tableReBox.style.cssText = 'top: ' + (_this.calcPos(_this.curTable).top + tableHeight - 4) +\n                            'px; left:' + (_this.calcPos(_this.curTable).left + tableWidth - 4) + 'px;';\n                    }\n                    _this.updateHelper();\n                }\n                else if (_this.resizeBtnStat.tableBox) {\n                    if (!Browser.isDevice) {\n                        EventHandler.remove(_this.contentModule.getEditPanel(), 'mouseover', _this.resizeHelper);\n                    }\n                    var widthType = _this.curTable.style.width.indexOf('%') > -1;\n                    _this.curTable.style.width = widthType ? _this.convertPixelToPercentage(tableWidth + mouseX, rteWidth) + '%'\n                        : tableWidth + mouseX + 'px';\n                    _this.curTable.style.height = tableHeight + mouseY + 'px';\n                    tableReBox.classList.add('e-rbox-select');\n                    tableReBox.style.cssText = 'top: ' + (_this.calcPos(_this.curTable).top + tableHeight - 4) +\n                        'px; left:' + (_this.calcPos(_this.curTable).left + tableWidth - 4) + 'px;';\n                }\n            }\n        });\n    };\n    Table.prototype.convertPixelToPercentage = function (value, offsetValue) {\n        return (value / offsetValue) * 100;\n    };\n    Table.prototype.cancelResizeAction = function () {\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n        this.removeResizeElement();\n    };\n    Table.prototype.resizeEnd = function (e) {\n        this.resizeBtnInit();\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(this.contentModule.getDocument(), Browser.touchEndEvent, this.resizeEnd);\n        if (this.contentModule.getEditPanel().querySelector('.e-table-box') &&\n            this.contentModule.getEditPanel().contains(this.contentModule.getEditPanel().querySelector('.e-table-box'))) {\n            if (!Browser.isDevice) {\n                EventHandler.add(this.contentModule.getEditPanel(), 'mouseover', this.resizeHelper, this);\n            }\n            this.removeResizeElement();\n            if (this.helper && this.contentModule.getEditPanel().contains(this.helper)) {\n                detach(this.helper);\n                this.helper = null;\n            }\n            this.pageX = null;\n            this.pageY = null;\n            this.moveEle = null;\n        }\n        var args = { event: e, requestType: 'table' };\n        this.parent.trigger(events.resizeStop, args);\n        this.parent.formatter.saveData();\n    };\n    Table.prototype.resizeBtnInit = function () {\n        return this.resizeBtnStat = { column: false, row: false, tableBox: false };\n    };\n    Table.prototype.addRow = function (selectCell, e, tabkey) {\n        var cmd;\n        if (tabkey) {\n            cmd = {\n                item: { command: 'Table', subCommand: 'InsertRowAfter' }\n            };\n        }\n        var value = {\n            selection: selectCell,\n            subCommand: (tabkey) ? cmd.item.subCommand : e.item.subCommand\n        };\n        this.parent.formatter.process(this.parent, (tabkey) ? cmd : e, e, value);\n    };\n    Table.prototype.addColumn = function (selectCell, e) {\n        this.parent.formatter.process(this.parent, e, e, { selection: selectCell, width: this.parent.tableSettings.width, subCommand: e.item.subCommand });\n    };\n    Table.prototype.removeRowColumn = function (selectCell, e) {\n        this.parent.formatter.process(this.parent, e, e, { selection: selectCell, subCommand: e.item.subCommand });\n        this.hideTableQuickToolbar();\n    };\n    Table.prototype.removeTable = function (selection, args, delKey) {\n        var cmd;\n        if (delKey) {\n            cmd = { item: { command: 'Table', subCommand: 'TableRemove' } };\n        }\n        var value = {\n            selection: selection,\n            subCommand: (delKey) ? cmd.item.subCommand : args.item.subCommand\n        };\n        this.parent.formatter.process(this.parent, (delKey) ? cmd : args, args.originalEvent, value);\n        this.contentModule.getEditPanel().focus();\n        this.removeResizeElement();\n        this.hideTableQuickToolbar();\n    };\n    Table.prototype.renderDlgContent = function (args) {\n        var _this = this;\n        if (Browser.isDevice || this.parent.inlineMode.enable) {\n            this.insertTableDialog(args);\n            return;\n        }\n        if (this.popupObj) {\n            this.popupObj.hide();\n            return;\n        }\n        this.hideTableQuickToolbar();\n        var header = '1X1';\n        var insertbtn = this.l10n.getConstant('inserttablebtn');\n        this.dlgDiv = this.parent.createElement('div', { className: 'e-rte-table-popup', id: this.rteID + '_table' });\n        this.tblHeader = this.parent.createElement('div', { className: 'e-rte-popup-header' });\n        this.tblHeader.innerHTML = header;\n        this.dlgDiv.appendChild(this.tblHeader);\n        var tableDiv = this.parent.createElement('div', { className: 'e-rte-table-span' });\n        this.drawTable(tableDiv, args);\n        this.dlgDiv.appendChild(tableDiv);\n        this.dlgDiv.appendChild(this.parent.createElement('span', { className: 'e-span-border' }));\n        var btnEle = this.parent.createElement('button', {\n            className: 'e-insert-table-btn', id: this.rteID + '_insertTable',\n            attrs: { type: 'button', tabindex: '0' }\n        });\n        if (!isNOU(this.parent.getToolbarElement().querySelector('.e-expended-nav'))) {\n            this.parent.getToolbarElement().querySelector('.e-expended-nav').setAttribute('tabindex', '1');\n        }\n        this.dlgDiv.appendChild(btnEle);\n        var button = new Button({\n            iconCss: 'e-icons e-create-table', content: insertbtn, cssClass: 'e-flat',\n            enableRtl: this.parent.enableRtl, locale: this.parent.locale\n        });\n        button.isStringTemplate = true;\n        button.appendTo(btnEle);\n        EventHandler.add(btnEle, 'click', this.insertTableDialog, { self: this, args: args.args, selection: args.selection });\n        this.parent.getToolbar().appendChild(this.dlgDiv);\n        var target = args.args.originalEvent.target;\n        target = target.classList.contains('e-toolbar-item') ? target.firstChild : target.parentElement;\n        this.popupObj = new Popup(this.dlgDiv, {\n            targetType: 'relative',\n            relateTo: target,\n            collision: { X: 'fit', Y: 'none' },\n            offsetY: 8,\n            viewPortElement: this.parent.element,\n            position: { X: 'left', Y: 'bottom' },\n            enableRtl: this.parent.enableRtl,\n            zIndex: 10001,\n            // eslint-disable-next-line\n            close: function (event) {\n                _this.parent.isBlur = false;\n                _this.popupObj.destroy();\n                detach(_this.popupObj.element);\n                _this.popupObj = null;\n            }\n        });\n        addClass([this.popupObj.element], 'e-popup-open');\n        this.popupObj.refreshPosition(target);\n    };\n    Table.prototype.docClick = function (e) {\n        var target = e.args.target;\n        // eslint-disable-next-line\n        if (target && target.classList && ((this.popupObj && !closest(target, '[id=' + \"'\" + this.popupObj.element.id + \"'\" + ']') ||\n            (this.editdlgObj && !closest(target, '#' + this.editdlgObj.element.id)))) && !target.classList.contains('e-create-table') &&\n            target.offsetParent && !target.offsetParent.classList.contains('e-rte-backgroundcolor-dropdown')) {\n            if (this.popupObj) {\n                this.popupObj.hide();\n            }\n            if (this.editdlgObj) {\n                this.editdlgObj.hide();\n            }\n            this.parent.isBlur = true;\n            dispatchEvent(this.parent.element, 'focusout');\n        }\n        var closestEle = closest(target, 'td');\n        var isExist = closestEle && this.parent.contentModule.getEditPanel().contains(closestEle) ? true : false;\n        if (target && target.tagName !== 'TD' && target.tagName !== 'TH' && !isExist &&\n            closest(target, '.e-rte-quick-popup') === null && target.offsetParent &&\n            !target.offsetParent.classList.contains('e-quick-dropdown') &&\n            !target.offsetParent.classList.contains('e-rte-backgroundcolor-dropdown') && !closest(target, '.e-rte-dropdown-popup')\n            && !closest(target, '.e-rte-elements')) {\n            removeClass(this.parent.element.querySelectorAll('table td'), classes.CLS_TABLE_SEL);\n            if (!Browser.isIE) {\n                this.hideTableQuickToolbar();\n            }\n        }\n        if (target && target.classList && !target.classList.contains(classes.CLS_TB_COL_RES) &&\n            !target.classList.contains(classes.CLS_TB_ROW_RES) && !target.classList.contains(classes.CLS_TB_BOX_RES)) {\n            this.removeResizeElement();\n        }\n    };\n    Table.prototype.drawTable = function (tableDiv, args) {\n        var rowDiv;\n        var tableCell;\n        for (var row = 0; row < 3; row++) {\n            rowDiv = this.parent.createElement('div', { className: 'e-rte-table-row', attrs: { 'data-column': '' + row } });\n            for (var col = 0; col < 10; col++) {\n                var display = (row > 2) ? 'none' : 'inline-block';\n                tableCell = this.parent.createElement('div', { className: 'e-rte-tablecell e-default', attrs: { 'data-cell': '' + col } });\n                rowDiv.appendChild(tableCell);\n                tableCell.style.display = display;\n                if (col === 0 && row === 0) {\n                    addClass([tableCell], 'e-active');\n                }\n                EventHandler.add(tableCell, 'mousemove', this.tableCellSelect, this);\n                EventHandler.add(rowDiv, 'mouseleave', this.tableCellLeave, this);\n                EventHandler.add(tableCell, 'mouseup', this.tableCellClick, { self: this, args: args.args, selection: args.selection });\n            }\n            tableDiv.appendChild(rowDiv);\n        }\n    };\n    Table.prototype.editTable = function (args) {\n        var _this = this;\n        this.createDialog(args);\n        var editContent = this.tableDlgContent(args);\n        var update = this.l10n.getConstant('dialogUpdate');\n        var cancel = this.l10n.getConstant('dialogCancel');\n        var editHeader = this.l10n.getConstant('tableEditHeader');\n        this.editdlgObj.setProperties({\n            height: 'initial', width: '290px', content: editContent, header: editHeader,\n            buttons: [{\n                    click: this.applyProperties.bind(this, args),\n                    buttonModel: { content: update, cssClass: 'e-flat e-size-update', isPrimary: true }\n                },\n                {\n                    click: function (e) {\n                        _this.cancelDialog(e);\n                    },\n                    buttonModel: { cssClass: 'e-flat e-cancel', content: cancel }\n                }]\n        });\n        this.editdlgObj.element.style.maxHeight = 'none';\n        this.editdlgObj.content.querySelector('input').focus();\n        this.hideTableQuickToolbar();\n    };\n    Table.prototype.insertTableDialog = function (args) {\n        var proxy = (this.self) ? this.self : this;\n        if (proxy.popupObj) {\n            proxy.popupObj.hide();\n        }\n        proxy.createDialog(args);\n        var dlgContent = proxy.tableCellDlgContent();\n        var insert = proxy.l10n.getConstant('dialogInsert');\n        var cancel = proxy.l10n.getConstant('dialogCancel');\n        if (isNullOrUndefined(proxy.editdlgObj)) {\n            return;\n        }\n        proxy.editdlgObj.setProperties({\n            height: 'initial', width: '290px', content: dlgContent,\n            buttons: [{\n                    click: proxy.customTable.bind(this, args),\n                    buttonModel: { content: insert, cssClass: 'e-flat e-insert-table', isPrimary: true }\n                },\n                {\n                    click: function (e) {\n                        proxy.cancelDialog(e);\n                    },\n                    buttonModel: { cssClass: 'e-flat e-cancel', content: cancel }\n                }]\n        });\n        proxy.editdlgObj.element.style.maxHeight = 'none';\n        proxy.editdlgObj.content.querySelector('input').focus();\n    };\n    Table.prototype.tableCellDlgContent = function () {\n        var tableColumn = this.l10n.getConstant('columns');\n        var tableRow = this.l10n.getConstant('rows');\n        var tableWrap = this.parent.createElement('div', { className: 'e-cell-wrap' });\n        var content = '<div class=\"e-rte-field\"><input type=\"text\" '\n            + ' data-role =\"none\" id=\"tableColumn\" class=\"e-table-column\"/></div>'\n            + '<div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"tableRow\" class=\"e-table-row\" /></div>';\n        var contentElem = parseHtml(content);\n        tableWrap.appendChild(contentElem);\n        this.columnTextBox = new NumericTextBox({\n            format: 'n0',\n            min: 1,\n            value: 3,\n            placeholder: tableColumn,\n            floatLabelType: 'Auto',\n            max: 50,\n            enableRtl: this.parent.enableRtl, locale: this.parent.locale\n        });\n        this.columnTextBox.isStringTemplate = true;\n        this.columnTextBox.appendTo(tableWrap.querySelector('#tableColumn'));\n        this.rowTextBox = new NumericTextBox({\n            format: 'n0',\n            min: 1,\n            value: 3,\n            placeholder: tableRow,\n            floatLabelType: 'Auto',\n            max: 50,\n            enableRtl: this.parent.enableRtl, locale: this.parent.locale\n        });\n        this.rowTextBox.isStringTemplate = true;\n        this.rowTextBox.appendTo(tableWrap.querySelector('#tableRow'));\n        return tableWrap;\n    };\n    Table.prototype.clearDialogObj = function () {\n        if (this.editdlgObj) {\n            this.editdlgObj.destroy();\n            detach(this.editdlgObj.element);\n            this.editdlgObj = null;\n        }\n    };\n    // eslint-disable-next-line\n    Table.prototype.createDialog = function (args) {\n        var _this = this;\n        if (this.editdlgObj) {\n            this.editdlgObj.hide({ returnValue: true });\n            return;\n        }\n        var tableDialog = this.parent.createElement('div', {\n            className: 'e-rte-edit-table', id: this.rteID + '_tabledialog'\n        });\n        this.parent.element.appendChild(tableDialog);\n        var insert = this.l10n.getConstant('dialogInsert');\n        var cancel = this.l10n.getConstant('dialogCancel');\n        var header = this.l10n.getConstant('tabledialogHeader');\n        var dialogModel = {\n            header: header,\n            cssClass: classes.CLS_RTE_ELEMENTS,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            showCloseIcon: true, closeOnEscape: true, width: (Browser.isDevice) ? '290px' : '340px', height: 'initial',\n            position: { X: 'center', Y: (Browser.isDevice) ? 'center' : 'top' },\n            isModal: Browser.isDevice,\n            buttons: [{\n                    buttonModel: { content: insert, cssClass: 'e-flat e-insert-table', isPrimary: true }\n                },\n                {\n                    click: function (e) {\n                        _this.cancelDialog(e);\n                    },\n                    buttonModel: { cssClass: 'e-flat e-cancel', content: cancel }\n                }],\n            target: (Browser.isDevice) ? document.body : this.parent.element,\n            animationSettings: { effect: 'None' },\n            close: function (event) {\n                _this.parent.isBlur = false;\n                _this.editdlgObj.destroy();\n                detach(_this.editdlgObj.element);\n                _this.dialogRenderObj.close(event);\n                _this.editdlgObj = null;\n            }\n        };\n        this.editdlgObj = this.dialogRenderObj.render(dialogModel);\n        this.editdlgObj.appendTo(tableDialog);\n        if (this.quickToolObj && this.quickToolObj.inlineQTBar && document.body.contains(this.quickToolObj.inlineQTBar.element)) {\n            this.quickToolObj.inlineQTBar.hidePopup();\n        }\n    };\n    Table.prototype.customTable = function (args, e) {\n        var proxy = (this.self) ? this.self : this;\n        if (proxy.rowTextBox.value && proxy.columnTextBox.value) {\n            var argument = ((Browser.isDevice || (!isNullOrUndefined(args.args)\n                && !isNullOrUndefined(args.args.originalEvent) &&\n                args.args.originalEvent.action === 'insert-table')\n                || proxy.parent.inlineMode.enable) ? args : this);\n            proxy.tableInsert(proxy.rowTextBox.value, proxy.columnTextBox.value, e, argument);\n        }\n    };\n    // eslint-disable-next-line\n    Table.prototype.cancelDialog = function (e) {\n        this.parent.isBlur = false;\n        this.editdlgObj.hide({ returnValue: true });\n    };\n    // eslint-disable-next-line\n    Table.prototype.applyProperties = function (args, e) {\n        var dialogEle = this.editdlgObj.element;\n        var table = closest(args.selectNode[0], 'table');\n        table.style.width = dialogEle.querySelector('.e-table-width').value + 'px';\n        if (dialogEle.querySelector('.e-cell-padding').value !== '') {\n            var tdElm = table.querySelectorAll('td');\n            for (var i = 0; i < tdElm.length; i++) {\n                var padVal = '';\n                if (tdElm[i].style.padding === '') {\n                    padVal = tdElm[i].getAttribute('style') + ' padding:' +\n                        dialogEle.querySelector('.e-cell-padding').value + 'px;';\n                }\n                else {\n                    tdElm[i].style.padding = dialogEle.querySelector('.e-cell-padding').value + 'px';\n                    padVal = tdElm[i].getAttribute('style');\n                }\n                tdElm[i].setAttribute('style', padVal);\n            }\n        }\n        table.cellSpacing = dialogEle.querySelector('.e-cell-spacing').value;\n        if (!isNOU(table.cellSpacing) || table.cellSpacing !== '0') {\n            addClass([table], classes.CLS_TABLE_BORDER);\n        }\n        else {\n            removeClass([table], classes.CLS_TABLE_BORDER);\n        }\n        this.parent.formatter.saveData();\n        this.editdlgObj.hide({ returnValue: true });\n    };\n    Table.prototype.tableDlgContent = function (e) {\n        var selectNode = e.selectParent[0];\n        var tableWidth = this.l10n.getConstant('tableWidth');\n        var cellPadding = this.l10n.getConstant('cellpadding');\n        var cellSpacing = this.l10n.getConstant('cellspacing');\n        var tableWrap = this.parent.createElement('div', { className: 'e-table-sizewrap' });\n        var widthVal = closest(selectNode, 'table').getClientRects()[0].width;\n        var padVal = closest(selectNode, 'td').style.padding;\n        var brdSpcVal = closest(selectNode, 'table').getAttribute('cellspacing');\n        var content = '<div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"tableWidth\" class=\"e-table-width\" '\n            + ' /></div>' + '<div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"cellPadding\" class=\"e-cell-padding\" />'\n            + ' </div><div class=\"e-rte-field\"><input type=\"text\" data-role =\"none\" id=\"cellSpacing\" class=\"e-cell-spacing\" /></div>';\n        var contentElem = parseHtml(content);\n        tableWrap.appendChild(contentElem);\n        var widthNum = new NumericTextBox({\n            format: 'n0',\n            min: 0,\n            value: widthVal,\n            placeholder: tableWidth,\n            floatLabelType: 'Auto',\n            enableRtl: this.parent.enableRtl, locale: this.parent.locale\n        });\n        widthNum.isStringTemplate = true;\n        widthNum.appendTo(tableWrap.querySelector('#tableWidth'));\n        var padding = new NumericTextBox({\n            format: 'n0',\n            min: 0,\n            // eslint-disable-next-line\n            value: padVal !== '' ? parseInt(padVal, null) : 0,\n            placeholder: cellPadding,\n            floatLabelType: 'Auto',\n            enableRtl: this.parent.enableRtl, locale: this.parent.locale\n        });\n        padding.isStringTemplate = true;\n        padding.appendTo(tableWrap.querySelector('#cellPadding'));\n        var spacing = new NumericTextBox({\n            format: 'n0',\n            min: 0,\n            // eslint-disable-next-line\n            value: brdSpcVal !== '' && !isNOU(brdSpcVal) ? parseInt(brdSpcVal, null) : 0,\n            placeholder: cellSpacing,\n            floatLabelType: 'Auto',\n            enableRtl: this.parent.enableRtl, locale: this.parent.locale\n        });\n        spacing.isStringTemplate = true;\n        spacing.appendTo(tableWrap.querySelector('#cellSpacing'));\n        return tableWrap;\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    Table.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     */\n    Table.prototype.getModuleName = function () {\n        return 'table';\n    };\n    return Table;\n}());\nexport { Table };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}