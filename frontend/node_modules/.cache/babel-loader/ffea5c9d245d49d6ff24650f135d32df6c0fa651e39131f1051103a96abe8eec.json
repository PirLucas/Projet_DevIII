{"ast":null,"code":"import { createElement, isNullOrUndefined as isNOU, detach, closest, addClass, removeClass, select, Browser, formatUnit } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar ImageCommand = /** @class */function () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element\n   * @hidden\n    */\n  function ImageCommand(parent) {\n    this.parent = parent;\n    this.addEventListener();\n  }\n  ImageCommand.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.IMAGE, this.imageCommand, this);\n  };\n  /**\n   * imageCommand method\n   *\n   * @param {IHtmlItem} e - specifies the element\n   * @returns {void}\n   * @hidden\n    */\n  ImageCommand.prototype.imageCommand = function (e) {\n    switch (e.value.toString().toLowerCase()) {\n      case 'image':\n      case 'replace':\n        this.createImage(e);\n        break;\n      case 'insertlink':\n        this.insertImageLink(e);\n        break;\n      case 'openimagelink':\n        this.openImageLink(e);\n        break;\n      case 'editimagelink':\n        this.editImageLink(e);\n        break;\n      case 'removeimagelink':\n        this.removeImageLink(e);\n        break;\n      case 'remove':\n        this.removeImage(e);\n        break;\n      case 'alttext':\n        this.insertAltTextImage(e);\n        break;\n      case 'dimension':\n        this.imageDimension(e);\n        break;\n      case 'caption':\n        this.imageCaption(e);\n        break;\n      case 'justifyleft':\n        this.imageJustifyLeft(e);\n        break;\n      case 'justifycenter':\n        this.imageJustifyCenter(e);\n        break;\n      case 'justifyright':\n        this.imageJustifyRight(e);\n        break;\n      case 'inline':\n        this.imageInline(e);\n        break;\n      case 'break':\n        this.imageBreak(e);\n        break;\n    }\n  };\n  ImageCommand.prototype.createImage = function (e) {\n    var _this = this;\n    var isReplaced = false;\n    e.item.url = isNOU(e.item.url) || e.item.url === 'undefined' ? e.item.src : e.item.url;\n    if (!isNOU(e.item.selectParent) && e.item.selectParent[0].tagName === 'IMG') {\n      var imgEle = e.item.selectParent[0];\n      this.setStyle(imgEle, e);\n      isReplaced = true;\n    } else {\n      var imgElement = createElement('img');\n      this.setStyle(imgElement, e);\n      if (!isNOU(e.item.selection)) {\n        e.item.selection.restore();\n      }\n      if (!isNOU(e.selector) && e.selector === 'pasteCleanupModule') {\n        e.callBack({\n          requestType: 'Images',\n          editorMode: 'HTML',\n          event: e.event,\n          range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n          elements: [imgElement]\n        });\n      } else {\n        InsertHtml.Insert(this.parent.currentDocument, imgElement, this.parent.editableElement);\n      }\n    }\n    if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n      var selectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0];\n      var imgElm_1 = e.value === 'Replace' || isReplaced ? e.item.selectParent[0] : Browser.isIE ? selectedNode.previousSibling : selectedNode.previousElementSibling;\n      imgElm_1.addEventListener('load', function () {\n        if (e.value !== 'Replace' || !isReplaced) {\n          e.callBack({\n            requestType: 'Images',\n            editorMode: 'HTML',\n            event: e.event,\n            range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n            elements: [imgElm_1]\n          });\n        }\n      });\n    }\n  };\n  ImageCommand.prototype.setStyle = function (imgElement, e) {\n    if (!isNOU(e.item.url)) {\n      imgElement.setAttribute('src', e.item.url);\n    }\n    imgElement.setAttribute('class', 'e-rte-image' + (isNOU(e.item.cssClass) ? '' : ' ' + e.item.cssClass));\n    if (!isNOU(e.item.altText)) {\n      imgElement.setAttribute('alt', e.item.altText);\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n      imgElement.setAttribute('width', this.calculateStyleValue(e.item.width.width));\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n      imgElement.setAttribute('height', this.calculateStyleValue(e.item.height.height));\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n      imgElement.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n    }\n    if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n      imgElement.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n      imgElement.style.minHeight = this.calculateStyleValue(e.item.height.minHeight);\n    }\n    if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n      imgElement.style.maxHeight = this.calculateStyleValue(e.item.height.maxHeight);\n    }\n  };\n  ImageCommand.prototype.calculateStyleValue = function (value) {\n    var styleValue;\n    if (typeof value === 'string') {\n      if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n        styleValue = value;\n      } else {\n        styleValue = value + 'px';\n      }\n    } else {\n      styleValue = value + 'px';\n    }\n    return styleValue;\n  };\n  ImageCommand.prototype.insertImageLink = function (e) {\n    var anchor = createElement('a', {\n      attrs: {\n        href: e.item.url\n      }\n    });\n    if (e.item.selectNode[0].parentElement.classList.contains('e-img-wrap')) {\n      e.item.selection.restore();\n      anchor.setAttribute('contenteditable', 'true');\n    }\n    anchor.appendChild(e.item.selectNode[0]);\n    if (!isNOU(e.item.target)) {\n      anchor.setAttribute('target', e.item.target);\n    }\n    InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n    this.callBack(e);\n  };\n  ImageCommand.prototype.openImageLink = function (e) {\n    document.defaultView.open(e.item.url, e.item.target);\n    this.callBack(e);\n  };\n  ImageCommand.prototype.removeImageLink = function (e) {\n    var selectParent = e.item.selectParent[0];\n    if (selectParent.classList.contains('e-img-caption')) {\n      var capImgWrap = select('.e-img-wrap', selectParent);\n      var textEle = select('.e-img-inner', selectParent);\n      var newTextEle = textEle.cloneNode(true);\n      detach(select('a', selectParent));\n      detach(textEle);\n      capImgWrap.appendChild(e.item.insertElement);\n      capImgWrap.appendChild(newTextEle);\n    } else {\n      detach(selectParent);\n      if (Browser.isIE) {\n        e.item.selection.restore();\n      }\n      InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.editImageLink = function (e) {\n    e.item.selectNode[0].parentElement.href = e.item.url;\n    if (isNOU(e.item.target)) {\n      e.item.selectNode[0].parentElement.removeAttribute('target');\n    } else {\n      e.item.selectNode[0].parentElement.target = e.item.target;\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.removeImage = function (e) {\n    if (closest(e.item.selectNode[0], 'a')) {\n      if (e.item.selectNode[0].parentElement.nodeName === 'A' && !isNOU(e.item.selectNode[0].parentElement.innerText)) {\n        if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n          detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n        } else {\n          detach(e.item.selectNode[0]);\n        }\n      } else {\n        detach(closest(e.item.selectNode[0], 'a'));\n      }\n    } else if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n      detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n    } else {\n      detach(e.item.selectNode[0]);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.insertAltTextImage = function (e) {\n    e.item.selectNode[0].setAttribute('alt', e.item.altText);\n    this.callBack(e);\n  };\n  ImageCommand.prototype.imageDimension = function (e) {\n    var selectNode = e.item.selectNode[0];\n    selectNode.style.height = '';\n    selectNode.style.width = '';\n    if (e.item.width !== 'auto') {\n      selectNode.style.width = formatUnit(e.item.width);\n    } else {\n      selectNode.removeAttribute('width');\n    }\n    if (e.item.height !== 'auto') {\n      selectNode.style.height = formatUnit(e.item.height);\n    } else {\n      selectNode.removeAttribute('height');\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.imageCaption = function (e) {\n    InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n    this.callBack(e);\n  };\n  ImageCommand.prototype.imageJustifyLeft = function (e) {\n    var selectNode = e.item.selectNode[0];\n    if (!isNOU(selectNode)) {\n      selectNode.removeAttribute('class');\n      addClass([selectNode], 'e-rte-image');\n      if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n        removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n        addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n      }\n      if (selectNode.parentElement.nodeName === 'A') {\n        removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n        addClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n        addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n      } else {\n        addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n      }\n      this.callBack(e);\n    }\n  };\n  ImageCommand.prototype.imageJustifyCenter = function (e) {\n    var selectNode = e.item.selectNode[0];\n    if (!isNOU(selectNode)) {\n      selectNode.removeAttribute('class');\n      addClass([selectNode], 'e-rte-image');\n      if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n        removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n        removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n        addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n      }\n      if (selectNode.parentElement.nodeName === 'A') {\n        removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n        removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n        addClass([selectNode.parentElement], classes.CLASS_IMAGE_CENTER);\n        addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n      } else {\n        addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n      }\n      this.callBack(e);\n    }\n  };\n  ImageCommand.prototype.imageJustifyRight = function (e) {\n    var selectNode = e.item.selectNode[0];\n    if (!isNOU(selectNode)) {\n      selectNode.removeAttribute('class');\n      addClass([selectNode], 'e-rte-image');\n      if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n        removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n        addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n      }\n      if (selectNode.parentElement.nodeName === 'A') {\n        removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n        addClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n        addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n      } else {\n        addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n      }\n      this.callBack(e);\n    }\n  };\n  ImageCommand.prototype.imageInline = function (e) {\n    var selectNode = e.item.selectNode[0];\n    selectNode.removeAttribute('class');\n    addClass([selectNode], 'e-rte-image');\n    addClass([selectNode], classes.CLASS_IMAGE_INLINE);\n    if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n      addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.imageBreak = function (e) {\n    var selectNode = e.item.selectNode[0];\n    selectNode.removeAttribute('class');\n    addClass([selectNode], classes.CLASS_IMAGE_BREAK);\n    addClass([selectNode], 'e-rte-image');\n    if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n      removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n      addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n    }\n    this.callBack(e);\n  };\n  ImageCommand.prototype.callBack = function (e) {\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.item.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n      });\n    }\n  };\n  return ImageCommand;\n}();\nexport { ImageCommand };","map":{"version":3,"names":["createElement","isNullOrUndefined","isNOU","detach","closest","addClass","removeClass","select","Browser","formatUnit","CONSTANT","classes","InsertHtml","ImageCommand","parent","addEventListener","prototype","observer","on","IMAGE","imageCommand","e","value","toString","toLowerCase","createImage","insertImageLink","openImageLink","editImageLink","removeImageLink","removeImage","insertAltTextImage","imageDimension","imageCaption","imageJustifyLeft","imageJustifyCenter","imageJustifyRight","imageInline","imageBreak","_this","isReplaced","item","url","src","selectParent","tagName","imgEle","setStyle","imgElement","selection","restore","selector","callBack","requestType","editorMode","event","range","nodeSelection","getRange","currentDocument","elements","Insert","editableElement","selectedNode","getSelectedNodes","imgElm_1","isIE","previousSibling","previousElementSibling","setAttribute","cssClass","altText","width","calculateStyleValue","height","minWidth","style","maxWidth","minHeight","maxHeight","styleValue","indexOf","anchor","attrs","href","selectNode","parentElement","classList","contains","appendChild","target","document","defaultView","open","capImgWrap","textEle","newTextEle","cloneNode","insertElement","removeAttribute","nodeName","innerText","CLASS_CAPTION","CLASS_IMAGE_RIGHT","CLASS_IMAGE_LEFT","CLASS_IMAGE_CENTER","CLASS_IMAGE_INLINE","CLASS_IMAGE_BREAK","CLASS_CAPTION_INLINE","subCommand"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/image.js"],"sourcesContent":["import { createElement, isNullOrUndefined as isNOU, detach, closest, addClass, removeClass, select, Browser, formatUnit } from '@syncfusion/ej2-base';\nimport * as CONSTANT from './../base/constant';\nimport * as classes from './../base/classes';\nimport { InsertHtml } from './inserthtml';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar ImageCommand = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function ImageCommand(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    ImageCommand.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.IMAGE, this.imageCommand, this);\n    };\n    /**\n     * imageCommand method\n     *\n     * @param {IHtmlItem} e - specifies the element\n     * @returns {void}\n     * @hidden\n\n     */\n    ImageCommand.prototype.imageCommand = function (e) {\n        switch (e.value.toString().toLowerCase()) {\n            case 'image':\n            case 'replace':\n                this.createImage(e);\n                break;\n            case 'insertlink':\n                this.insertImageLink(e);\n                break;\n            case 'openimagelink':\n                this.openImageLink(e);\n                break;\n            case 'editimagelink':\n                this.editImageLink(e);\n                break;\n            case 'removeimagelink':\n                this.removeImageLink(e);\n                break;\n            case 'remove':\n                this.removeImage(e);\n                break;\n            case 'alttext':\n                this.insertAltTextImage(e);\n                break;\n            case 'dimension':\n                this.imageDimension(e);\n                break;\n            case 'caption':\n                this.imageCaption(e);\n                break;\n            case 'justifyleft':\n                this.imageJustifyLeft(e);\n                break;\n            case 'justifycenter':\n                this.imageJustifyCenter(e);\n                break;\n            case 'justifyright':\n                this.imageJustifyRight(e);\n                break;\n            case 'inline':\n                this.imageInline(e);\n                break;\n            case 'break':\n                this.imageBreak(e);\n                break;\n        }\n    };\n    ImageCommand.prototype.createImage = function (e) {\n        var _this = this;\n        var isReplaced = false;\n        e.item.url = isNOU(e.item.url) || e.item.url === 'undefined' ? e.item.src : e.item.url;\n        if (!isNOU(e.item.selectParent) && e.item.selectParent[0].tagName === 'IMG') {\n            var imgEle = e.item.selectParent[0];\n            this.setStyle(imgEle, e);\n            isReplaced = true;\n        }\n        else {\n            var imgElement = createElement('img');\n            this.setStyle(imgElement, e);\n            if (!isNOU(e.item.selection)) {\n                e.item.selection.restore();\n            }\n            if (!isNOU(e.selector) && e.selector === 'pasteCleanupModule') {\n                e.callBack({ requestType: 'Images',\n                    editorMode: 'HTML',\n                    event: e.event,\n                    range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                    elements: [imgElement]\n                });\n            }\n            else {\n                InsertHtml.Insert(this.parent.currentDocument, imgElement, this.parent.editableElement);\n            }\n        }\n        if (e.callBack && (isNOU(e.selector) || !isNOU(e.selector) && e.selector !== 'pasteCleanupModule')) {\n            var selectedNode = this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0];\n            var imgElm_1 = (e.value === 'Replace' || isReplaced) ? e.item.selectParent[0] :\n                (Browser.isIE ? selectedNode.previousSibling : selectedNode.previousElementSibling);\n            imgElm_1.addEventListener('load', function () {\n                if (e.value !== 'Replace' || !isReplaced) {\n                    e.callBack({\n                        requestType: 'Images',\n                        editorMode: 'HTML',\n                        event: e.event,\n                        range: _this.parent.nodeSelection.getRange(_this.parent.currentDocument),\n                        elements: [imgElm_1]\n                    });\n                }\n            });\n        }\n    };\n    ImageCommand.prototype.setStyle = function (imgElement, e) {\n        if (!isNOU(e.item.url)) {\n            imgElement.setAttribute('src', e.item.url);\n        }\n        imgElement.setAttribute('class', 'e-rte-image' + (isNOU(e.item.cssClass) ? '' : ' ' + e.item.cssClass));\n        if (!isNOU(e.item.altText)) {\n            imgElement.setAttribute('alt', e.item.altText);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.width)) {\n            imgElement.setAttribute('width', this.calculateStyleValue(e.item.width.width));\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.height)) {\n            imgElement.setAttribute('height', this.calculateStyleValue(e.item.height.height));\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.minWidth)) {\n            imgElement.style.minWidth = this.calculateStyleValue(e.item.width.minWidth);\n        }\n        if (!isNOU(e.item.width) && !isNOU(e.item.width.maxWidth)) {\n            imgElement.style.maxWidth = this.calculateStyleValue(e.item.width.maxWidth);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.minHeight)) {\n            imgElement.style.minHeight = this.calculateStyleValue(e.item.height.minHeight);\n        }\n        if (!isNOU(e.item.height) && !isNOU(e.item.height.maxHeight)) {\n            imgElement.style.maxHeight = this.calculateStyleValue(e.item.height.maxHeight);\n        }\n    };\n    ImageCommand.prototype.calculateStyleValue = function (value) {\n        var styleValue;\n        if (typeof (value) === 'string') {\n            if (value.indexOf('px') || value.indexOf('%') || value.indexOf('auto')) {\n                styleValue = value;\n            }\n            else {\n                styleValue = value + 'px';\n            }\n        }\n        else {\n            styleValue = value + 'px';\n        }\n        return styleValue;\n    };\n    ImageCommand.prototype.insertImageLink = function (e) {\n        var anchor = createElement('a', {\n            attrs: {\n                href: e.item.url\n            }\n        });\n        if (e.item.selectNode[0].parentElement.classList.contains('e-img-wrap')) {\n            e.item.selection.restore();\n            anchor.setAttribute('contenteditable', 'true');\n        }\n        anchor.appendChild(e.item.selectNode[0]);\n        if (!isNOU(e.item.target)) {\n            anchor.setAttribute('target', e.item.target);\n        }\n        InsertHtml.Insert(this.parent.currentDocument, anchor, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.openImageLink = function (e) {\n        document.defaultView.open(e.item.url, e.item.target);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImageLink = function (e) {\n        var selectParent = e.item.selectParent[0];\n        if (selectParent.classList.contains('e-img-caption')) {\n            var capImgWrap = select('.e-img-wrap', selectParent);\n            var textEle = select('.e-img-inner', selectParent);\n            var newTextEle = textEle.cloneNode(true);\n            detach(select('a', selectParent));\n            detach(textEle);\n            capImgWrap.appendChild(e.item.insertElement);\n            capImgWrap.appendChild(newTextEle);\n        }\n        else {\n            detach(selectParent);\n            if (Browser.isIE) {\n                e.item.selection.restore();\n            }\n            InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.editImageLink = function (e) {\n        e.item.selectNode[0].parentElement.href = e.item.url;\n        if (isNOU(e.item.target)) {\n            e.item.selectNode[0].parentElement.removeAttribute('target');\n        }\n        else {\n            e.item.selectNode[0].parentElement.target = e.item.target;\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.removeImage = function (e) {\n        if (closest(e.item.selectNode[0], 'a')) {\n            if (e.item.selectNode[0].parentElement.nodeName === 'A' && !isNOU(e.item.selectNode[0].parentElement.innerText)) {\n                if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n                    detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n                }\n                else {\n                    detach(e.item.selectNode[0]);\n                }\n            }\n            else {\n                detach(closest(e.item.selectNode[0], 'a'));\n            }\n        }\n        else if (!isNOU(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION))) {\n            detach(closest(e.item.selectNode[0], '.' + classes.CLASS_CAPTION));\n        }\n        else {\n            detach(e.item.selectNode[0]);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.insertAltTextImage = function (e) {\n        e.item.selectNode[0].setAttribute('alt', e.item.altText);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageDimension = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.style.height = '';\n        selectNode.style.width = '';\n        if (e.item.width !== 'auto') {\n            selectNode.style.width = formatUnit(e.item.width);\n        }\n        else {\n            selectNode.removeAttribute('width');\n        }\n        if (e.item.height !== 'auto') {\n            selectNode.style.height = formatUnit(e.item.height);\n        }\n        else {\n            selectNode.removeAttribute('height');\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageCaption = function (e) {\n        InsertHtml.Insert(this.parent.currentDocument, e.item.insertElement, this.parent.editableElement);\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageJustifyLeft = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_LEFT);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageJustifyCenter = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_CENTER);\n                addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_CENTER);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageJustifyRight = function (e) {\n        var selectNode = e.item.selectNode[0];\n        if (!isNOU(selectNode)) {\n            selectNode.removeAttribute('class');\n            addClass([selectNode], 'e-rte-image');\n            if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n                removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n                addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            }\n            if (selectNode.parentElement.nodeName === 'A') {\n                removeClass([selectNode.parentElement], classes.CLASS_IMAGE_LEFT);\n                addClass([selectNode.parentElement], classes.CLASS_IMAGE_RIGHT);\n                addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n            }\n            else {\n                addClass([selectNode], classes.CLASS_IMAGE_RIGHT);\n            }\n            this.callBack(e);\n        }\n    };\n    ImageCommand.prototype.imageInline = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], 'e-rte-image');\n        addClass([selectNode], classes.CLASS_IMAGE_INLINE);\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.imageBreak = function (e) {\n        var selectNode = e.item.selectNode[0];\n        selectNode.removeAttribute('class');\n        addClass([selectNode], classes.CLASS_IMAGE_BREAK);\n        addClass([selectNode], 'e-rte-image');\n        if (!isNOU(closest(selectNode, '.' + classes.CLASS_CAPTION))) {\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_CAPTION_INLINE);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_CENTER);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_LEFT);\n            removeClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_RIGHT);\n            addClass([closest(selectNode, '.' + classes.CLASS_CAPTION)], classes.CLASS_IMAGE_BREAK);\n        }\n        this.callBack(e);\n    };\n    ImageCommand.prototype.callBack = function (e) {\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.item.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\n            });\n        }\n    };\n    return ImageCommand;\n}());\nexport { ImageCommand };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}