{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */function () {\n  /**\n   * Constructor for the logerithmic module.\n   *\n   * @private\n   */\n  function MultiLevelLabel(chart) {\n    /** @private */\n    this.xAxisPrevHeight = [];\n    /** @private */\n    this.xAxisMultiLabelHeight = [];\n    /** @private */\n    this.yAxisPrevHeight = [];\n    /** @private */\n    this.yAxisMultiLabelHeight = [];\n    /** @private */\n    this.multiLevelLabelRectXRegion = [];\n    /** @private */\n    this.xLabelCollection = [];\n    this.chart = chart;\n    this.addEventListener();\n  }\n  /**\n   * Binding events for multi level module.\n   */\n  MultiLevelLabel.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n    this.chart.on('click', this.click, this);\n  };\n  /**\n   * Finds multilevel label height\n   *\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n    var value = 0;\n    var multiLevelLabelsHeight = [];\n    var prevHeight = [];\n    var isVertical = axis.orientation === 'Vertical';\n    var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n    var labelSize;\n    var height;\n    var padding = 10;\n    var gap;\n    axis.multiLevelLabels.map(function (multiLevel, index) {\n      multiLevel.categories.map(function (categoryLabel) {\n        if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n          labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n          height = isVertical ? labelSize.width : labelSize.height;\n          height += 2 * multiLevel.border.width + (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n          gap = categoryLabel.maximumTextWidth !== null ? categoryLabel.maximumTextWidth : valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end, axis) * axisValue - valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start, axis) * axisValue;\n          if (labelSize.width > gap - padding && gap > 0 && multiLevel.overflow === 'Wrap' && !isVertical) {\n            height = height * textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length;\n          }\n          multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height : multiLevelLabelsHeight[index] < height ? height : multiLevelLabelsHeight[index];\n        }\n      });\n      prevHeight[index] = value;\n      value += multiLevelLabelsHeight[index] ? multiLevelLabelsHeight[index] + padding : 0;\n    });\n    axis.multiLevelLabelHeight = value + (axis.title !== '' || this.chart.legendModule && this.chart.legendSettings.visible ? padding / 2 : 0);\n    if (isVertical) {\n      this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.yAxisPrevHeight = prevHeight;\n    } else {\n      this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.xAxisPrevHeight = prevHeight;\n    }\n  };\n  /**\n   * render x axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n    var _this = this;\n    var x;\n    var y;\n    var padding = 10;\n    var startX;\n    var pointIndex;\n    var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.height + padding;\n    var endX;\n    var pathRect = '';\n    var start;\n    var end;\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var gap;\n    var anchor;\n    var isInversed = axis.isAxisInverse;\n    var argsData;\n    var opposedPosition = axis.isAxisOpposedPosition;\n    var scrollBarHeight = axis.scrollbarSettings.enable || isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    var clipY = opposedPosition && !isOutside || !opposedPosition && isOutside ? axisRect.y + startY - axis.majorTickLines.width : axisRect.y - startY - axis.multiLevelLabelHeight;\n    this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      pointIndex = 0;\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      multiLevel.categories.map(function (categoryLabel, i) {\n        pathRect = '';\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n        if (!argsData.cancel) {\n          startX = valueToCoefficient(start, axis) * axisRect.width;\n          endX = valueToCoefficient(end, axis) * axisRect.width;\n          endX = isInversed ? [startX, startX = endX][0] : endX;\n          labelSize = measureText(argsData.text, argsData.textStyle);\n          gap = (categoryLabel.maximumTextWidth === null ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n          x = startX + axisRect.x + padding;\n          y = (opposedPosition && !isOutside || !opposedPosition && isOutside ? startY + axisRect.y + labelSize.height / 2 + padding + _this.xAxisPrevHeight[level] : axisRect.y - startY + labelSize.height / 2 - _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level]) + scrollBarHeight;\n          if (argsData.alignment === 'Center') {\n            x += (endX - startX - padding) / 2;\n            anchor = 'middle';\n          } else if (argsData.alignment === 'Far') {\n            x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n            anchor = 'end';\n          } else {\n            anchor = 'start';\n            x += multiLevel.border.width / 2;\n          }\n          y = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? y + padding : y - padding / 2 : y;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n          if (multiLevel.overflow !== 'None') {\n            options.text = multiLevel.overflow === 'Wrap' ? textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n            options.x = options.x - padding / 2;\n          }\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas);\n          if (_this.chart.enableCanvas) {\n            var textSize = measureText(argsData.text, argsData.textStyle);\n            _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n            _this.xLabelCollection.push(options);\n          }\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex);\n            // fix for generating seperate rect\n            if (pathRect !== '') {\n              _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n              pointIndex++;\n            }\n          }\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render x axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var value;\n    var value1;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var width = gap + padding;\n    var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n    var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n    var x = startX + axisRect.x;\n    var y = !opposedPosition && isOutside || opposedPosition && !isOutside ? startY + axisRect.y + this.xAxisPrevHeight[labelIndex] + scrollBarHeight : axisRect.y - startY - this.xAxisPrevHeight[labelIndex] - scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height) + ' M ' + (x + width) + ' ' + y + ' L ' + (x + width) + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + x + ' ' + (y + height) + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y : ' ';\n        break;\n      case 'Brace':\n        if (alignment === 'Near') {\n          value = textOptions.x;\n          value1 = textOptions.x + labelSize.width + 2;\n        } else if (alignment === 'Center') {\n          value = textOptions.x - labelSize.width / 2 - 2;\n          value1 = textOptions.x + labelSize.width / 2 + 2;\n        } else {\n          value = textOptions.x - labelSize.width - 2;\n          value1 = textOptions.x;\n        }\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) + ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) + ' M ' + value1 + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) + ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + y;\n        break;\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        } else {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        }\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) + ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else if (alignment === 'Near') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        }\n        break;\n    }\n    return path;\n  };\n  /**\n   * render y axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n    var _this = this;\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var x;\n    var y;\n    var padding = 10;\n    var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.width + padding;\n    var startY;\n    var path = '';\n    var endY;\n    var argsData;\n    var pointIndex;\n    var isInversed = axis.isAxisInverse;\n    var start;\n    var end;\n    var gap;\n    var anchor = 'middle';\n    var opposedPosition = axis.isAxisOpposedPosition;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var clipX = opposedPosition && !isOutside || !opposedPosition && isOutside ? rect.x - axis.multiLevelLabelHeight - startX - padding : rect.x + startX;\n    this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id + 'YAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      pointIndex = 0;\n      multiLevel.categories.map(function (categoryLabel, i) {\n        path = '';\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        startY = valueToCoefficient(start, axis) * rect.height;\n        endY = valueToCoefficient(end, axis) * rect.height;\n        endY = isInversed ? [startY, startY = endY][0] : endY;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n        if (!argsData.cancel) {\n          labelSize = measureText(argsData.text, argsData.textStyle);\n          gap = endY - startY;\n          x = rect.x - startX - _this.yAxisPrevHeight[level] - _this.yAxisMultiLabelHeight[level] / 2 - padding / 2;\n          y = rect.height + rect.y - startY - gap / 2;\n          if (opposedPosition) {\n            x = isOutside ? rect.x + startX + padding / 2 + _this.yAxisMultiLabelHeight[level] / 2 + _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - _this.yAxisMultiLabelHeight[level] / 2 - _this.yAxisPrevHeight[level] - padding / 2;\n          } else {\n            x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + _this.yAxisMultiLabelHeight[level] / 2 + _this.yAxisPrevHeight[level];\n          }\n          if (argsData.alignment === 'Center') {\n            y += labelSize.height / 4;\n          } else if (argsData.alignment === 'Far') {\n            y += gap / 2 - labelSize.height / 2;\n          } else {\n            y = y - gap / 2 + labelSize.height;\n          }\n          x = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? x - padding : x + padding : x;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n          options.text = multiLevel.overflow === 'Trim' ? textTrim(categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] : categoryLabel.maximumTextWidth, argsData.text, argsData.textStyle) : options.text;\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas);\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n            if (path !== '') {\n              _this.createBorderElement(level, index, axis, path, pointIndex);\n              pointIndex++;\n            }\n          }\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render y axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n  MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var height = endY - startY;\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var y = rect.y + rect.height - endY;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n    var x = (!opposedPosition && isOutside || opposedPosition && !isOutside ? rect.x - startX - this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? -width : width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y + ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + (x + width) + ' ' + y + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + x + ' ' + (y + height) + 'L' + ' ' + x + ' ' + y + ' ' : ' ';\n        break;\n      case 'Brace':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? width : -width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' + (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' + (textOptions.y + labelSize.height / 4 + 2) + ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + x + ' ' + (y + height);\n        break;\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        } else {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        }\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else if (alignment === 'Far') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding1) + ' ' + (y + 15) + ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        }\n        break;\n    }\n    return path;\n  };\n  /**\n   * create cliprect\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n    this.multiElements = this.chart.renderer.createGroup({\n      'id': axisId,\n      'clip-path': 'url(#' + clipId + ')'\n    });\n    if (!this.chart.enableCanvas) {\n      this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n        'id': clipId,\n        'x': x,\n        'y': y,\n        'width': width,\n        'height': height,\n        'fill': 'white',\n        'stroke-width': 1,\n        'stroke': 'Gray'\n      }, this.chart.renderer));\n    }\n  };\n  /**\n   * create borer element\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n    var direction = path;\n    var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n    borderElement.style.pointerEvents = 'none';\n    appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n    var argsData = {\n      cancel: false,\n      name: axisMultiLabelRender,\n      axis: axis,\n      text: text,\n      textStyle: textStyle,\n      alignment: textAlignment,\n      customAttributes: customAttributes\n    };\n    this.chart.trigger(axisMultiLabelRender, argsData);\n    return argsData;\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n    var level = parseInt(labelIndex.substr(0, 1), 10);\n    var textElement = parseInt(labelIndex.substr(7), 10);\n    var chart = this.chart;\n    var axis = chart.axisCollections[axisIndex];\n    var categories = axis.multiLevelLabels[level].categories;\n    var text = categories[textElement].text;\n    var start = categories[textElement].start;\n    var end = categories[textElement].end;\n    var customAttributes = categories[textElement].customAttributes;\n    var multilevelclickArgs = {\n      axis: axis,\n      level: level,\n      text: text,\n      customAttributes: customAttributes,\n      start: start,\n      end: end,\n      name: multiLevelLabelClick,\n      cancel: false\n    };\n    this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n    return multilevelclickArgs;\n  };\n  /**\n   * To click the multi level label\n   *\n   * @returns {void}\n   * @private\n   */\n  MultiLevelLabel.prototype.click = function (event) {\n    var targetId = event.target.id;\n    var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n    var textId;\n    var elementId;\n    var axisIndex;\n    if (this.chart.enableCanvas) {\n      for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n        if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n          targetId = this.xLabelCollection[i].id;\n        }\n      }\n    }\n    if (targetId.indexOf(multiLevelID) > -1) {\n      textId = targetId.split(multiLevelID)[1];\n      elementId = targetId.split(multiLevelID)[0];\n      axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n      this.MultiLevelLabelClick(textId, axisIndex);\n    }\n  };\n  /**\n   * To get the module name for `MultiLevelLabel`.\n   *\n   * @private\n   */\n  MultiLevelLabel.prototype.getModuleName = function () {\n    return 'MultiLevelLabel';\n  };\n  /**\n   * To destroy the `MultiLevelLabel` module.\n   *\n   * @private\n   */\n  MultiLevelLabel.prototype.destroy = function () {\n    // destroy peform here\n  };\n  return MultiLevelLabel;\n}();\nexport { MultiLevelLabel };","map":{"version":3,"names":["isNullOrUndefined","textWrap","appendClipElement","appendChildElement","valueToCoefficient","textTrim","textElement","withInBounds","measureText","TextOption","PathOption","Rect","axisMultiLabelRender","multiLevelLabelClick","MultiLevelLabel","chart","xAxisPrevHeight","xAxisMultiLabelHeight","yAxisPrevHeight","yAxisMultiLabelHeight","multiLevelLabelRectXRegion","xLabelCollection","addEventListener","prototype","isDestroyed","on","click","getMultilevelLabelsHeight","axis","value","multiLevelLabelsHeight","prevHeight","isVertical","orientation","axisValue","rect","height","width","labelSize","padding","gap","multiLevelLabels","map","multiLevel","index","categories","categoryLabel","text","start","end","textStyle","border","type","maximumTextWidth","Number","Date","overflow","length","multiLevelLabelHeight","title","legendModule","legendSettings","visible","renderXAxisMultiLevelLabels","parent","axisRect","_this","x","y","startX","pointIndex","startY","labelPosition","tickPosition","majorTickLines","maxLabelSize","endX","pathRect","isOutside","anchor","isInversed","isAxisInverse","argsData","opposedPosition","isAxisOpposedPosition","scrollBarHeight","scrollbarSettings","enable","crossesAt","clipY","createClipRect","element","id","level","labelElement","renderer","createGroup","i","triggerMultiLabelRender","alignment","customAttributes","cancel","options","color","themeStyle","axisLabel","redraw","enableCanvas","textSize","push","renderXAxisLabelBorder","createBorderElement","multiElements","appendChild","labelIndex","textOptions","path","categoryIndex","padding1","padding2","value1","groupLabel","categoryType","borderType","renderYAxisMultiLevelLabels","endY","clipX","renderYAxisLabelBorder","clipId","axisId","borderIndex","axisIndex","direction","borderElement","drawPath","axisLine","style","pointerEvents","textAlignment","name","trigger","MultiLevelLabelClick","parseInt","substr","axisCollections","multilevelclickArgs","event","targetId","target","multiLevelID","textId","elementId","indexOf","split","charAt","getModuleName","destroy"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-charts/src/chart/axis/multi-level-labels.js"],"sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */ (function () {\n    /**\n     * Constructor for the logerithmic module.\n     *\n     * @private\n     */\n    function MultiLevelLabel(chart) {\n        /** @private */\n        this.xAxisPrevHeight = [];\n        /** @private */\n        this.xAxisMultiLabelHeight = [];\n        /** @private */\n        this.yAxisPrevHeight = [];\n        /** @private */\n        this.yAxisMultiLabelHeight = [];\n        /** @private */\n        this.multiLevelLabelRectXRegion = [];\n        /** @private */\n        this.xLabelCollection = [];\n        this.chart = chart;\n        this.addEventListener();\n    }\n    /**\n     * Binding events for multi level module.\n     */\n    MultiLevelLabel.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on('click', this.click, this);\n    };\n    /**\n     * Finds multilevel label height\n     *\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n        var value = 0;\n        var multiLevelLabelsHeight = [];\n        var prevHeight = [];\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n        var labelSize;\n        var height;\n        var padding = 10;\n        var gap;\n        axis.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    height += 2 * multiLevel.border.width +\n                        (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n                    gap = (categoryLabel.maximumTextWidth !== null) ? categoryLabel.maximumTextWidth :\n                        (valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) :\n                            categoryLabel.end, axis) * axisValue) -\n                            (valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) :\n                                categoryLabel.start, axis) * axisValue);\n                    if ((labelSize.width > gap - padding) && gap > 0 && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height :\n                        ((multiLevelLabelsHeight[index] < height) ? height : multiLevelLabelsHeight[index]);\n                }\n            });\n            prevHeight[index] = value;\n            value += multiLevelLabelsHeight[index] ? (multiLevelLabelsHeight[index] + padding) : 0;\n        });\n        axis.multiLevelLabelHeight = value + ((axis.title !== '' || (this.chart.legendModule && this.chart.legendSettings.visible))\n            ? padding / 2 : 0);\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.yAxisPrevHeight = prevHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.xAxisPrevHeight = prevHeight;\n        }\n    };\n    /**\n     * render x axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n        var _this = this;\n        var x;\n        var y;\n        var padding = 10;\n        var startX;\n        var pointIndex;\n        var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.height) + padding;\n        var endX;\n        var pathRect = '';\n        var start;\n        var end;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var gap;\n        var anchor;\n        var isInversed = axis.isAxisInverse;\n        var argsData;\n        var opposedPosition = axis.isAxisOpposedPosition;\n        var scrollBarHeight = axis.scrollbarSettings.enable || (isOutside && isNullOrUndefined(axis.crossesAt)) ?\n            axis.scrollBarHeight : 0;\n        var clipY = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (axisRect.y + startY - axis.majorTickLines.width) : (axisRect.y - startY - axis.multiLevelLabelHeight);\n        this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            pointIndex = 0;\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                pathRect = '';\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    startX = valueToCoefficient(start, axis) * axisRect.width;\n                    endX = valueToCoefficient(end, axis) * axisRect.width;\n                    endX = isInversed ? [startX, startX = endX][0] : endX;\n                    labelSize = measureText(argsData.text, argsData.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n                    x = startX + axisRect.x + padding;\n                    y = (((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ? (startY + axisRect.y +\n                        labelSize.height / 2 + padding + _this.xAxisPrevHeight[level]) : (axisRect.y - startY + labelSize.height / 2 -\n                        _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level])) + scrollBarHeight;\n                    if (argsData.alignment === 'Center') {\n                        x += (endX - startX - padding) / 2;\n                        anchor = 'middle';\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n                        anchor = 'end';\n                    }\n                    else {\n                        anchor = 'start';\n                        x += multiLevel.border.width / 2;\n                    }\n                    y = multiLevel.border.type === 'CurlyBrace' ?\n                        (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? y + padding : y - padding / 2) : y;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    if (multiLevel.overflow !== 'None') {\n                        options.text = (multiLevel.overflow === 'Wrap') ?\n                            textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n                        options.x = options.x - padding / 2;\n                    }\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas);\n                    if (_this.chart.enableCanvas) {\n                        var textSize = measureText(argsData.text, argsData.textStyle);\n                        _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n                        _this.xLabelCollection.push(options);\n                    }\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex);\n                        // fix for generating seperate rect\n                        if (pathRect !== '') {\n                            _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var value;\n        var value1;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var width = gap + padding;\n        var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n        var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n        var x = startX + axisRect.x;\n        var y = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? (startY + axisRect.y +\n            this.xAxisPrevHeight[labelIndex] + scrollBarHeight) : (axisRect.y - startY -\n            this.xAxisPrevHeight[labelIndex] - scrollBarHeight);\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height) + ' M ' + (x + width) + ' '\n                    + y + ' L ' + (x + width) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (x) + ' ' + (y + height) + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y) : ' ';\n                break;\n            case 'Brace':\n                if (alignment === 'Near') {\n                    value = textOptions.x;\n                    value1 = textOptions.x + labelSize.width + 2;\n                }\n                else if (alignment === 'Center') {\n                    value = textOptions.x - labelSize.width / 2 - 2;\n                    value1 = textOptions.x + labelSize.width / 2 + 2;\n                }\n                else {\n                    value = textOptions.x - labelSize.width - 2;\n                    value1 = textOptions.x;\n                }\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) +\n                    ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) +\n                    ' M ' + (value1) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) +\n                    ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                else {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) +\n                        ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else if (alignment === 'Near') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' '\n                        + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) +\n                        ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C '\n                        + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n        var _this = this;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var x;\n        var y;\n        var padding = 10;\n        var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.width) + padding;\n        var startY;\n        var path = '';\n        var endY;\n        var argsData;\n        var pointIndex;\n        var isInversed = axis.isAxisInverse;\n        var start;\n        var end;\n        var gap;\n        var anchor = 'middle';\n        var opposedPosition = axis.isAxisOpposedPosition;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var clipX = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (rect.x - axis.multiLevelLabelHeight - startX - padding) : (rect.x + startX);\n        this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id\n            + 'YAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            pointIndex = 0;\n            multiLevel.categories.map(function (categoryLabel, i) {\n                path = '';\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                startY = valueToCoefficient((start), axis) * (rect.height);\n                endY = valueToCoefficient((end), axis) * (rect.height);\n                endY = isInversed ? [startY, startY = endY][0] : endY;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    labelSize = measureText(argsData.text, argsData.textStyle);\n                    gap = endY - startY;\n                    x = rect.x - startX - _this.yAxisPrevHeight[level] -\n                        (_this.yAxisMultiLabelHeight[level] / 2) - padding / 2;\n                    y = rect.height + rect.y - startY - (gap / 2);\n                    if (opposedPosition) {\n                        x = isOutside ? rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                            _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - (_this.yAxisMultiLabelHeight[level] / 2) -\n                            _this.yAxisPrevHeight[level] - padding / 2;\n                    }\n                    else {\n                        x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                            _this.yAxisPrevHeight[level];\n                    }\n                    if (argsData.alignment === 'Center') {\n                        y += labelSize.height / 4;\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        y += gap / 2 - labelSize.height / 2;\n                    }\n                    else {\n                        y = y - gap / 2 + labelSize.height;\n                    }\n                    x = multiLevel.border.type === 'CurlyBrace' ? (((!opposedPosition && isOutside) ||\n                        (opposedPosition && !isOutside)) ? x - padding : x + padding) : x;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    options.text = (multiLevel.overflow === 'Trim') ?\n                        textTrim((categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] :\n                            categoryLabel.maximumTextWidth), argsData.text, argsData.textStyle) : options.text;\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas);\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n                        if (path !== '') {\n                            _this.createBorderElement(level, index, axis, path, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render y axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var height = endY - startY;\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var y = rect.y + rect.height - endY;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n        var x = (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? rect.x - startX -\n            this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? -width : width;\n                path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y +\n                    ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (x + width) + ' ' + y + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + (x) + ' ' + (y + height) + 'L' + ' ' + (x) + ' ' + y + ' ') : ' ';\n                break;\n            case 'Brace':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? width : -width;\n                path += 'M ' + (x) + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' +\n                    (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' +\n                    (textOptions.y + labelSize.height / 4 + 2) +\n                    ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + (x) + ' ' + (y + height);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                else {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' '\n                        + x + ' ' + (y + height);\n                }\n                else if (alignment === 'Far') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) +\n                        ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' '\n                        + (y + height);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding1) + ' ' + (y + 15) +\n                        ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x +\n                        ' ' + (y + height);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * create cliprect\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n        this.multiElements = this.chart.renderer.createGroup({\n            'id': axisId,\n            'clip-path': 'url(#' + clipId + ')'\n        });\n        if (!this.chart.enableCanvas) {\n            this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n                'id': clipId,\n                'x': x,\n                'y': y,\n                'width': width,\n                'height': height,\n                'fill': 'white',\n                'stroke-width': 1, 'stroke': 'Gray'\n            }, this.chart.renderer));\n        }\n    };\n    /**\n     * create borer element\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n        var direction = path;\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n        borderElement.style.pointerEvents = 'none';\n        appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n        var argsData = {\n            cancel: false, name: axisMultiLabelRender, axis: axis,\n            text: text, textStyle: textStyle, alignment: textAlignment, customAttributes: customAttributes\n        };\n        this.chart.trigger(axisMultiLabelRender, argsData);\n        return argsData;\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n        var level = parseInt(labelIndex.substr(0, 1), 10);\n        var textElement = parseInt(labelIndex.substr(7), 10);\n        var chart = this.chart;\n        var axis = chart.axisCollections[axisIndex];\n        var categories = axis.multiLevelLabels[level].categories;\n        var text = categories[textElement].text;\n        var start = categories[textElement].start;\n        var end = categories[textElement].end;\n        var customAttributes = categories[textElement].customAttributes;\n        var multilevelclickArgs = {\n            axis: axis, level: level, text: text, customAttributes: customAttributes,\n            start: start, end: end, name: multiLevelLabelClick, cancel: false\n        };\n        this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n        return multilevelclickArgs;\n    };\n    /**\n     * To click the multi level label\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n        var textId;\n        var elementId;\n        var axisIndex;\n        if (this.chart.enableCanvas) {\n            for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n                if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n                    targetId = this.xLabelCollection[i].id;\n                }\n            }\n        }\n        if (targetId.indexOf(multiLevelID) > -1) {\n            textId = targetId.split(multiLevelID)[1];\n            elementId = targetId.split(multiLevelID)[0];\n            axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n            this.MultiLevelLabelClick(textId, axisIndex);\n        }\n    };\n    /**\n     * To get the module name for `MultiLevelLabel`.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.getModuleName = function () {\n        return 'MultiLevelLabel';\n    };\n    /**\n     * To destroy the `MultiLevelLabel` module.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return MultiLevelLabel;\n}());\nexport { MultiLevelLabel };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}