{"ast":null,"code":"import { select, isNullOrUndefined, Browser, addClass, removeClass, EventHandler, closest, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { pageYOffset, hasClass, isIDevice } from '../base/util';\nimport { BaseQuickToolbar } from './base-quick-toolbar';\nimport { PopupRenderer } from '../renderer/popup-renderer';\nimport { CLS_INLINE_POP, CLS_INLINE } from '../base/classes';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar QuickToolbar = /** @class */function () {\n  function QuickToolbar(parent, locator) {\n    this.parent = parent;\n    this.locator = locator;\n    this.renderFactory = this.locator.getService('rendererFactory');\n    this.renderFactory.addRenderer(RenderType.Popup, new PopupRenderer(this.parent));\n    this.addEventListener();\n  }\n  QuickToolbar.prototype.formatItems = function (items) {\n    var formattedItems = [];\n    items.forEach(function (item) {\n      if (typeof item === 'string') {\n        switch (item.toLocaleLowerCase()) {\n          case 'open':\n            formattedItems.push('openLink');\n            break;\n          case 'edit':\n            formattedItems.push('editLink');\n            break;\n          case 'unlink':\n            formattedItems.push('removeLink');\n            break;\n          default:\n            formattedItems.push(item);\n            break;\n        }\n      } else {\n        formattedItems.push(item);\n      }\n    });\n    return formattedItems;\n  };\n  QuickToolbar.prototype.getQTBarOptions = function (popType, mode, items, type) {\n    return {\n      popupType: popType,\n      toolbarItems: items,\n      mode: mode,\n      renderType: type\n    };\n  };\n  /**\n   * createQTBar method\n   *\n   * @param {string} popupType - specifies the string value\n   * @param {string} mode - specifies the string value.\n   * @param {string} items - specifies the string.\n   * @param {RenderType} type - specifies the render type.\n   * @returns {BaseQuickToolbar} - specifies the quick toolbar\n   * @hidden\n    */\n  QuickToolbar.prototype.createQTBar = function (popupType, mode, items, type) {\n    if (items.length < 1) {\n      return null;\n    }\n    var qTBar = new BaseQuickToolbar(this.parent, this.locator);\n    qTBar.render(this.getQTBarOptions(popupType, mode, this.formatItems(items), type));\n    return qTBar;\n  };\n  QuickToolbar.prototype.initializeQuickToolbars = function () {\n    this.parent.quickToolbarModule = this;\n    this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n    if (this.parent.inlineMode.enable && this.parent.inlineMode.onSelection && isIDevice()) {\n      EventHandler.add(this.contentRenderer.getDocument(), 'selectionchange', this.selectionChangeHandler, this);\n    }\n  };\n  // eslint-disable-next-line\n  QuickToolbar.prototype.onMouseDown = function (e) {\n    this.parent.isBlur = false;\n    this.parent.isRTE = true;\n  };\n  QuickToolbar.prototype.keyUpQT = function (e) {\n    if (e.which == 27) {\n      this.hideQuickToolbars();\n    }\n  };\n  QuickToolbar.prototype.renderQuickToolbars = function () {\n    if (this.linkQTBar || this.imageQTBar || this.textQTBar || this.tableQTBar) {\n      return;\n    }\n    this.linkQTBar = this.createQTBar('Link', 'Scrollable', this.parent.quickToolbarSettings.link, RenderType.LinkToolbar);\n    this.renderFactory.addRenderer(RenderType.LinkToolbar, this.linkQTBar);\n    this.textQTBar = this.createQTBar('Text', 'Scrollable', this.parent.quickToolbarSettings.text, RenderType.TextToolbar);\n    this.renderFactory.addRenderer(RenderType.TextToolbar, this.textQTBar);\n    this.imageQTBar = this.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n    this.renderFactory.addRenderer(RenderType.ImageToolbar, this.imageQTBar);\n    this.tableQTBar = this.createQTBar('Table', 'MultiRow', this.parent.quickToolbarSettings.table, RenderType.TableToolbar);\n    this.renderFactory.addRenderer(RenderType.TableToolbar, this.tableQTBar);\n    if (this.linkQTBar) {\n      EventHandler.add(this.linkQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.linkQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n    if (this.imageQTBar) {\n      EventHandler.add(this.imageQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.imageQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n    if (this.textQTBar) {\n      EventHandler.add(this.textQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.textQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n    if (this.tableQTBar) {\n      EventHandler.add(this.tableQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.tableQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n  };\n  QuickToolbar.prototype.renderInlineQuickToolbar = function () {\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n      addClass([this.parent.element], [CLS_INLINE]);\n      this.inlineQTBar = this.createQTBar('Inline', 'MultiRow', this.parent.toolbarSettings.items, RenderType.InlineToolbar);\n      this.renderFactory.addRenderer(RenderType.InlineToolbar, this.inlineQTBar);\n      EventHandler.add(this.inlineQTBar.element, 'mousedown', this.onMouseDown, this);\n      EventHandler.add(this.inlineQTBar.element, 'keyup', this.keyUpQT, this);\n    }\n  };\n  /**\n   * Method for showing the inline quick toolbar\n   *\n   * @param {number} x -specifies the value of x.\n   * @param {number} y - specifies the y valu.\n   * @param {HTMLElement} target - specifies the target element.\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.showInlineQTBar = function (x, y, target) {\n    if (this.parent.readonly || target.tagName.toLowerCase() === \"img\") {\n      return;\n    }\n    this.inlineQTBar.showPopup(x, y, target);\n  };\n  /**\n   * Method for hidding the inline quick toolbar\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.hideInlineQTBar = function () {\n    if (this.inlineQTBar && !hasClass(this.inlineQTBar.element, 'e-popup-close')) {\n      this.inlineQTBar.hidePopup();\n    }\n  };\n  /**\n   * Method for hidding the quick toolbar\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.hideQuickToolbars = function () {\n    if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close') && document.body.contains(this.linkQTBar.element)) {\n      this.linkQTBar.hidePopup();\n    }\n    if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n      this.textQTBar.hidePopup();\n    }\n    if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close') && document.body.contains(this.imageQTBar.element)) {\n      this.imageQTBar.hidePopup();\n    }\n    if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close') && document.body.contains(this.tableQTBar.element)) {\n      this.tableQTBar.hidePopup();\n    }\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n      this.hideInlineQTBar();\n    }\n  };\n  QuickToolbar.prototype.deBounce = function (x, y, target) {\n    var _this = this;\n    clearTimeout(this.deBouncer);\n    this.deBouncer = window.setTimeout(function () {\n      _this.showInlineQTBar(x, y, target);\n    }, 1000);\n  };\n  QuickToolbar.prototype.mouseUpHandler = function (e) {\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n      var args = e.args.touches ? e.args.changedTouches[0] : e.args;\n      var range = this.parent.getRange();\n      var target = e.args.target;\n      if (isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n        if (isIDevice() && e.touchData && e.touchData.prevClientX !== e.touchData.clientX && e.touchData.prevClientY !== e.touchData.clientY) {\n          return;\n        }\n        this.hideInlineQTBar();\n        var parentLeft = this.parent.element.getBoundingClientRect().left;\n        this.offsetX = this.parent.iframeSettings.enable ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n        this.offsetY = pageYOffset(args, this.parent.element, this.parent.iframeSettings.enable);\n        if (target.nodeName === 'TEXTAREA') {\n          this.showInlineQTBar(this.offsetX, this.offsetY, target);\n        } else {\n          var closestAnchor = closest(target, 'a');\n          target = closestAnchor ? closestAnchor : target;\n          var startNode = this.parent.getRange().startContainer.parentElement;\n          var endNode = this.parent.getRange().endContainer.parentElement;\n          if ((isNOU(closest(startNode, 'A')) || isNOU(closest(endNode, 'A'))) && (!closest(target, 'td,th') || !range.collapsed) && (target.tagName !== 'IMG' || this.parent.getRange().startOffset !== this.parent.getRange().endOffset)) {\n            if (this.parent.inlineMode.onSelection && range.collapsed) {\n              return;\n            }\n            this.target = target;\n            this.showInlineQTBar(this.offsetX, this.offsetY, target);\n          }\n        }\n      }\n    }\n  };\n  QuickToolbar.prototype.keyDownHandler = function () {\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()) && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n      this.hideInlineQTBar();\n    }\n  };\n  QuickToolbar.prototype.inlineQTBarMouseDownHandler = function () {\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()) && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n      this.hideInlineQTBar();\n    }\n  };\n  QuickToolbar.prototype.keyUpHandler = function (e) {\n    if (this.parent.inlineMode.enable && !Browser.isDevice) {\n      if (this.parent.inlineMode.onSelection) {\n        return;\n      }\n      var args = e.args;\n      this.deBounce(this.offsetX, this.offsetY, args.target);\n    }\n  };\n  QuickToolbar.prototype.selectionChangeHandler = function (e) {\n    var _this = this;\n    clearTimeout(this.deBouncer);\n    this.deBouncer = window.setTimeout(function () {\n      _this.onSelectionChange(e);\n    }, 1000);\n  };\n  QuickToolbar.prototype.onSelectionChange = function (e) {\n    if (!isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n      return;\n    }\n    var selection = this.contentRenderer.getDocument().getSelection();\n    if (!selection.isCollapsed) {\n      this.mouseUpHandler({\n        args: e\n      });\n    }\n  };\n  /**\n   * getInlineBaseToolbar method\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.getInlineBaseToolbar = function () {\n    return this.inlineQTBar && this.inlineQTBar.quickTBarObj;\n  };\n  /**\n   * Destroys the ToolBar.\n   *\n   * @function destroy\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.destroy = function () {\n    if (this.linkQTBar) {\n      EventHandler.remove(this.linkQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.linkQTBar.element, 'keyup', this.keyUpQT);\n      this.linkQTBar.destroy();\n    }\n    if (this.textQTBar) {\n      EventHandler.remove(this.textQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.textQTBar.element, 'keyup', this.keyUpQT);\n      this.textQTBar.destroy();\n    }\n    if (this.imageQTBar) {\n      EventHandler.remove(this.imageQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.imageQTBar.element, 'keyup', this.keyUpQT);\n      this.imageQTBar.destroy();\n    }\n    if (this.tableQTBar) {\n      EventHandler.remove(this.tableQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.tableQTBar.element, 'keyup', this.keyUpQT);\n      this.tableQTBar.destroy();\n    }\n    if (this.inlineQTBar) {\n      EventHandler.remove(this.inlineQTBar.element, 'mousedown', this.onMouseDown);\n      EventHandler.remove(this.inlineQTBar.element, 'keyup', this.keyUpQT);\n      if (isIDevice()) {\n        EventHandler.remove(document, 'selectionchange', this.selectionChangeHandler);\n      }\n      this.inlineQTBar.destroy();\n    }\n    this.removeEventListener();\n  };\n  QuickToolbar.prototype.wireInlineQTBarEvents = function () {\n    this.parent.on(events.mouseUp, this.mouseUpHandler, this);\n    this.parent.on(events.mouseDown, this.inlineQTBarMouseDownHandler, this);\n    this.parent.on(events.keyDown, this.keyDownHandler, this);\n    this.parent.on(events.keyUp, this.keyUpHandler, this);\n    this.parent.on(events.sourceCodeMouseDown, this.mouseUpHandler, this);\n    this.parent.on(events.renderInlineToolbar, this.renderInlineQuickToolbar, this);\n  };\n  QuickToolbar.prototype.unWireInlineQTBarEvents = function () {\n    this.parent.off(events.mouseUp, this.mouseUpHandler);\n    this.parent.off(events.mouseDown, this.inlineQTBarMouseDownHandler);\n    this.parent.off(events.keyDown, this.keyDownHandler);\n    this.parent.off(events.keyUp, this.keyUpHandler);\n    this.parent.off(events.sourceCodeMouseDown, this.mouseUpHandler);\n    this.parent.off(events.renderInlineToolbar, this.renderInlineQuickToolbar);\n  };\n  // eslint-disable-next-line\n  QuickToolbar.prototype.toolbarUpdated = function (args) {\n    if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n      this.linkQTBar.hidePopup();\n    }\n    if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n      this.imageQTBar.hidePopup();\n    }\n    if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n      this.tableQTBar.hidePopup();\n    }\n  };\n  /**\n   * addEventListener\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.initialEnd, this.initializeQuickToolbars, this);\n    this.parent.on(events.mouseDown, this.renderQuickToolbars, this);\n    this.parent.on(events.toolbarUpdated, this.toolbarUpdated, this);\n    this.parent.on(events.drop, this.renderQuickToolbars, this);\n    this.wireInlineQTBarEvents();\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n      this.parent.on(events.scroll, this.hideQuickToolbars, this);\n      this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n    }\n    this.parent.on(events.focusChange, this.hideQuickToolbars, this);\n    this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.keyDown, this.onKeyDown, this);\n    this.parent.on(events.rtlMode, this.setRtl, this);\n  };\n  QuickToolbar.prototype.onKeyDown = function (e) {\n    var args = e.args;\n    if (args.which === 8 || args.which === 46) {\n      if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n        this.imageQTBar.hidePopup();\n      }\n    }\n  };\n  QuickToolbar.prototype.onIframeMouseDown = function () {\n    this.hideQuickToolbars();\n    this.hideInlineQTBar();\n  };\n  QuickToolbar.prototype.setRtl = function (args) {\n    if (this.inlineQTBar) {\n      this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n    if (this.imageQTBar) {\n      this.imageQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n    if (this.linkQTBar) {\n      this.imageQTBar.quickTBarObj.toolbarObj.setProperties({\n        enableRtl: args.enableRtl\n      });\n    }\n  };\n  /**\n   * removeEventListener\n   *\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.initialEnd, this.initializeQuickToolbars);\n    this.parent.off(events.mouseDown, this.renderQuickToolbars);\n    this.parent.off(events.toolbarUpdated, this.toolbarUpdated);\n    this.parent.off(events.drop, this.renderQuickToolbars);\n    this.unWireInlineQTBarEvents();\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n      this.parent.off(events.scroll, this.hideQuickToolbars);\n      this.parent.off(events.contentscroll, this.hideQuickToolbars);\n    }\n    this.parent.off(events.focusChange, this.hideQuickToolbars);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n    this.parent.off(events.keyDown, this.onKeyDown);\n    this.parent.off(events.rtlMode, this.setRtl);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {RichTextEditorModel} e - specifies the element.\n   * @returns {void}\n   * @hidden\n    */\n  QuickToolbar.prototype.onPropertyChanged = function (e) {\n    if (!isNullOrUndefined(e.newProp.quickToolbarSettings)) {\n      for (var _i = 0, _a = Object.keys(e.newProp.quickToolbarSettings); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        switch (prop) {\n          case 'actionOnScroll':\n            if (e.newProp.quickToolbarSettings.actionOnScroll === 'none') {\n              this.parent.off(events.scroll, this.hideQuickToolbars);\n              this.parent.off(events.contentscroll, this.hideQuickToolbars);\n            } else {\n              this.parent.on(events.scroll, this.hideQuickToolbars, this);\n              this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n            }\n            break;\n        }\n      }\n    }\n    if (e.module !== this.getModuleName()) {\n      return;\n    }\n    if (this.inlineQTBar) {\n      removeClass([this.parent.element], [CLS_INLINE]);\n      this.unWireInlineQTBarEvents();\n      this.hideInlineQTBar();\n    }\n    if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n      addClass([this.parent.element], [CLS_INLINE]);\n      this.wireInlineQTBarEvents();\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {void}\n   * @hidden\n   */\n  QuickToolbar.prototype.getModuleName = function () {\n    return 'quickToolbar';\n  };\n  return QuickToolbar;\n}();\nexport { QuickToolbar };","map":{"version":3,"names":["select","isNullOrUndefined","Browser","addClass","removeClass","EventHandler","closest","isNOU","RenderType","events","pageYOffset","hasClass","isIDevice","BaseQuickToolbar","PopupRenderer","CLS_INLINE_POP","CLS_INLINE","QuickToolbar","parent","locator","renderFactory","getService","addRenderer","Popup","addEventListener","prototype","formatItems","items","formattedItems","forEach","item","toLocaleLowerCase","push","getQTBarOptions","popType","mode","type","popupType","toolbarItems","renderType","createQTBar","length","qTBar","render","initializeQuickToolbars","quickToolbarModule","contentRenderer","getRenderer","Content","inlineMode","enable","onSelection","add","getDocument","selectionChangeHandler","onMouseDown","e","isBlur","isRTE","keyUpQT","which","hideQuickToolbars","renderQuickToolbars","linkQTBar","imageQTBar","textQTBar","tableQTBar","quickToolbarSettings","link","LinkToolbar","text","TextToolbar","image","ImageToolbar","table","TableToolbar","element","renderInlineQuickToolbar","isDevice","inlineQTBar","toolbarSettings","InlineToolbar","showInlineQTBar","x","y","target","readonly","tagName","toLowerCase","showPopup","hideInlineQTBar","hidePopup","document","body","contains","deBounce","_this","clearTimeout","deBouncer","window","setTimeout","mouseUpHandler","args","touches","changedTouches","range","getRange","touchData","prevClientX","clientX","prevClientY","clientY","parentLeft","getBoundingClientRect","left","offsetX","iframeSettings","pageXOffset","pageX","offsetY","nodeName","closestAnchor","startNode","startContainer","parentElement","endNode","endContainer","collapsed","startOffset","endOffset","keyDownHandler","inlineQTBarMouseDownHandler","keyUpHandler","onSelectionChange","selection","getSelection","isCollapsed","getInlineBaseToolbar","quickTBarObj","destroy","remove","removeEventListener","wireInlineQTBarEvents","on","mouseUp","mouseDown","keyDown","keyUp","sourceCodeMouseDown","renderInlineToolbar","unWireInlineQTBarEvents","off","toolbarUpdated","isDestroyed","initialEnd","drop","modelChanged","onPropertyChanged","actionOnScroll","scroll","contentscroll","focusChange","iframeMouseDown","onIframeMouseDown","onKeyDown","rtlMode","setRtl","toolbarObj","setProperties","enableRtl","newProp","_i","_a","Object","keys","prop","module","getModuleName"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/quick-toolbar.js"],"sourcesContent":["import { select, isNullOrUndefined, Browser, addClass, removeClass, EventHandler, closest, isNullOrUndefined as isNOU } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\nimport * as events from '../base/constant';\nimport { pageYOffset, hasClass, isIDevice } from '../base/util';\nimport { BaseQuickToolbar } from './base-quick-toolbar';\nimport { PopupRenderer } from '../renderer/popup-renderer';\nimport { CLS_INLINE_POP, CLS_INLINE } from '../base/classes';\n/**\n * `Quick toolbar` module is used to handle Quick toolbar actions.\n */\nvar QuickToolbar = /** @class */ (function () {\n    function QuickToolbar(parent, locator) {\n        this.parent = parent;\n        this.locator = locator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.renderFactory.addRenderer(RenderType.Popup, new PopupRenderer(this.parent));\n        this.addEventListener();\n    }\n    QuickToolbar.prototype.formatItems = function (items) {\n        var formattedItems = [];\n        items.forEach(function (item) {\n            if (typeof item === 'string') {\n                switch (item.toLocaleLowerCase()) {\n                    case 'open':\n                        formattedItems.push('openLink');\n                        break;\n                    case 'edit':\n                        formattedItems.push('editLink');\n                        break;\n                    case 'unlink':\n                        formattedItems.push('removeLink');\n                        break;\n                    default:\n                        formattedItems.push(item);\n                        break;\n                }\n            }\n            else {\n                formattedItems.push(item);\n            }\n        });\n        return formattedItems;\n    };\n    QuickToolbar.prototype.getQTBarOptions = function (popType, mode, items, type) {\n        return {\n            popupType: popType,\n            toolbarItems: items,\n            mode: mode,\n            renderType: type\n        };\n    };\n    /**\n     * createQTBar method\n     *\n     * @param {string} popupType - specifies the string value\n     * @param {string} mode - specifies the string value.\n     * @param {string} items - specifies the string.\n     * @param {RenderType} type - specifies the render type.\n     * @returns {BaseQuickToolbar} - specifies the quick toolbar\n     * @hidden\n\n     */\n    QuickToolbar.prototype.createQTBar = function (popupType, mode, items, type) {\n        if (items.length < 1) {\n            return null;\n        }\n        var qTBar = new BaseQuickToolbar(this.parent, this.locator);\n        qTBar.render(this.getQTBarOptions(popupType, mode, this.formatItems(items), type));\n        return qTBar;\n    };\n    QuickToolbar.prototype.initializeQuickToolbars = function () {\n        this.parent.quickToolbarModule = this;\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        if (this.parent.inlineMode.enable && this.parent.inlineMode.onSelection && isIDevice()) {\n            EventHandler.add(this.contentRenderer.getDocument(), 'selectionchange', this.selectionChangeHandler, this);\n        }\n    };\n    // eslint-disable-next-line\n    QuickToolbar.prototype.onMouseDown = function (e) {\n        this.parent.isBlur = false;\n        this.parent.isRTE = true;\n    };\n    QuickToolbar.prototype.keyUpQT = function (e) {\n        if (e.which == 27) {\n            this.hideQuickToolbars();\n        }\n    };\n    QuickToolbar.prototype.renderQuickToolbars = function () {\n        if (this.linkQTBar || this.imageQTBar || this.textQTBar || this.tableQTBar) {\n            return;\n        }\n        this.linkQTBar = this.createQTBar('Link', 'Scrollable', this.parent.quickToolbarSettings.link, RenderType.LinkToolbar);\n        this.renderFactory.addRenderer(RenderType.LinkToolbar, this.linkQTBar);\n        this.textQTBar = this.createQTBar('Text', 'Scrollable', this.parent.quickToolbarSettings.text, RenderType.TextToolbar);\n        this.renderFactory.addRenderer(RenderType.TextToolbar, this.textQTBar);\n        this.imageQTBar = this.createQTBar('Image', 'MultiRow', this.parent.quickToolbarSettings.image, RenderType.ImageToolbar);\n        this.renderFactory.addRenderer(RenderType.ImageToolbar, this.imageQTBar);\n        this.tableQTBar = this.createQTBar('Table', 'MultiRow', this.parent.quickToolbarSettings.table, RenderType.TableToolbar);\n        this.renderFactory.addRenderer(RenderType.TableToolbar, this.tableQTBar);\n        if (this.linkQTBar) {\n            EventHandler.add(this.linkQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.linkQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.imageQTBar) {\n            EventHandler.add(this.imageQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.imageQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.textQTBar) {\n            EventHandler.add(this.textQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.textQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n        if (this.tableQTBar) {\n            EventHandler.add(this.tableQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.tableQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n    };\n    QuickToolbar.prototype.renderInlineQuickToolbar = function () {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.inlineQTBar = this.createQTBar('Inline', 'MultiRow', this.parent.toolbarSettings.items, RenderType.InlineToolbar);\n            this.renderFactory.addRenderer(RenderType.InlineToolbar, this.inlineQTBar);\n            EventHandler.add(this.inlineQTBar.element, 'mousedown', this.onMouseDown, this);\n            EventHandler.add(this.inlineQTBar.element, 'keyup', this.keyUpQT, this);\n        }\n    };\n    /**\n     * Method for showing the inline quick toolbar\n     *\n     * @param {number} x -specifies the value of x.\n     * @param {number} y - specifies the y valu.\n     * @param {HTMLElement} target - specifies the target element.\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.showInlineQTBar = function (x, y, target) {\n        if (this.parent.readonly || target.tagName.toLowerCase() === \"img\") {\n            return;\n        }\n        this.inlineQTBar.showPopup(x, y, target);\n    };\n    /**\n     * Method for hidding the inline quick toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideInlineQTBar = function () {\n        if (this.inlineQTBar && !hasClass(this.inlineQTBar.element, 'e-popup-close')) {\n            this.inlineQTBar.hidePopup();\n        }\n    };\n    /**\n     * Method for hidding the quick toolbar\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.hideQuickToolbars = function () {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close') && document.body.contains(this.linkQTBar.element)) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.textQTBar && !hasClass(this.textQTBar.element, 'e-popup-close') && document.body.contains(this.textQTBar.element)) {\n            this.textQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close') && document.body.contains(this.imageQTBar.element)) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close') && document.body.contains(this.tableQTBar.element)) {\n            this.tableQTBar.hidePopup();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.deBounce = function (x, y, target) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () {\n            _this.showInlineQTBar(x, y, target);\n        }, 1000);\n    };\n    QuickToolbar.prototype.mouseUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            var args = e.args.touches ?\n                e.args.changedTouches[0] : e.args;\n            var range = this.parent.getRange();\n            var target = e.args.target;\n            if (isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n                if (isIDevice() && e.touchData && e.touchData.prevClientX !== e.touchData.clientX\n                    && e.touchData.prevClientY !== e.touchData.clientY) {\n                    return;\n                }\n                this.hideInlineQTBar();\n                var parentLeft = this.parent.element.getBoundingClientRect().left;\n                this.offsetX = this.parent.iframeSettings.enable ? window.pageXOffset + parentLeft + args.clientX : args.pageX;\n                this.offsetY = pageYOffset(args, this.parent.element, this.parent.iframeSettings.enable);\n                if (target.nodeName === 'TEXTAREA') {\n                    this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                }\n                else {\n                    var closestAnchor = closest(target, 'a');\n                    target = closestAnchor ? closestAnchor : target;\n                    var startNode = this.parent.getRange().startContainer.parentElement;\n                    var endNode = this.parent.getRange().endContainer.parentElement;\n                    if ((isNOU(closest(startNode, 'A')) || isNOU(closest(endNode, 'A'))) && (!closest(target, 'td,th') || !range.collapsed) &&\n                        (target.tagName !== 'IMG' || this.parent.getRange().startOffset !== this.parent.getRange().endOffset)) {\n                        if (this.parent.inlineMode.onSelection && range.collapsed) {\n                            return;\n                        }\n                        this.target = target;\n                        this.showInlineQTBar(this.offsetX, this.offsetY, target);\n                    }\n                }\n            }\n        }\n    };\n    QuickToolbar.prototype.keyDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.inlineQTBarMouseDownHandler = function () {\n        if ((this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice()))\n            && !isNullOrUndefined(select('.' + CLS_INLINE_POP, document))) {\n            this.hideInlineQTBar();\n        }\n    };\n    QuickToolbar.prototype.keyUpHandler = function (e) {\n        if (this.parent.inlineMode.enable && !Browser.isDevice) {\n            if (this.parent.inlineMode.onSelection) {\n                return;\n            }\n            var args = e.args;\n            this.deBounce(this.offsetX, this.offsetY, args.target);\n        }\n    };\n    QuickToolbar.prototype.selectionChangeHandler = function (e) {\n        var _this = this;\n        clearTimeout(this.deBouncer);\n        this.deBouncer = window.setTimeout(function () {\n            _this.onSelectionChange(e);\n        }, 1000);\n    };\n    QuickToolbar.prototype.onSelectionChange = function (e) {\n        if (!isNullOrUndefined(select('.' + CLS_INLINE_POP, document.body))) {\n            return;\n        }\n        var selection = this.contentRenderer.getDocument().getSelection();\n        if (!selection.isCollapsed) {\n            this.mouseUpHandler({ args: e });\n        }\n    };\n    /**\n     * getInlineBaseToolbar method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.getInlineBaseToolbar = function () {\n        return this.inlineQTBar && this.inlineQTBar.quickTBarObj;\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.destroy = function () {\n        if (this.linkQTBar) {\n            EventHandler.remove(this.linkQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.linkQTBar.element, 'keyup', this.keyUpQT);\n            this.linkQTBar.destroy();\n        }\n        if (this.textQTBar) {\n            EventHandler.remove(this.textQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.textQTBar.element, 'keyup', this.keyUpQT);\n            this.textQTBar.destroy();\n        }\n        if (this.imageQTBar) {\n            EventHandler.remove(this.imageQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.imageQTBar.element, 'keyup', this.keyUpQT);\n            this.imageQTBar.destroy();\n        }\n        if (this.tableQTBar) {\n            EventHandler.remove(this.tableQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.tableQTBar.element, 'keyup', this.keyUpQT);\n            this.tableQTBar.destroy();\n        }\n        if (this.inlineQTBar) {\n            EventHandler.remove(this.inlineQTBar.element, 'mousedown', this.onMouseDown);\n            EventHandler.remove(this.inlineQTBar.element, 'keyup', this.keyUpQT);\n            if (isIDevice()) {\n                EventHandler.remove(document, 'selectionchange', this.selectionChangeHandler);\n            }\n            this.inlineQTBar.destroy();\n        }\n        this.removeEventListener();\n    };\n    QuickToolbar.prototype.wireInlineQTBarEvents = function () {\n        this.parent.on(events.mouseUp, this.mouseUpHandler, this);\n        this.parent.on(events.mouseDown, this.inlineQTBarMouseDownHandler, this);\n        this.parent.on(events.keyDown, this.keyDownHandler, this);\n        this.parent.on(events.keyUp, this.keyUpHandler, this);\n        this.parent.on(events.sourceCodeMouseDown, this.mouseUpHandler, this);\n        this.parent.on(events.renderInlineToolbar, this.renderInlineQuickToolbar, this);\n    };\n    QuickToolbar.prototype.unWireInlineQTBarEvents = function () {\n        this.parent.off(events.mouseUp, this.mouseUpHandler);\n        this.parent.off(events.mouseDown, this.inlineQTBarMouseDownHandler);\n        this.parent.off(events.keyDown, this.keyDownHandler);\n        this.parent.off(events.keyUp, this.keyUpHandler);\n        this.parent.off(events.sourceCodeMouseDown, this.mouseUpHandler);\n        this.parent.off(events.renderInlineToolbar, this.renderInlineQuickToolbar);\n    };\n    // eslint-disable-next-line\n    QuickToolbar.prototype.toolbarUpdated = function (args) {\n        if (this.linkQTBar && !hasClass(this.linkQTBar.element, 'e-popup-close')) {\n            this.linkQTBar.hidePopup();\n        }\n        if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n            this.imageQTBar.hidePopup();\n        }\n        if (this.tableQTBar && !hasClass(this.tableQTBar.element, 'e-popup-close')) {\n            this.tableQTBar.hidePopup();\n        }\n    };\n    /**\n     * addEventListener\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.initializeQuickToolbars, this);\n        this.parent.on(events.mouseDown, this.renderQuickToolbars, this);\n        this.parent.on(events.toolbarUpdated, this.toolbarUpdated, this);\n        this.parent.on(events.drop, this.renderQuickToolbars, this);\n        this.wireInlineQTBarEvents();\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n        }\n        this.parent.on(events.focusChange, this.hideQuickToolbars, this);\n        this.parent.on(events.iframeMouseDown, this.onIframeMouseDown, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.keyDown, this.onKeyDown, this);\n        this.parent.on(events.rtlMode, this.setRtl, this);\n    };\n    QuickToolbar.prototype.onKeyDown = function (e) {\n        var args = e.args;\n        if (args.which === 8 || args.which === 46) {\n            if (this.imageQTBar && !hasClass(this.imageQTBar.element, 'e-popup-close')) {\n                this.imageQTBar.hidePopup();\n            }\n        }\n    };\n    QuickToolbar.prototype.onIframeMouseDown = function () {\n        this.hideQuickToolbars();\n        this.hideInlineQTBar();\n    };\n    QuickToolbar.prototype.setRtl = function (args) {\n        if (this.inlineQTBar) {\n            this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.imageQTBar) {\n            this.imageQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n        if (this.linkQTBar) {\n            this.imageQTBar.quickTBarObj.toolbarObj.setProperties({ enableRtl: args.enableRtl });\n        }\n    };\n    /**\n     * removeEventListener\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.initializeQuickToolbars);\n        this.parent.off(events.mouseDown, this.renderQuickToolbars);\n        this.parent.off(events.toolbarUpdated, this.toolbarUpdated);\n        this.parent.off(events.drop, this.renderQuickToolbars);\n        this.unWireInlineQTBarEvents();\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        if (this.parent.quickToolbarSettings.actionOnScroll === 'hide') {\n            this.parent.off(events.scroll, this.hideQuickToolbars);\n            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n        }\n        this.parent.off(events.focusChange, this.hideQuickToolbars);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.iframeMouseDown, this.onIframeMouseDown);\n        this.parent.off(events.keyDown, this.onKeyDown);\n        this.parent.off(events.rtlMode, this.setRtl);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {RichTextEditorModel} e - specifies the element.\n     * @returns {void}\n     * @hidden\n\n     */\n    QuickToolbar.prototype.onPropertyChanged = function (e) {\n        if (!isNullOrUndefined(e.newProp.quickToolbarSettings)) {\n            for (var _i = 0, _a = Object.keys(e.newProp.quickToolbarSettings); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'actionOnScroll':\n                        if (e.newProp.quickToolbarSettings.actionOnScroll === 'none') {\n                            this.parent.off(events.scroll, this.hideQuickToolbars);\n                            this.parent.off(events.contentscroll, this.hideQuickToolbars);\n                        }\n                        else {\n                            this.parent.on(events.scroll, this.hideQuickToolbars, this);\n                            this.parent.on(events.contentscroll, this.hideQuickToolbars, this);\n                        }\n                        break;\n                }\n            }\n        }\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (this.inlineQTBar) {\n            removeClass([this.parent.element], [CLS_INLINE]);\n            this.unWireInlineQTBarEvents();\n            this.hideInlineQTBar();\n        }\n        if (this.parent.inlineMode.enable && (!Browser.isDevice || isIDevice())) {\n            addClass([this.parent.element], [CLS_INLINE]);\n            this.wireInlineQTBarEvents();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    QuickToolbar.prototype.getModuleName = function () {\n        return 'quickToolbar';\n    };\n    return QuickToolbar;\n}());\nexport { QuickToolbar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}