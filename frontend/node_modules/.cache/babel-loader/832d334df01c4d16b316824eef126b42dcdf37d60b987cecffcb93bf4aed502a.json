{"ast":null,"code":"import { Grid, Resize, ContextMenu, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\nimport { select, KeyboardEvents, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, Touch, setValue, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Internationalization, closest, Draggable } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\nimport { removeBlur, openAction, getImageUrl, fileType, getSortedData, getLocaleText, updateLayout } from '../common/utility';\nimport { createEmptyElement } from '../common/utility';\nimport { read, Download, GetDetails, Delete } from '../common/operations';\nimport { cutFiles, addBlur, openSearchFolder, copyFiles, removeActive, pasteHandler, getPathObject, getName } from '../common/index';\nimport { hasReadAccess, hasEditAccess, hasDownloadAccess, doRename, getAccessClass, createDeniedDialog, rename } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule, getFullPath } from '../common/index';\nimport { getDirectoryPath, updateRenamingData, getItemName, doDeleteFiles, doDownloadFiles } from '../common/index';\n/**\n * DetailsView module\n */\nvar DetailsView = /** @class */function () {\n  /**\n   * Constructor for the GridView module\n   *\n   * @param {FileManager} parent - specifies the parent.\n   * @hidden\n   */\n  function DetailsView(parent) {\n    this.isInteracted = true;\n    this.interaction = true;\n    this.isPasteOperation = false;\n    this.isColumnRefresh = false;\n    this.dragObj = null;\n    this.startIndex = null;\n    this.firstItemIndex = null;\n    this.isSelectionUpdate = false;\n    this.currentSelectedItem = [];\n    this.count = 0;\n    this.isRendered = true;\n    this.isLoaded = false;\n    this.isNameWidth = false;\n    this.pasteOperation = false;\n    this.uploadOperation = false;\n    Grid.Inject(Resize, ContextMenu, Sort, VirtualScroll);\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + CLS.GRID_ID, this.parent.element);\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      ctrlUp: 'ctrl+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      end: 'end',\n      home: 'home',\n      moveUp: 'uparrow',\n      del: 'delete',\n      ctrlX: 'ctrl+x',\n      ctrlC: 'ctrl+c',\n      ctrlV: 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftdel: 'shift+delete',\n      ctrlD: 'ctrl+d',\n      f2: 'f2',\n      ctrlA: 'ctrl+a',\n      enter: 'enter'\n    };\n  }\n  /* istanbul ignore next */\n  DetailsView.prototype.render = function (args) {\n    showSpinner(this.parent.element);\n    if (this.parent.view === 'Details') {\n      removeClass([this.parent.element], CLS.MULTI_SELECT);\n      // eslint-disable-next-line\n      var items = getSortedData(this.parent, args.files);\n      this.checkNameWidth();\n      var columns = this.getColumns();\n      var sortSettings = void 0;\n      if (this.parent.isMobile) {\n        sortSettings = [];\n      } else {\n        if (this.parent.sortOrder !== 'None') {\n          sortSettings = [{\n            direction: this.parent.sortOrder,\n            field: this.parent.sortBy\n          }];\n        }\n      }\n      this.gridObj = new Grid({\n        dataSource: items,\n        allowSorting: true,\n        rowSelecting: this.onSelection.bind(this, 'select'),\n        rowDeselecting: this.onSelection.bind(this, 'unselect'),\n        rowSelected: this.onSelected.bind(this),\n        rowDeselected: this.onDeSelection.bind(this),\n        allowResizing: this.parent.detailsViewSettings.columnResizing,\n        selectionSettings: {\n          type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n          checkboxMode: 'ResetOnRowClick'\n        },\n        enableRtl: this.parent.enableRtl,\n        pageSettings: {\n          pageSize: 20\n        },\n        sortSettings: {\n          allowUnsort: false,\n          columns: sortSettings\n        },\n        columns: columns,\n        recordDoubleClick: this.DblClickEvents.bind(this),\n        beforeDataBound: this.onBeforeDataBound.bind(this),\n        dataBound: this.onDataBound.bind(this),\n        rowDataBound: this.onRowDataBound.bind(this),\n        actionBegin: this.onActionBegin.bind(this),\n        headerCellInfo: this.onHeaderCellInfo.bind(this),\n        width: '100%',\n        beforeCopy: function (args) {\n          args.cancel = true;\n        },\n        // eslint-disable-next-line\n        load: function (args) {\n          this.focusModule.destroy();\n        },\n        locale: this.parent.locale\n      });\n      this.gridObj.isStringTemplate = true;\n      this.gridObj.appendTo('#' + this.parent.element.id + CLS.GRID_ID);\n      this.wireEvents();\n      this.adjustHeight();\n      this.emptyArgs = args;\n    }\n  };\n  DetailsView.prototype.checkNameWidth = function () {\n    var initialColumn = this.parent.detailsViewSettings.columns;\n    this.isNameWidth = false;\n    for (var i = 0; i < initialColumn.length; i++) {\n      if (initialColumn[i].field === 'name') {\n        this.isNameWidth = !isNOU(initialColumn[i].width);\n        return;\n      }\n    }\n  };\n  DetailsView.prototype.adjustWidth = function (columns, fieldName) {\n    if (this.isNameWidth && fieldName === 'name') {\n      return;\n    }\n    for (var i = 0; i < columns.length; i++) {\n      if (columns[i].field === fieldName) {\n        var nameWidth = void 0;\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n          nameWidth = this.element.clientWidth <= 500 ? '120px' : 'auto';\n        } else {\n          nameWidth = this.element.clientWidth <= 680 ? fieldName === 'name' ? '120px' : '180px' : 'auto';\n        }\n        columns[i].width = nameWidth;\n      }\n    }\n  };\n  DetailsView.prototype.getColumns = function () {\n    var columns;\n    if (this.parent.isMobile) {\n      columns = [{\n        field: 'name',\n        headerText: getLocaleText(this.parent, 'Name'),\n        width: 'auto',\n        minWidth: 120,\n        headerTextAlign: 'Left',\n        template: '<div class=\"e-fe-text\">${name}</div><div class=\"e-fe-date\">${_fm_modified}</div>' + '<span class=\"e-fe-size\">${size}</span>'\n      }];\n    } else {\n      columns = JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns));\n      this.adjustWidth(columns, 'name');\n      for (var i = 0, len = columns.length; i < len; i++) {\n        columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n      }\n    }\n    var iWidth = this.parent.isMobile || this.parent.isBigger ? '54' : '46';\n    var icon = {\n      field: 'type',\n      width: iWidth,\n      minWidth: iWidth,\n      template: '<span class=\"e-fe-icon ${_fm_iconClass}\"></span>',\n      allowResizing: false,\n      allowSorting: true,\n      customAttributes: {\n        class: 'e-fe-grid-icon'\n      },\n      headerTemplate: '<span class=\"e-fe-icon e-fe-folder\"></span>'\n    };\n    columns.unshift(icon);\n    if (this.parent.allowMultiSelection) {\n      var cWidth = this.parent.isBigger ? '36' : '26';\n      var cBox = {\n        type: 'checkbox',\n        width: cWidth,\n        minWidth: cWidth,\n        customAttributes: {\n          class: 'e-fe-checkbox'\n        },\n        allowResizing: false,\n        allowSorting: false\n      };\n      if (this.parent.isMobile) {\n        columns.push(cBox);\n      } else {\n        columns.unshift(cBox);\n      }\n    }\n    for (var i = 0, len = columns.length; i < len; i++) {\n      columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n    }\n    return columns;\n  };\n  DetailsView.prototype.adjustHeight = function () {\n    if (!this.gridObj) {\n      return;\n    }\n    var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n    var gridHeader = select('.' + CLS.GRID_HEADER, this.parent.element);\n    var height = pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight;\n    this.gridObj.height = height;\n    this.gridObj.dataBind();\n  };\n  DetailsView.prototype.renderCheckBox = function () {\n    this.gridObj.columns = this.getColumns();\n    this.isColumnRefresh = true;\n    this.gridObj.refreshColumns();\n  };\n  DetailsView.prototype.onRowDataBound = function (args) {\n    var td = select('.e-fe-grid-name', args.row);\n    if (!td) {\n      var columns = this.parent.detailsViewSettings.columns;\n      for (var i = 0; i < columns.length; i++) {\n        if (columns[i].field === 'name') {\n          td = args.row.children[this.parent.allowMultiSelection ? i + 2 : i + 1];\n          break;\n        }\n      }\n    }\n    if (td) {\n      td.setAttribute('title', getValue('name', args.data));\n    }\n    if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n      if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n        addBlur(args.row);\n      }\n    }\n    if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n      var textEle = args.row.querySelector('.e-fe-text');\n      if (textEle) {\n        var name_1 = getValue('name', args.data);\n        var type = getValue('type', args.data);\n        textEle.innerHTML = name_1.substr(0, name_1.length - type.length);\n      }\n    }\n    if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n      var sizeEle = args.row.querySelector('.e-fe-size');\n      var modifiedSize = void 0;\n      if (!getValue('isFile', args.data)) {\n        modifiedSize = '';\n      } else {\n        var sizeValue = getValue('size', args.data);\n        var intl = new Internationalization(this.parent.locale);\n        var value = intl.formatNumber(sizeValue / 1024, {\n          format: 'n'\n        });\n        modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n      }\n      sizeEle.innerHTML = modifiedSize;\n    }\n    if (this.parent.isMobile) {\n      if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n        var dateEle = args.row.querySelector('.e-fe-date');\n        var intl = new Internationalization(this.parent.locale);\n        var columns = this.parent.detailsViewSettings.columns;\n        // eslint-disable-next-line\n        var format = void 0;\n        for (var i = 0; i < columns.length; i++) {\n          if (columns[i].field === 'dateModified') {\n            format = columns[i].format;\n            break;\n          }\n        }\n        var formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n        dateEle.innerHTML = formattedString;\n      }\n    }\n    var checkWrap = args.row.querySelector('.' + CLS.CB_WRAP);\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n    if (!hasEditAccess(args.data)) {\n      args.row.className += ' ' + getAccessClass(args.data);\n    }\n    var eventArgs = {\n      element: args.row,\n      fileDetails: args.data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n  DetailsView.prototype.onActionBegin = function (args) {\n    if (args.requestType === 'sorting') {\n      this.parent.setProperties({\n        sortOrder: args.direction\n      }, true);\n      this.parent.setProperties({\n        sortBy: args.columnName\n      }, true);\n      if (this.parent.selectedItems.length !== 0) {\n        this.sortItem = true;\n        var rows = this.gridObj.getSelectedRowIndexes();\n        var len = rows.length;\n        this.sortSelectedNodes = [];\n        while (len > 0) {\n          // eslint-disable-next-line\n          var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n          this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n          len--;\n        }\n      }\n      this.parent.notify(events.sortByChange, {});\n    }\n  };\n  DetailsView.prototype.onHeaderCellInfo = function (args) {\n    var checkWrap = args.node.querySelector('.' + CLS.CB_WRAP);\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n  };\n  DetailsView.prototype.onBeforeDataBound = function (args) {\n    showSpinner(this.parent.element);\n    // eslint-disable-next-line\n    var items = getSortedData(this.parent, this.gridObj.dataSource);\n    args.result = items;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDataBound = function () {\n    this.createDragObj();\n    if (this.parent.selectedItems.length !== 0) {\n      this.selectRecords(this.parent.selectedItems);\n    }\n    if (this.isPasteOperation === true) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n    if (this.parent.createdItem) {\n      this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n      this.parent.createdItem = null;\n    }\n    if (this.parent.layoutSelectedItems.length) {\n      this.selectRecords(this.parent.layoutSelectedItems);\n    }\n    if (this.parent.renamedItem) {\n      this.addSelection(this.parent.renamedItem);\n      this.parent.renamedItem = null;\n    }\n    if (this.sortItem === true) {\n      this.selectRecords(this.sortSelectedNodes);\n      this.sortItem = false;\n    }\n    if (this.isSelectionUpdate) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.currentSelectedItem);\n        this.isSelectionUpdate = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n    if (this.uploadOperation === true) {\n      this.count++;\n      this.selectRecords(this.parent.uploadItem);\n      if (this.count === this.parent.uploadItem.length) {\n        this.uploadOperation = false;\n        this.parent.uploadItem = [];\n      }\n    }\n    if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n      var hdTable = this.gridObj.getHeaderContent();\n      hdTable.style.paddingRight = '';\n      hdTable.style.paddingLeft = '';\n      var hdContent = select('.e-headercontent', hdTable);\n      hdContent.style.borderRightWidth = '0';\n      var cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.style.overflowY = '';\n      cnTable.classList.add('e-scrollShow');\n    } else {\n      var hdTable = this.gridObj.getHeaderContent();\n      if (!this.parent.enableRtl) {\n        hdTable.style.paddingRight = '16px';\n      } else {\n        hdTable.style.paddingLeft = '16px';\n      }\n      var cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.classList.remove('e-scrollShow');\n    }\n    this.isRendered = true;\n    this.parent.isLayoutChange = false;\n    hideSpinner(this.parent.element);\n    this.checkEmptyDiv(this.emptyArgs);\n    this.isInteracted = this.isLoaded ? true : this.isInteracted;\n    this.isLoaded = false;\n  };\n  DetailsView.prototype.selectRecords = function (nodes) {\n    // eslint-disable-next-line\n    var gridRecords = this.gridObj.getCurrentViewRecords();\n    var sRecords = [];\n    for (var i = 0, len = gridRecords.length; i < len; i++) {\n      var node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n      if (nodes.indexOf(node) !== -1) {\n        sRecords.push(i);\n      }\n    }\n    if (sRecords.length !== 0) {\n      this.gridObj.selectRows(sRecords);\n      this.addFocus(this.gridObj.selectedRowIndex);\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.addSelection = function (data) {\n    // eslint-disable-next-line\n    var items = this.gridObj.getCurrentViewRecords();\n    // eslint-disable-next-line\n    var rData = [];\n    if (this.parent.hasId) {\n      rData = new DataManager(items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      var nData = new DataManager(items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n      if (nData.length > 0) {\n        rData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n    if (rData.length > 0) {\n      var index = items.indexOf(rData[0]);\n      this.gridObj.selectRows([index]);\n    }\n  };\n  DetailsView.prototype.onSortColumn = function () {\n    if (this.parent.sortOrder !== 'None') {\n      this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n    } else {\n      // eslint-disable-next-line\n      this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n    }\n  };\n  DetailsView.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n        case 'height':\n          this.adjustHeight();\n          break;\n        case 'detailsViewSettings':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.checkNameWidth();\n            var columns = this.getColumns();\n            this.gridObj.columns = columns;\n            this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n            this.gridObj.dataBind();\n            this.gridObj.refreshColumns();\n          }\n          break;\n        case 'selectedItems':\n          this.interaction = false;\n          if (this.parent.selectedItems.length !== 0) {\n            if (!this.parent.allowMultiSelection) {\n              var slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n              this.parent.setProperties({\n                selectedItems: slItems\n              }, true);\n            }\n            this.selectRecords(this.parent.selectedItems);\n            this.parent.setProperties({\n              selectedItems: this.parent.selectedItems\n            }, true);\n          } else if (!isNOU(this.gridObj)) {\n            this.gridObj.clearSelection();\n          }\n          break;\n        case 'showFileExtension':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'showHiddenItems':\n          read(this.parent, events.pathChanged, this.parent.path);\n          break;\n        case 'allowMultiSelection':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.currentSelectedItem = this.parent.selectedItems;\n            this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n            this.isSelectionUpdate = true;\n            this.renderCheckBox();\n          }\n          break;\n        case 'view':\n          updateLayout(this.parent, 'Details');\n          break;\n        case 'width':\n          this.onDetailsResize();\n      }\n    }\n  };\n  DetailsView.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n    if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n      this.parent.searchedItems = [];\n      if (!this.parent.isFiltered) {\n        this.removePathColumn(false);\n      } else {\n        this.updatePathColumn();\n      }\n    }\n    removeBlur(this.parent);\n    if (this.parent.view === 'Details') {\n      /* istanbul ignore next */\n      this.isInteracted = false;\n      showSpinner(this.parent.element);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    }\n    this.emptyArgs = args;\n  };\n  DetailsView.prototype.updatePathColumn = function () {\n    var len = this.gridObj.columns.length;\n    var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n    if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n      var pathColumn = {\n        field: 'filterPath',\n        headerText: getLocaleText(this.parent, 'Path'),\n        minWidth: 180,\n        width: 'auto'\n      };\n      this.gridObj.columns.push(pathColumn);\n      this.adjustWidth(this.gridObj.columns, 'filterPath');\n      this.adjustWidth(this.gridObj.columns, 'name');\n      this.isColumnRefresh = true;\n      this.gridObj.refreshColumns();\n    }\n  };\n  DetailsView.prototype.checkEmptyDiv = function (args) {\n    // eslint-disable-next-line\n    var items = getSortedData(this.parent, args.files);\n    if (items.length === 0 && !isNOU(this.element.querySelector('.' + CLS.GRID_VIEW))) {\n      createEmptyElement(this.parent, this.element, args);\n    } else if (items.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n      if (this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY)) {\n        var emptyDiv = this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY);\n        this.element.querySelector('.' + CLS.GRID_VIEW).removeChild(emptyDiv);\n      } else {\n        this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n      }\n    }\n  };\n  DetailsView.prototype.onOpenInit = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      // eslint-disable-next-line\n      var data = this.gridObj.getSelectedRecords()[0];\n      this.openContent(data);\n    }\n  };\n  DetailsView.prototype.DblClickEvents = function (args) {\n    this.gridObj.selectRows([args.rowIndex]);\n    // eslint-disable-next-line\n    var data;\n    if (args.rowData) {\n      data = JSON.parse(JSON.stringify(args.rowData));\n      this.openContent(data);\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.openContent = function (data) {\n    var _this = this;\n    if (!hasReadAccess(data)) {\n      createDeniedDialog(this.parent, data, events.permissionRead);\n      return;\n    }\n    var eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n      if (!fileOpenArgs.cancel) {\n        var name_2 = getValue('name', data);\n        if (getValue('isFile', data)) {\n          var icon = fileType(data);\n          if (icon === CLS.ICON_IMAGE) {\n            var imgUrl = getImageUrl(_this.parent, data);\n            createImageDialog(_this.parent, name_2, imgUrl);\n          }\n        } else {\n          var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n          if (val === '' && !_this.parent.isFiltered) {\n            var id = getValue('id', data);\n            var newPath = _this.parent.path + (isNOU(id) ? name_2 : id) + '/';\n            _this.parent.setProperties({\n              path: newPath\n            }, true);\n            _this.parent.pathNames.push(name_2);\n            _this.parent.pathId.push(getValue('_fm_id', data));\n            _this.parent.itemData = [data];\n            openAction(_this.parent);\n          } else {\n            openSearchFolder(_this.parent, data);\n          }\n          _this.parent.isFiltered = false;\n        }\n        _this.element.focus();\n      }\n    });\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onLayoutChange = function (args) {\n    if (this.parent.view === 'Details') {\n      if (!this.gridObj) {\n        this.render(args);\n      } else {\n        this.isLoaded = true;\n      }\n      if (this.parent.isFiltered) {\n        this.updatePathColumn();\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n      this.parent.notify(events.hideLayout, {});\n      this.gridObj.element.classList.remove(CLS.DISPLAY_NONE);\n      this.isInteracted = false;\n      this.gridObj.clearSelection();\n      if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n        this.onSearchFiles(args);\n      }\n      this.adjustHeight();\n      if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n      }\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSearchFiles = function (args) {\n    if (this.parent.view === 'Details') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(events.selectionChanged, {});\n      if (!this.parent.isLayoutChange) {\n        this.parent.layoutSelectedItems = [];\n      }\n      this.updatePathColumn();\n      this.parent.searchedItems = args.files;\n      this.onPathChanged(args);\n    }\n  };\n  DetailsView.prototype.removePathColumn = function (isRefresh) {\n    var len = this.gridObj.columns.length;\n    var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n    if (columnData[len - 1].field && columnData[len - 1].field === 'filterPath') {\n      /* istanbul ignore next */\n      if (this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn('name', this.parent.sortOrder);\n        } else {\n          // eslint-disable-next-line\n          this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n        this.parent.notify(events.sortByChange, {});\n      }\n      this.gridObj.columns.pop();\n      if (!isRefresh) {\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n      }\n    }\n  };\n  DetailsView.prototype.onFinalizeEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    if (!this.gridObj) {\n      this.render(args);\n    } else {\n      this.onPathChanged(args);\n    }\n  };\n  DetailsView.prototype.onCreateEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.onPathChanged(args);\n  };\n  DetailsView.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  };\n  DetailsView.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n    }\n  };\n  DetailsView.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDeleteEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.onPathChanged(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n  };\n  DetailsView.prototype.onRefreshEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.isInteracted = false;\n    this.removePathColumn(false);\n    this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    this.emptyArgs = args;\n  };\n  DetailsView.prototype.onHideLayout = function () {\n    if (this.parent.view !== 'Details' && this.gridObj) {\n      this.gridObj.element.classList.add(CLS.DISPLAY_NONE);\n    }\n  };\n  DetailsView.prototype.onSelectAllInit = function () {\n    if (this.parent.view === 'Details') {\n      this.isInteracted = false;\n      if (this.parent.allowMultiSelection) {\n        this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n      } else {\n        this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n      }\n      this.isInteracted = true;\n      this.interaction = true;\n    }\n  };\n  DetailsView.prototype.onClearAllInit = function () {\n    if (this.parent.view === 'Details') {\n      this.removeSelection();\n      this.interaction = true;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelectionChanged = function () {\n    removeClass([this.element], CLS.HEADER_CHECK);\n    if (this.parent.selectedItems.length > 0) {\n      addClass([this.element], CLS.HEADER_CHECK);\n    }\n  };\n  DetailsView.prototype.onLayoutRefresh = function () {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.adjustHeight();\n  };\n  DetailsView.prototype.onBeforeRequest = function () {\n    this.isRendered = false;\n  };\n  DetailsView.prototype.onAfterRequest = function () {\n    this.isRendered = true;\n  };\n  DetailsView.prototype.onUpdateSelectionData = function () {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    this.parent.itemData = this.gridObj.getSelectedRecords();\n  };\n  DetailsView.prototype.addEventListener = function () {\n    this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.layoutChange, this.onLayoutChange, this);\n    this.parent.on(events.pathChanged, this.onPathChanged, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.detailsInit, this.onDetailsInit, this);\n    this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(events.search, this.onSearchFiles, this);\n    this.parent.on(events.methodCall, this.onMethodCall, this);\n    this.parent.on(events.actionFailure, this.onActionFailure, this);\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.deleteInit, this.onDeleteInit, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.selectedData, this.onSelectedData, this);\n    this.parent.on(events.renameInit, this.onRenameInit, this);\n    this.parent.on(events.renameEnd, this.onPathChanged, this);\n    this.parent.on(events.openInit, this.onOpenInit, this);\n    this.parent.on(events.sortColumn, this.onSortColumn, this);\n    this.parent.on(events.openEnd, this.onPathChanged, this);\n    this.parent.on(events.filterEnd, this.onPathChanged, this);\n    this.parent.on(events.pasteInit, this.onPasteInit, this);\n    this.parent.on(events.hideLayout, this.onHideLayout, this);\n    this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n    this.parent.on(events.pathColumn, this.onPathColumn, this);\n    this.parent.on(events.selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(events.afterRequest, this.onAfterRequest, this);\n    this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n    this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(events.menuItemData, this.onMenuItemData, this);\n    this.parent.on(events.resizeEnd, this.onDetailsResizeHandler, this);\n    this.parent.on(events.splitterResize, this.onDetailsResize, this);\n    this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(events.dropPath, this.onDropPath, this);\n    this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n  };\n  DetailsView.prototype.removeEventListener = function () {\n    this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.layoutChange, this.onLayoutChange);\n    this.parent.off(events.pathChanged, this.onPathChanged);\n    this.parent.off(events.pasteInit, this.onPasteInit);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.refreshEnd, this.onRefreshEnd);\n    this.parent.off(events.search, this.onSearchFiles);\n    this.parent.off(events.methodCall, this.onMethodCall);\n    this.parent.off(events.actionFailure, this.onActionFailure);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.renameInit, this.onRenameInit);\n    this.parent.off(events.renameEnd, this.onPathChanged);\n    this.parent.off(events.filterEnd, this.onPathChanged);\n    this.parent.off(events.openInit, this.onOpenInit);\n    this.parent.off(events.sortColumn, this.onSortColumn);\n    this.parent.off(events.openEnd, this.onPathChanged);\n    this.parent.off(events.hideLayout, this.onHideLayout);\n    this.parent.off(events.selectAllInit, this.onSelectAllInit);\n    this.parent.off(events.clearAllInit, this.onClearAllInit);\n    this.parent.off(events.deleteInit, this.onDeleteInit);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.pathColumn, this.onPathColumn);\n    this.parent.off(events.selectionChanged, this.onSelectionChanged);\n    this.parent.off(events.beforeRequest, this.onBeforeRequest);\n    this.parent.off(events.afterRequest, this.onAfterRequest);\n    this.parent.off(events.pasteEnd, this.onpasteEnd);\n    this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.selectedData, this.onSelectedData);\n    this.parent.off(events.detailsInit, this.onDetailsInit);\n    this.parent.off(events.menuItemData, this.onMenuItemData);\n    this.parent.off(events.resizeEnd, this.onDetailsResizeHandler);\n    this.parent.off(events.splitterResize, this.onDetailsResize);\n    this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(events.dropPath, this.onDropPath);\n    this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n  };\n  DetailsView.prototype.onActionFailure = function () {\n    this.interaction = true;\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n    }\n  };\n  DetailsView.prototype.onPasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath !== '' ? this.gridObj.getSelectedRecords() : [getPathObject(this.parent)];\n    }\n  };\n  DetailsView.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  };\n  DetailsView.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    var dragLi = dragTarget.closest('tr.e-row');\n    if (!dragLi) {\n      return null;\n    }\n    var name = dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n    if (dragLi && !dragLi.querySelector('.e-active')) {\n      this.selectRecords([name]);\n    }\n    getModule(this.parent, dragLi);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n    // eslint-disable-next-line\n    this.parent.dragData = this.gridObj.getSelectedRecords();\n    var dragRow;\n    if (this.parent.dragData.length === 0 && dragLi) {\n      dragRow = this.gridObj.getRowInfo(dragLi);\n    }\n    if (dragRow) {\n      this.parent.dragData.push(dragRow.rowData);\n    }\n    this.parent.dragPath = this.parent.path;\n    this.parent.activeElements = this.gridObj.getSelectedRows();\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onDetailsResize = function () {\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n      var gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n      var gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n      var gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n      var gridHeaderColNames = this.gridObj.getColumns();\n      for (var i = 0; i < gridHeaderColNames.length; i++) {\n        if (!this.isNameWidth && gridHeaderColNames[i].field === 'name' || gridHeaderColNames[i].field === 'filterPath') {\n          if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            if (this.element.clientWidth <= 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n              gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n            } else if (this.element.clientWidth > 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          } else {\n            if (this.element.clientWidth <= 680) {\n              if (gridHeaderColNames[i].field === 'name') {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n              } else {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n              }\n            } else if (this.element.clientWidth > 680) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          }\n        }\n      }\n    }\n  };\n  DetailsView.prototype.onDetailsResizeHandler = function () {\n    this.onDetailsResize();\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n      this.adjustHeight();\n    }\n  };\n  DetailsView.prototype.createDragObj = function () {\n    var _this = this;\n    if (!this.parent.isMobile && this.gridObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n        this.dragObj = new Draggable(this.gridObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          distance: 5,\n          enableTailMode: true,\n          dragArea: this.parent.element,\n          dragTarget: '.' + CLS.ROW,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableAutoScroll: true,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n  DetailsView.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      /* istanbul ignore next */\n      // eslint-disable-next-line\n      var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      if (!args.target.closest('tr')) {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      } else {\n        // eslint-disable-next-line\n        var info = null;\n        // eslint-disable-next-line\n        info = this.gridObj.getRowInfo(args.target).rowData;\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      }\n    }\n  };\n  DetailsView.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.gridObj.getSelectedRecords();\n      this.parent.activeElements = this.gridObj.getSelectedRows();\n    }\n  };\n  DetailsView.prototype.onpasteEnd = function (args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  };\n  DetailsView.prototype.onDropPath = function (args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns modules name.\n   * @private\n   */\n  DetailsView.prototype.getModuleName = function () {\n    return 'detailsview';\n  };\n  DetailsView.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.removeEventListener();\n    if (this.gridObj) {\n      this.unWireEvents();\n      this.gridObj.destroy();\n    }\n  };\n  DetailsView.prototype.updateType = function (item) {\n    var folder = select('.' + CLS.FOLDER, item);\n    this.parent.isFile = isNOU(folder) ? true : false;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelection = function (action, args) {\n    var eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction,\n      cancel: false,\n      target: args.target\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    args.cancel = eventArgs.cancel;\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onSelected = function (args) {\n    this.parent.activeModule = 'detailsview';\n    if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n      this.selectedRecords();\n    }\n    this.parent.notify(events.selectionChanged, {});\n    if (this.gridObj.getSelectedRowIndexes().length === 1) {\n      this.firstItemIndex = this.gridObj.selectedRowIndex;\n    }\n    this.gridObj.element.setAttribute('tabindex', '-1');\n    this.triggerSelect('select', args);\n    var item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n    this.updateType(item);\n    if (!isNOU(item) && !isNOU(item.querySelector('.e-checkselect'))) {\n      if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n        var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n        var lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n        lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n      }\n      item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n    }\n    if (!isNOU(this.gridObj) && !isNOU(this.gridObj.element.querySelector('.e-checkselectall'))) {\n      this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n    }\n    var rows = this.gridObj.getSelectedRowIndexes();\n    if (!this.parent.allowMultiSelection) {\n      for (var i = 0; i < rows.length; i++) {\n        if (rows[i] === this.gridObj.selectedRowIndex) {\n          this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n        } else {\n          this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n        }\n      }\n    }\n    var len = rows.length;\n    if (len > 0) {\n      // eslint-disable-next-line\n      var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n      this.parent.currentItemText = getValue('name', data);\n    }\n    var indexes = getValue('rowIndexes', args);\n    var multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n    if (this.parent.isDevice && isNOU(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n      this.parent.isFile = getValue('isFile', args.data);\n      if (!this.parent.isFile) {\n        this.openContent(args.data);\n      }\n    }\n    this.parent.visitedItem = args.row;\n    if (this.parent.allowMultiSelection && !isNOU(item) && !isNOU(item.querySelector('.e-checkselect'))) {\n      var checkItem = item.querySelector('.e-checkselect');\n      checkItem.focus();\n    }\n    this.addFocus(this.gridObj.selectedRowIndex);\n    if (!this.parent.isLayoutChange) {\n      this.isInteracted = true;\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.onPathColumn = function () {\n    if (this.parent.view === 'Details' && !isNOU(this.gridObj)) {\n      if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n        this.removePathColumn(false);\n      }\n    }\n  };\n  DetailsView.prototype.selectedRecords = function () {\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    // eslint-disable-next-line\n    var selectedRecords = this.gridSelectNodes();\n    var selectSize = 0;\n    while (selectSize < selectedRecords.length) {\n      var record = selectedRecords[selectSize];\n      var name_3 = getItemName(this.parent, record);\n      this.parent.selectedItems.push(name_3);\n      selectSize++;\n    }\n    this.parent.setProperties({\n      selectedItems: this.parent.selectedItems\n    }, true);\n  };\n  DetailsView.prototype.onDeSelection = function (args) {\n    /* istanbul ignore next */\n    if (!this.parent.allowMultiSelection && isNOU(args.data)) {\n      this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n    } else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n      var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n      this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n    }\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.gridObj.element.setAttribute('tabindex', '0');\n    }\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      return;\n    }\n    this.selectedRecords();\n    if (this.parent.selectedItems.length === 0) {\n      setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n      removeClass([this.parent.element], CLS.MULTI_SELECT);\n    }\n    this.parent.notify(events.selectionChanged, {});\n    this.triggerSelect('unselect', args);\n    this.parent.visitedItem = null;\n  };\n  DetailsView.prototype.triggerSelect = function (action, args) {\n    var eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.interaction = true;\n  };\n  DetailsView.prototype.wireEvents = function () {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n      keyAction: this.keyupHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n  };\n  DetailsView.prototype.unWireEvents = function () {\n    this.wireClickEvent(false);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n    EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n  };\n  DetailsView.prototype.wireClickEvent = function (toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      var proxy_1 = this;\n      var ele = this.gridObj.getContent();\n      this.clickObj = new Touch(ele, {\n        tap: function (eve) {\n          if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n            proxy_1.onClearAllInit();\n          }\n        },\n        tapHold: function (e) {\n          if (proxy_1.parent.isDevice) {\n            e.originalEvent.preventDefault();\n            if (proxy_1.parent.allowMultiSelection) {\n              setValue('enableSelectMultiTouch', proxy_1.parent.allowMultiSelection, proxy_1.gridObj.selectionModule);\n              addClass([proxy_1.parent.element], CLS.MULTI_SELECT);\n            }\n            var target = e.originalEvent.target;\n            if (target) {\n              var row = closest(target, '.' + CLS.ROW);\n              var index = proxy_1.gridObj.getRows().indexOf(row);\n              proxy_1.gridObj.selectRow(index);\n            }\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  };\n  /* istanbul ignore next */\n  DetailsView.prototype.removeSelection = function () {\n    removeClass([this.parent.element], CLS.MULTI_SELECT);\n    this.gridObj.clearSelection();\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.parent.notify(events.selectionChanged, {});\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.startIndex = null;\n    }\n    this.isInteracted = true;\n  };\n  DetailsView.prototype.removeFocus = function () {\n    this.addFocus(null);\n  };\n  DetailsView.prototype.getFocusedItemIndex = function () {\n    return !isNOU(this.getFocusedItem()) ? parseInt(this.getFocusedItem().getAttribute('aria-rowindex'), 10) : null;\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n  DetailsView.prototype.keydownHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'moveDown':\n      case 'moveUp':\n        e.preventDefault();\n        break;\n      default:\n        break;\n    }\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n  DetailsView.prototype.keyupHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n    e.preventDefault();\n    var action = e.action;\n    // eslint-disable-next-line\n    var gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n    var gridLength = gridItems.length;\n    var focItem = this.getFocusedItem();\n    var focIndex = this.getFocusedItemIndex();\n    var selIndex = this.gridObj.selectedRowIndex;\n    var selRowIndeces = this.gridObj.getSelectedRowIndexes();\n    // eslint-disable-next-line\n    var rowData;\n    var firstItem;\n    var lastItem;\n    switch (action) {\n      case 'altEnter':\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n      case 'esc':\n        removeActive(this.parent);\n        break;\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n      case 'enter':\n        if (this.gridObj.selectedRowIndex === -1) {\n          break;\n        }\n        rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n        if (rowData) {\n          // eslint-disable-next-line\n          var data = JSON.parse(JSON.stringify(rowData));\n          this.openContent(data);\n        }\n        break;\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n      case 'ctrlD':\n        this.doDownload();\n        break;\n      case 'f2':\n        this.performRename();\n        break;\n      case 'ctrlA':\n        if (!isNOU(gridItems[0]) && this.parent.allowMultiSelection) {\n          var cnTable = this.gridObj.getContent().querySelector('.e-content');\n          var crtSrlPos = cnTable.scrollTop;\n          var crtFocusIndex = this.gridObj.selectedRowIndex;\n          this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n          cnTable.scrollTop = crtSrlPos;\n          if (crtFocusIndex !== -1) {\n            this.addFocus(crtFocusIndex);\n          }\n        }\n        break;\n      case 'ctrlHome':\n      case 'tab':\n        if (!isNOU(gridItems[0])) {\n          if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n            this.gridObj.selectRow(0);\n          } else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n            return;\n          } else {\n            this.addFocus(0);\n          }\n        }\n        break;\n      case 'ctrlEnd':\n        if (!isNOU(gridItems[0])) {\n          if (!this.parent.allowMultiSelection) {\n            this.gridObj.selectRow(gridLength - 1);\n          } else {\n            this.addFocus(gridLength - 1);\n          }\n        }\n        break;\n      case 'shiftHome':\n      case 'shiftEnd':\n      case 'csHome':\n      case 'csEnd':\n        if (!this.parent.allowMultiSelection) {\n          this.gridObj.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : gridItems.length - 1);\n        } else {\n          if (!isNOU(gridItems[0])) {\n            if (!isNOU(selIndex) && selIndex !== -1) {\n              this.checkRowsKey(gridItems, selIndex, null, e);\n            } else {\n              if (e.action === 'csHome' || e.action === 'shiftHome') {\n                this.gridObj.selectRow(0);\n              } else {\n                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n              }\n            }\n          }\n        }\n        break;\n      case 'space':\n      case 'csSpace':\n      case 'shiftSpace':\n      case 'ctrlSpace':\n        this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n        break;\n      case 'csUp':\n      case 'csDown':\n      case 'shiftUp':\n      case 'shiftDown':\n        this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n        break;\n      case 'ctrlUp':\n      case 'ctrlDown':\n        if (!this.parent.allowMultiSelection) {\n          this.moveFunction(gridItems, e, selIndex);\n        } else {\n          this.ctrlMoveFunction(gridItems, e, selIndex);\n        }\n        break;\n      case 'home':\n        firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n        this.parent.setProperties({\n          selectedItems: firstItem\n        }, true);\n        this.selectRecords(firstItem);\n        break;\n      case 'moveUp':\n      case 'moveDown':\n        this.moveFunction(gridItems, e, selIndex);\n        break;\n      case 'end':\n        lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n        this.parent.setProperties({\n          selectedItems: lastItem\n        }, true);\n        this.selectRecords(lastItem);\n        break;\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.gridSelectNodes = function () {\n    return this.gridObj.getSelectedRecords();\n  };\n  DetailsView.prototype.doDownload = function () {\n    if (this.parent.selectedItems.length !== 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n      // eslint-disable-next-line\n      var items = this.parent.itemData;\n      for (var i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], events.permissionDownload);\n          return;\n        }\n      }\n      Download(this.parent, this.parent.path, this.parent.selectedItems);\n    }\n  };\n  DetailsView.prototype.performDelete = function () {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n      // eslint-disable-next-line\n      var items = this.parent.itemData;\n      for (var i = 0; i < items.length; i++) {\n        if (!hasEditAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], events.permissionEdit);\n          return;\n        }\n      }\n      createDialog(this.parent, 'Delete');\n    }\n  };\n  DetailsView.prototype.performRename = function () {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  };\n  DetailsView.prototype.updateRenameData = function () {\n    // eslint-disable-next-line\n    var data = this.gridSelectNodes()[0];\n    updateRenamingData(this.parent, data);\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.shiftMoveMethod = function (gridItems, selIndex, focIndex, selRowIndeces, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.moveFunction(gridItems, e, selIndex);\n    } else {\n      if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n        this.ctrlMoveFunction(gridItems, e, selIndex);\n      } else if (selIndex !== -1 && focIndex !== selIndex && !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n        this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n      } else {\n        this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n      }\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.moveFunction = function (selectedItems, e, rowIndex) {\n    if (!isNOU(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n      if (e.action === 'moveDown') {\n        this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n      } else {\n        this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n      }\n    } else if (!isNOU(rowIndex) && rowIndex !== -1) {\n      if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectRow(rowIndex + (rowIndex !== selectedItems.length - 1 ? 1 : 0));\n      } else {\n        this.gridObj.selectRow(rowIndex - (rowIndex !== 0 ? 1 : 0));\n      }\n    } else {\n      if (!isNOU(selectedItems[0])) {\n        this.gridObj.selectRow(0);\n      }\n    }\n  };\n  DetailsView.prototype.spaceSelection = function (selRowIndeces, focIndex, selIndex, e) {\n    if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n      if (focIndex < selIndex) {\n        this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n      }\n    } else if (!isNOU(this.getFocusedItem()) && focIndex !== selIndex) {\n      selRowIndeces.push(this.getFocusedItemIndex());\n      this.gridObj.selectRows(selRowIndeces);\n    } else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n      var lItem = selIndex;\n      selRowIndeces.pop();\n      this.gridObj.selectRows(selRowIndeces);\n      this.addFocus(lItem);\n    } else if (e.action === 'shiftSpace') {\n      this.gridObj.selectRow(selIndex);\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.ctrlMoveFunction = function (items, e, rowIndex) {\n    var nextItem;\n    if (!isNOU(this.getFocusedItem())) {\n      var nextIndex = this.getFocusedItemIndex();\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? nextIndex + (nextIndex < items.length - 1 ? 1 : 0) : nextIndex - (nextIndex < 1 ? 0 : 1);\n    } else if (!isNOU(rowIndex) && rowIndex !== -1) {\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? rowIndex + (rowIndex < items.length ? 1 : 0) : rowIndex - (rowIndex < 1 ? 0 : 1);\n    } else {\n      if (!isNOU(items[0])) {\n        nextItem = 0;\n      }\n    }\n    this.addFocus(nextItem);\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.checkRowsKey = function (items, indexValue, focIndex, e) {\n    if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n      if (e.action !== 'csHome' && e.action !== 'csEnd') {\n        if (isNOU(this.startIndex) && this.firstItemIndex !== indexValue) {\n          this.firstItemIndex = indexValue;\n        }\n        if (e.action === 'shiftEnd') {\n          this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n        }\n        this.startIndex = indexValue;\n      } else {\n        if (e.action === 'csEnd') {\n          this.gridObj.selectRows(this.InnerItems(isNOU(indexValue) ? 0 : indexValue, isNOU(focIndex) ? items.length - 1 : focIndex, e));\n        } else {\n          if (isNOU(indexValue)) {\n            this.gridObj.selectRow(0);\n          } else {\n            this.gridObj.selectRows(this.InnerItems(isNOU(focIndex) ? 0 : focIndex, indexValue, e));\n          }\n        }\n      }\n    } else {\n      this.gridObj.selectionModule.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : items.length - 1);\n    }\n  };\n  DetailsView.prototype.InnerItems = function (fItem, lItem, e) {\n    var itemArr = this.gridObj.getSelectedRowIndexes();\n    if (e.action === 'csEnd') {\n      for (var i = fItem + 1; i <= lItem; i++) {\n        itemArr.push(i);\n      }\n    } else {\n      for (var i = lItem - 1; fItem <= i; i--) {\n        itemArr.push(i);\n      }\n    }\n    return itemArr;\n  };\n  DetailsView.prototype.shiftSelectFocusItem = function (selIndex, fIndex, selRowIndexes, e) {\n    var lItem = fIndex + (e.action === 'shiftDown' || e.action === 'csDown' ? 1 : -1);\n    var fItem = isNOU(this.startIndex) ? selIndex : selRowIndexes[0];\n    if (fItem === lItem) {\n      this.gridObj.selectRow(fItem);\n    } else {\n      if (fItem < lItem) {\n        if (e.action === 'shiftDown' || e.action === 'csDown') {\n          this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n        }\n      } else if (e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n      }\n    }\n    this.startIndex = this.gridObj.selectedRowIndex;\n  };\n  DetailsView.prototype.addFocus = function (item) {\n    var fItem = this.getFocusedItem();\n    var itemElement = this.gridObj.getRowByIndex(item);\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [CLS.FOCUS, CLS.FOCUSED]);\n    }\n    if (!isNOU(itemElement)) {\n      this.gridObj.element.setAttribute('tabindex', '-1');\n      itemElement.setAttribute('tabindex', '0');\n      itemElement.focus();\n      addClass([itemElement], [CLS.FOCUS, CLS.FOCUSED]);\n    }\n  };\n  DetailsView.prototype.getFocusedItem = function () {\n    return select('.' + CLS.FOCUSED, this.element);\n  };\n  DetailsView.prototype.isSelected = function (selRowIndexes, focIndex) {\n    var check = false;\n    for (var i = 0; i <= selRowIndexes.length - 1; i++) {\n      if (selRowIndexes[i] === focIndex) {\n        check = true;\n        break;\n      }\n    }\n    return check;\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.shiftSelectedItem = function (selIndex, selRowIndexes, gridItems, e) {\n    if (selIndex === -1) {\n      this.gridObj.selectRow(0);\n    } else {\n      if (isNOU(this.startIndex) && e.shiftKey) {\n        this.startIndex = this.gridObj.selectedRowIndex;\n        this.gridObj.selectRows([selIndex, e.action === 'shiftDown' || e.action === 'csDown' ? selIndex + (selIndex !== gridItems.length - 1 ? 1 : 0) : selIndex - (selIndex !== 0 ? 1 : 0)]);\n      } else {\n        if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n          if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n            if (selIndex !== gridItems.length - 1) {\n              selRowIndexes.push(selIndex + 1);\n            }\n          } else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n            if (selIndex !== 0) {\n              selRowIndexes.push(selIndex - 1);\n            }\n          } else {\n            selRowIndexes.pop();\n          }\n          this.gridObj.selectRows(selRowIndexes);\n        } else {\n          if (e.action === 'csDown') {\n            if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n              selRowIndexes.push(this.getFocusedItemIndex() + 1);\n              this.gridObj.selectRows(selRowIndexes);\n            } else {\n              this.addFocus(this.getFocusedItemIndex() + 1);\n            }\n          } else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n            selRowIndexes.push(this.getFocusedItemIndex() - 1);\n            this.gridObj.selectRows(selRowIndexes);\n          } else {\n            this.addFocus(this.getFocusedItemIndex() - 1);\n          }\n        }\n      }\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.onMethodCall = function (e) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n    var action = getValue('action', e);\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', e));\n        break;\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', e));\n        break;\n      case 'openFile':\n        this.openFile(getValue('id', e));\n        break;\n      case 'createFolder':\n        this.interaction = false;\n        break;\n      case 'renameFile':\n        this.interaction = false;\n        this.renameFile(getValue('id', e), getValue('newName', e));\n        break;\n      case 'selectAll':\n        this.interaction = false;\n        this.onSelectAllInit();\n        break;\n      case 'clearSelection':\n        this.interaction = false;\n        this.onClearAllInit();\n        break;\n    }\n  };\n  // eslint-disable-next-line\n  DetailsView.prototype.getRecords = function (nodes) {\n    // eslint-disable-next-line\n    var gridRecords = this.gridObj.getCurrentViewRecords();\n    // eslint-disable-next-line\n    var records = [];\n    var hasFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    var filter = this.parent.hasId ? 'id' : 'name';\n    if (this.parent.hasId || !hasFilter) {\n      for (var i = 0, len = gridRecords.length; i < len; i++) {\n        if (nodes.indexOf(getValue(filter, gridRecords[i])) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    } else {\n      for (var i = 0, len = gridRecords.length; i < len; i++) {\n        var name_4 = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n        if (nodes.indexOf(name_4) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    }\n    return records;\n  };\n  DetailsView.prototype.deleteFiles = function (ids) {\n    this.parent.activeModule = 'detailsview';\n    if (isNOU(ids)) {\n      this.performDelete();\n      return;\n    }\n    // eslint-disable-next-line\n    var records = this.getRecords(ids);\n    if (records.length === 0) {\n      return;\n    }\n    // eslint-disable-next-line\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < records.length; i++) {\n      data[i] = records[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDeleteFiles(this.parent, data, newIds);\n  };\n  DetailsView.prototype.downloadFiles = function (ids) {\n    if (isNOU(ids)) {\n      this.doDownload();\n      return;\n    }\n    // eslint-disable-next-line\n    var dRecords = this.getRecords(ids);\n    if (dRecords.length === 0) {\n      return;\n    }\n    // eslint-disable-next-line\n    var data = [];\n    var newIds = [];\n    for (var i = 0; i < dRecords.length; i++) {\n      data[i] = dRecords[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n    doDownloadFiles(this.parent, data, newIds);\n  };\n  DetailsView.prototype.openFile = function (id) {\n    if (isNOU(id)) {\n      return;\n    }\n    // eslint-disable-next-line\n    var records = this.getRecords([id]);\n    if (records.length > 0) {\n      this.openContent(records[0]);\n    }\n  };\n  DetailsView.prototype.renameFile = function (id, name) {\n    this.parent.activeModule = 'detailsview';\n    if (isNOU(id)) {\n      this.performRename();\n      return;\n    }\n    // eslint-disable-next-line\n    var records = this.getRecords([id]);\n    if (records.length > 0) {\n      updateRenamingData(this.parent, records[0]);\n      if (!isNOU(name)) {\n        if (hasEditAccess(this.parent.itemData[0])) {\n          rename(this.parent, this.parent.path, name);\n        } else {\n          createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n        }\n      } else {\n        doRename(this.parent);\n      }\n    }\n  };\n  return DetailsView;\n}();\nexport { DetailsView };","map":{"version":3,"names":["Grid","Resize","ContextMenu","Sort","VirtualScroll","select","KeyboardEvents","EventHandler","getValue","isNullOrUndefined","isNOU","Touch","setValue","addClass","removeClass","Internationalization","closest","Draggable","DataManager","Query","hideSpinner","showSpinner","events","CLS","createDialog","createImageDialog","removeBlur","openAction","getImageUrl","fileType","getSortedData","getLocaleText","updateLayout","createEmptyElement","read","Download","GetDetails","Delete","cutFiles","addBlur","openSearchFolder","copyFiles","removeActive","pasteHandler","getPathObject","getName","hasReadAccess","hasEditAccess","hasDownloadAccess","doRename","getAccessClass","createDeniedDialog","rename","createVirtualDragElement","dragStopHandler","dragStartHandler","draggingHandler","getModule","getFullPath","getDirectoryPath","updateRenamingData","getItemName","doDeleteFiles","doDownloadFiles","DetailsView","parent","isInteracted","interaction","isPasteOperation","isColumnRefresh","dragObj","startIndex","firstItemIndex","isSelectionUpdate","currentSelectedItem","count","isRendered","isLoaded","isNameWidth","pasteOperation","uploadOperation","Inject","element","id","GRID_ID","addEventListener","keyConfigs","altEnter","esc","tab","moveDown","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","shiftEnd","shiftHome","shiftDown","shiftUp","ctrlUp","csEnd","csHome","csDown","csUp","space","ctrlSpace","shiftSpace","csSpace","end","home","moveUp","del","ctrlX","ctrlC","ctrlV","ctrlShiftN","shiftdel","ctrlD","f2","ctrlA","enter","prototype","render","args","view","MULTI_SELECT","items","files","checkNameWidth","columns","getColumns","sortSettings","isMobile","sortOrder","direction","field","sortBy","gridObj","dataSource","allowSorting","rowSelecting","onSelection","bind","rowDeselecting","rowSelected","onSelected","rowDeselected","onDeSelection","allowResizing","detailsViewSettings","columnResizing","selectionSettings","type","allowMultiSelection","checkboxMode","enableRtl","pageSettings","pageSize","allowUnsort","recordDoubleClick","DblClickEvents","beforeDataBound","onBeforeDataBound","dataBound","onDataBound","rowDataBound","onRowDataBound","actionBegin","onActionBegin","headerCellInfo","onHeaderCellInfo","width","beforeCopy","cancel","load","focusModule","destroy","locale","isStringTemplate","appendTo","wireEvents","adjustHeight","emptyArgs","initialColumn","i","length","adjustWidth","fieldName","nameWidth","breadcrumbbarModule","searchObj","value","isFiltered","clientWidth","headerText","minWidth","headerTextAlign","template","JSON","parse","stringify","len","iWidth","isBigger","icon","customAttributes","class","headerTemplate","unshift","cWidth","cBox","push","disableHtmlEncode","enableHtmlSanitizer","pane","CONTENT_ID","bar","BREADCRUMBBAR_ID","gridHeader","GRID_HEADER","height","offsetHeight","dataBind","renderCheckBox","refreshColumns","td","row","children","setAttribute","data","isLayoutChange","isCut","fileAction","selectedNodes","indexOf","showFileExtension","textEle","querySelector","name_1","innerHTML","substr","undefined","sizeEle","modifiedSize","sizeValue","intl","formatNumber","format","dateEle","formattedString","formatDate","Date","checkWrap","CB_WRAP","classList","add","className","eventArgs","fileDetails","module","trigger","requestType","setProperties","columnName","selectedItems","sortItem","rows","getSelectedRowIndexes","sortSelectedNodes","getRowsObject","hasId","notify","sortByChange","node","result","createDragObj","selectRecords","pasteNodes","createdItem","layoutSelectedItems","renamedItem","addSelection","uploadItem","currentViewData","getRowHeight","hdTable","getHeaderContent","style","paddingRight","paddingLeft","hdContent","borderRightWidth","cnTable","getContent","overflowY","remove","checkEmptyDiv","nodes","gridRecords","getCurrentViewRecords","sRecords","selectRows","addFocus","selectedRowIndex","rData","executeLocal","where","renamedId","nData","filterPath","index","onSortColumn","sortModule","sortColumn","onPropertyChanged","e","getModuleName","_i","_a","Object","keys","newProp","prop","slItems","slice","clearSelection","pathChanged","path","onDetailsResize","onPathChanged","trim","searchedItems","removePathColumn","updatePathColumn","columnData","pathColumn","GRID_VIEW","EMPTY","emptyDiv","removeChild","onOpenInit","activeModule","getSelectedRecords","openContent","rowIndex","rowData","_this","permissionRead","fileOpenArgs","name_2","ICON_IMAGE","imgUrl","val","newPath","pathNames","pathId","itemData","focus","onLayoutChange","hideLayout","DISPLAY_NONE","onSearchFiles","selectionChanged","isRefresh","pop","onFinalizeEnd","onCreateEnd","onRenameInit","updateRenameData","onSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onHideLayout","onSelectAllInit","selectionModule","selectRowsByRange","getRows","selectRow","onClearAllInit","removeSelection","onSelectionChanged","HEADER_CHECK","onLayoutRefresh","onBeforeRequest","onAfterRequest","onUpdateSelectionData","on","finalizeEnd","layoutChange","createEnd","dropInit","onDropInit","detailsInit","onDetailsInit","refreshEnd","search","methodCall","onMethodCall","actionFailure","onActionFailure","modelChanged","deleteInit","deleteEnd","selectedData","renameInit","renameEnd","openInit","openEnd","filterEnd","pasteInit","onPasteInit","selectAllInit","clearAllInit","onPathColumn","beforeRequest","afterRequest","pasteEnd","onpasteEnd","cutCopyInit","oncutCopyInit","menuItemData","onMenuItemData","resizeEnd","onDetailsResizeHandler","splitterResize","layoutRefresh","dropPath","onDropPath","updateSelectionData","removeEventListener","off","getRowInfo","target","folderPath","feParent","dragHelper","dragTarget","sender","dragLi","name","getElementsByClassName","innerText","activeElements","dragData","dragRow","dragPath","getSelectedRows","virtualDragElement","gridHeaderColGroup","firstChild","childNodes","gridContentColGroup","gridHeaderColNames","allowDragAndDrop","cursorAt","dragCursorPosition","distance","enableTailMode","dragArea","ROW","drag","dragStart","dragStop","enableAutoScroll","helper","targetModule","cwdData","dropData","info","isFile","activeRecords","destinationPath","isDestroyed","unWireEvents","updateType","item","folder","FOLDER","action","selectedRecords","triggerSelect","getRowByIndex","lastItemIndex","lastItem","removeAttribute","currentItemText","indexes","multiSelect","isDevice","visitedItem","checkItem","gridSelectNodes","selectSize","record","name_3","wireClickEvent","keyboardModule","keyAction","keyupHandler","eventName","keyboardDownModule","keydownHandler","removeFocus","toBind","proxy_1","ele","clickObj","tap","eve","tapCount","originalEvent","contains","tapHold","preventDefault","getFocusedItemIndex","getFocusedItem","parseInt","getAttribute","gridItems","gridLength","focItem","focIndex","selIndex","selRowIndeces","firstItem","performDelete","doDownload","performRename","crtSrlPos","scrollTop","crtFocusIndex","checkRowsKey","spaceSelection","shiftMoveMethod","moveFunction","ctrlMoveFunction","permissionDownload","permissionEdit","isSelected","shiftSelectFocusItem","shiftSelectedItem","lItem","nextItem","nextIndex","indexValue","checkAllRows","InnerItems","fItem","itemArr","fIndex","selRowIndexes","itemElement","FOCUS","FOCUSED","check","shiftKey","deleteFiles","downloadFiles","openFile","renameFile","getRecords","records","hasFilter","filter","name_4","ids","newIds","dRecords"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-filemanager/src/file-manager/layout/details-view.js"],"sourcesContent":["import { Grid, Resize, ContextMenu, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\nimport { select, KeyboardEvents, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, Touch, setValue, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Internationalization, closest, Draggable } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { createDialog, createImageDialog } from '../pop-up/dialog';\nimport { removeBlur, openAction, getImageUrl, fileType, getSortedData, getLocaleText, updateLayout } from '../common/utility';\nimport { createEmptyElement } from '../common/utility';\nimport { read, Download, GetDetails, Delete } from '../common/operations';\nimport { cutFiles, addBlur, openSearchFolder, copyFiles, removeActive, pasteHandler, getPathObject, getName } from '../common/index';\nimport { hasReadAccess, hasEditAccess, hasDownloadAccess, doRename, getAccessClass, createDeniedDialog, rename } from '../common/index';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getModule, getFullPath } from '../common/index';\nimport { getDirectoryPath, updateRenamingData, getItemName, doDeleteFiles, doDownloadFiles } from '../common/index';\n/**\n * DetailsView module\n */\nvar DetailsView = /** @class */ (function () {\n    /**\n     * Constructor for the GridView module\n     *\n     * @param {FileManager} parent - specifies the parent.\n     * @hidden\n     */\n    function DetailsView(parent) {\n        this.isInteracted = true;\n        this.interaction = true;\n        this.isPasteOperation = false;\n        this.isColumnRefresh = false;\n        this.dragObj = null;\n        this.startIndex = null;\n        this.firstItemIndex = null;\n        this.isSelectionUpdate = false;\n        this.currentSelectedItem = [];\n        this.count = 0;\n        this.isRendered = true;\n        this.isLoaded = false;\n        this.isNameWidth = false;\n        this.pasteOperation = false;\n        this.uploadOperation = false;\n        Grid.Inject(Resize, ContextMenu, Sort, VirtualScroll);\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + CLS.GRID_ID, this.parent.element);\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            ctrlUp: 'ctrl+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            end: 'end',\n            home: 'home',\n            moveUp: 'uparrow',\n            del: 'delete',\n            ctrlX: 'ctrl+x',\n            ctrlC: 'ctrl+c',\n            ctrlV: 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftdel: 'shift+delete',\n            ctrlD: 'ctrl+d',\n            f2: 'f2',\n            ctrlA: 'ctrl+a',\n            enter: 'enter'\n        };\n    }\n    /* istanbul ignore next */\n    DetailsView.prototype.render = function (args) {\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'Details') {\n            removeClass([this.parent.element], CLS.MULTI_SELECT);\n            // eslint-disable-next-line\n            var items = getSortedData(this.parent, args.files);\n            this.checkNameWidth();\n            var columns = this.getColumns();\n            var sortSettings = void 0;\n            if (this.parent.isMobile) {\n                sortSettings = [];\n            }\n            else {\n                if (this.parent.sortOrder !== 'None') {\n                    sortSettings = [{ direction: this.parent.sortOrder, field: this.parent.sortBy }];\n                }\n            }\n            this.gridObj = new Grid({\n                dataSource: items,\n                allowSorting: true,\n                rowSelecting: this.onSelection.bind(this, 'select'),\n                rowDeselecting: this.onSelection.bind(this, 'unselect'),\n                rowSelected: this.onSelected.bind(this),\n                rowDeselected: this.onDeSelection.bind(this),\n                allowResizing: this.parent.detailsViewSettings.columnResizing,\n                selectionSettings: {\n                    type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n                    checkboxMode: 'ResetOnRowClick'\n                },\n                enableRtl: this.parent.enableRtl,\n                pageSettings: { pageSize: 20 },\n                sortSettings: { allowUnsort: false, columns: sortSettings },\n                columns: columns,\n                recordDoubleClick: this.DblClickEvents.bind(this),\n                beforeDataBound: this.onBeforeDataBound.bind(this),\n                dataBound: this.onDataBound.bind(this),\n                rowDataBound: this.onRowDataBound.bind(this),\n                actionBegin: this.onActionBegin.bind(this),\n                headerCellInfo: this.onHeaderCellInfo.bind(this),\n                width: '100%',\n                beforeCopy: function (args) { args.cancel = true; },\n                // eslint-disable-next-line\n                load: function (args) {\n                    this.focusModule.destroy();\n                },\n                locale: this.parent.locale\n            });\n            this.gridObj.isStringTemplate = true;\n            this.gridObj.appendTo('#' + this.parent.element.id + CLS.GRID_ID);\n            this.wireEvents();\n            this.adjustHeight();\n            this.emptyArgs = args;\n        }\n    };\n    DetailsView.prototype.checkNameWidth = function () {\n        var initialColumn = this.parent.detailsViewSettings.columns;\n        this.isNameWidth = false;\n        for (var i = 0; i < initialColumn.length; i++) {\n            if (initialColumn[i].field === 'name') {\n                this.isNameWidth = !isNOU(initialColumn[i].width);\n                return;\n            }\n        }\n    };\n    DetailsView.prototype.adjustWidth = function (columns, fieldName) {\n        if (this.isNameWidth && (fieldName === 'name')) {\n            return;\n        }\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                var nameWidth = void 0;\n                if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                    nameWidth = (this.element.clientWidth <= 500) ? '120px' : 'auto';\n                }\n                else {\n                    nameWidth = (this.element.clientWidth <= 680) ? ((fieldName === 'name') ? '120px' : '180px') : 'auto';\n                }\n                columns[i].width = nameWidth;\n            }\n        }\n    };\n    DetailsView.prototype.getColumns = function () {\n        var columns;\n        if (this.parent.isMobile) {\n            columns = [\n                {\n                    field: 'name', headerText: getLocaleText(this.parent, 'Name'), width: 'auto', minWidth: 120, headerTextAlign: 'Left',\n                    template: '<div class=\"e-fe-text\">${name}</div><div class=\"e-fe-date\">${_fm_modified}</div>' +\n                        '<span class=\"e-fe-size\">${size}</span>'\n                }\n            ];\n        }\n        else {\n            columns = JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns));\n            this.adjustWidth(columns, 'name');\n            for (var i = 0, len = columns.length; i < len; i++) {\n                columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n            }\n        }\n        var iWidth = ((this.parent.isMobile || this.parent.isBigger) ? '54' : '46');\n        var icon = {\n            field: 'type', width: iWidth, minWidth: iWidth, template: '<span class=\"e-fe-icon ${_fm_iconClass}\"></span>',\n            allowResizing: false, allowSorting: true, customAttributes: { class: 'e-fe-grid-icon' },\n            headerTemplate: '<span class=\"e-fe-icon e-fe-folder\"></span>'\n        };\n        columns.unshift(icon);\n        if (this.parent.allowMultiSelection) {\n            var cWidth = (this.parent.isBigger ? '36' : '26');\n            var cBox = {\n                type: 'checkbox', width: cWidth, minWidth: cWidth, customAttributes: { class: 'e-fe-checkbox' },\n                allowResizing: false, allowSorting: false\n            };\n            if (this.parent.isMobile) {\n                columns.push(cBox);\n            }\n            else {\n                columns.unshift(cBox);\n            }\n        }\n        for (var i = 0, len = columns.length; i < len; i++) {\n            columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n        }\n        return columns;\n    };\n    DetailsView.prototype.adjustHeight = function () {\n        if (!this.gridObj) {\n            return;\n        }\n        var pane = select('#' + this.parent.element.id + CLS.CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID, this.parent.element);\n        var gridHeader = select('.' + CLS.GRID_HEADER, this.parent.element);\n        var height = (pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight);\n        this.gridObj.height = height;\n        this.gridObj.dataBind();\n    };\n    DetailsView.prototype.renderCheckBox = function () {\n        this.gridObj.columns = this.getColumns();\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n    };\n    DetailsView.prototype.onRowDataBound = function (args) {\n        var td = select('.e-fe-grid-name', args.row);\n        if (!td) {\n            var columns = this.parent.detailsViewSettings.columns;\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].field === 'name') {\n                    td = args.row.children[this.parent.allowMultiSelection ? (i + 2) : (i + 1)];\n                    break;\n                }\n            }\n        }\n        if (td) {\n            td.setAttribute('title', getValue('name', args.data));\n        }\n        if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' &&\n            this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n            if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n                addBlur(args.row);\n            }\n        }\n        if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n            var textEle = args.row.querySelector('.e-fe-text');\n            if (textEle) {\n                var name_1 = getValue('name', args.data);\n                var type = getValue('type', args.data);\n                textEle.innerHTML = name_1.substr(0, name_1.length - type.length);\n            }\n        }\n        if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n            var sizeEle = args.row.querySelector('.e-fe-size');\n            var modifiedSize = void 0;\n            if (!getValue('isFile', args.data)) {\n                modifiedSize = '';\n            }\n            else {\n                var sizeValue = getValue('size', args.data);\n                var intl = new Internationalization(this.parent.locale);\n                var value = intl.formatNumber((sizeValue / 1024), { format: 'n' });\n                modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n            }\n            sizeEle.innerHTML = modifiedSize;\n        }\n        if (this.parent.isMobile) {\n            if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n                var dateEle = args.row.querySelector('.e-fe-date');\n                var intl = new Internationalization(this.parent.locale);\n                var columns = this.parent.detailsViewSettings.columns;\n                // eslint-disable-next-line\n                var format = void 0;\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].field === 'dateModified') {\n                        format = columns[i].format;\n                        break;\n                    }\n                }\n                var formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n                dateEle.innerHTML = formattedString;\n            }\n        }\n        var checkWrap = args.row.querySelector('.' + CLS.CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n        if (!hasEditAccess(args.data)) {\n            args.row.className += ' ' + getAccessClass(args.data);\n        }\n        var eventArgs = {\n            element: args.row,\n            fileDetails: args.data,\n            module: 'DetailsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    DetailsView.prototype.onActionBegin = function (args) {\n        if (args.requestType === 'sorting') {\n            this.parent.setProperties({ sortOrder: args.direction }, true);\n            this.parent.setProperties({ sortBy: args.columnName }, true);\n            if (this.parent.selectedItems.length !== 0) {\n                this.sortItem = true;\n                var rows = this.gridObj.getSelectedRowIndexes();\n                var len = rows.length;\n                this.sortSelectedNodes = [];\n                while (len > 0) {\n                    // eslint-disable-next-line\n                    var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n                    this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n                    len--;\n                }\n            }\n            this.parent.notify(events.sortByChange, {});\n        }\n    };\n    DetailsView.prototype.onHeaderCellInfo = function (args) {\n        var checkWrap = args.node.querySelector('.' + CLS.CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n    };\n    DetailsView.prototype.onBeforeDataBound = function (args) {\n        showSpinner(this.parent.element);\n        // eslint-disable-next-line\n        var items = getSortedData(this.parent, this.gridObj.dataSource);\n        args.result = items;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDataBound = function () {\n        this.createDragObj();\n        if (this.parent.selectedItems.length !== 0) {\n            this.selectRecords(this.parent.selectedItems);\n        }\n        if (this.isPasteOperation === true) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.parent.createdItem) {\n            this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n            this.parent.createdItem = null;\n        }\n        if (this.parent.layoutSelectedItems.length) {\n            this.selectRecords(this.parent.layoutSelectedItems);\n        }\n        if (this.parent.renamedItem) {\n            this.addSelection(this.parent.renamedItem);\n            this.parent.renamedItem = null;\n        }\n        if (this.sortItem === true) {\n            this.selectRecords(this.sortSelectedNodes);\n            this.sortItem = false;\n        }\n        if (this.isSelectionUpdate) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.currentSelectedItem);\n                this.isSelectionUpdate = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.uploadOperation === true) {\n            this.count++;\n            this.selectRecords(this.parent.uploadItem);\n            if (this.count === this.parent.uploadItem.length) {\n                this.uploadOperation = false;\n                this.parent.uploadItem = [];\n            }\n        }\n        if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n            var hdTable = this.gridObj.getHeaderContent();\n            hdTable.style.paddingRight = '';\n            hdTable.style.paddingLeft = '';\n            var hdContent = select('.e-headercontent', hdTable);\n            hdContent.style.borderRightWidth = '0';\n            var cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.style.overflowY = '';\n            cnTable.classList.add('e-scrollShow');\n        }\n        else {\n            var hdTable = this.gridObj.getHeaderContent();\n            if (!this.parent.enableRtl) {\n                hdTable.style.paddingRight = '16px';\n            }\n            else {\n                hdTable.style.paddingLeft = '16px';\n            }\n            var cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.classList.remove('e-scrollShow');\n        }\n        this.isRendered = true;\n        this.parent.isLayoutChange = false;\n        hideSpinner(this.parent.element);\n        this.checkEmptyDiv(this.emptyArgs);\n        this.isInteracted = this.isLoaded ? true : this.isInteracted;\n        this.isLoaded = false;\n    };\n    DetailsView.prototype.selectRecords = function (nodes) {\n        // eslint-disable-next-line\n        var gridRecords = this.gridObj.getCurrentViewRecords();\n        var sRecords = [];\n        for (var i = 0, len = gridRecords.length; i < len; i++) {\n            var node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n            if (nodes.indexOf(node) !== -1) {\n                sRecords.push(i);\n            }\n        }\n        if (sRecords.length !== 0) {\n            this.gridObj.selectRows(sRecords);\n            this.addFocus(this.gridObj.selectedRowIndex);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.addSelection = function (data) {\n        // eslint-disable-next-line\n        var items = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        var rData = [];\n        if (this.parent.hasId) {\n            rData = new DataManager(items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            var nData = new DataManager(items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (nData.length > 0) {\n                rData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (rData.length > 0) {\n            var index = items.indexOf(rData[0]);\n            this.gridObj.selectRows([index]);\n        }\n    };\n    DetailsView.prototype.onSortColumn = function () {\n        if (this.parent.sortOrder !== 'None') {\n            this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n        else {\n            // eslint-disable-next-line\n            this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n    };\n    DetailsView.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'detailsViewSettings':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.checkNameWidth();\n                        var columns = this.getColumns();\n                        this.gridObj.columns = columns;\n                        this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n                        this.gridObj.dataBind();\n                        this.gridObj.refreshColumns();\n                    }\n                    break;\n                case 'selectedItems':\n                    this.interaction = false;\n                    if (this.parent.selectedItems.length !== 0) {\n                        if (!this.parent.allowMultiSelection) {\n                            var slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n                            this.parent.setProperties({ selectedItems: slItems }, true);\n                        }\n                        this.selectRecords(this.parent.selectedItems);\n                        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    }\n                    else if (!isNOU(this.gridObj)) {\n                        this.gridObj.clearSelection();\n                    }\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, events.pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.currentSelectedItem = this.parent.selectedItems;\n                        this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n                        this.isSelectionUpdate = true;\n                        this.renderCheckBox();\n                    }\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'Details');\n                    break;\n                case 'width':\n                    this.onDetailsResize();\n            }\n        }\n    };\n    DetailsView.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n            this.parent.searchedItems = [];\n            if (!this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n            else {\n                this.updatePathColumn();\n            }\n        }\n        removeBlur(this.parent);\n        if (this.parent.view === 'Details') {\n            /* istanbul ignore next */\n            this.isInteracted = false;\n            showSpinner(this.parent.element);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        }\n        this.emptyArgs = args;\n    };\n    DetailsView.prototype.updatePathColumn = function () {\n        var len = this.gridObj.columns.length;\n        var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n            var pathColumn = {\n                field: 'filterPath', headerText: getLocaleText(this.parent, 'Path'), minWidth: 180, width: 'auto'\n            };\n            this.gridObj.columns.push(pathColumn);\n            this.adjustWidth(this.gridObj.columns, 'filterPath');\n            this.adjustWidth(this.gridObj.columns, 'name');\n            this.isColumnRefresh = true;\n            this.gridObj.refreshColumns();\n        }\n    };\n    DetailsView.prototype.checkEmptyDiv = function (args) {\n        // eslint-disable-next-line\n        var items = getSortedData(this.parent, args.files);\n        if (items.length === 0 && !isNOU(this.element.querySelector('.' + CLS.GRID_VIEW))) {\n            createEmptyElement(this.parent, this.element, args);\n        }\n        else if (items.length !== 0 && this.element.querySelector('.' + CLS.EMPTY)) {\n            if (this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY)) {\n                var emptyDiv = this.element.querySelector('.' + CLS.GRID_VIEW).querySelector('.' + CLS.EMPTY);\n                this.element.querySelector('.' + CLS.GRID_VIEW).removeChild(emptyDiv);\n            }\n            else {\n                this.element.removeChild(this.element.querySelector('.' + CLS.EMPTY));\n            }\n        }\n    };\n    DetailsView.prototype.onOpenInit = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            // eslint-disable-next-line\n            var data = this.gridObj.getSelectedRecords()[0];\n            this.openContent(data);\n        }\n    };\n    DetailsView.prototype.DblClickEvents = function (args) {\n        this.gridObj.selectRows([args.rowIndex]);\n        // eslint-disable-next-line\n        var data;\n        if (args.rowData) {\n            data = JSON.parse(JSON.stringify(args.rowData));\n            this.openContent(data);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.openContent = function (data) {\n        var _this = this;\n        if (!hasReadAccess(data)) {\n            createDeniedDialog(this.parent, data, events.permissionRead);\n            return;\n        }\n        var eventArgs = { cancel: false, fileDetails: data, module: 'DetailsView' };\n        this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n            if (!fileOpenArgs.cancel) {\n                var name_2 = getValue('name', data);\n                if (getValue('isFile', data)) {\n                    var icon = fileType(data);\n                    if (icon === CLS.ICON_IMAGE) {\n                        var imgUrl = getImageUrl(_this.parent, data);\n                        createImageDialog(_this.parent, name_2, imgUrl);\n                    }\n                }\n                else {\n                    var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n                    if (val === '' && !_this.parent.isFiltered) {\n                        var id = getValue('id', data);\n                        var newPath = _this.parent.path + (isNOU(id) ? name_2 : id) + '/';\n                        _this.parent.setProperties({ path: newPath }, true);\n                        _this.parent.pathNames.push(name_2);\n                        _this.parent.pathId.push(getValue('_fm_id', data));\n                        _this.parent.itemData = [data];\n                        openAction(_this.parent);\n                    }\n                    else {\n                        openSearchFolder(_this.parent, data);\n                    }\n                    _this.parent.isFiltered = false;\n                }\n                _this.element.focus();\n            }\n        });\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onLayoutChange = function (args) {\n        if (this.parent.view === 'Details') {\n            if (!this.gridObj) {\n                this.render(args);\n            }\n            else {\n                this.isLoaded = true;\n            }\n            if (this.parent.isFiltered) {\n                this.updatePathColumn();\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n            this.parent.notify(events.hideLayout, {});\n            this.gridObj.element.classList.remove(CLS.DISPLAY_NONE);\n            this.isInteracted = false;\n            this.gridObj.clearSelection();\n            if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n                this.onSearchFiles(args);\n            }\n            this.adjustHeight();\n            if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n                }\n            }\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSearchFiles = function (args) {\n        if (this.parent.view === 'Details') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(events.selectionChanged, {});\n            if (!this.parent.isLayoutChange) {\n                this.parent.layoutSelectedItems = [];\n            }\n            this.updatePathColumn();\n            this.parent.searchedItems = args.files;\n            this.onPathChanged(args);\n        }\n    };\n    DetailsView.prototype.removePathColumn = function (isRefresh) {\n        var len = this.gridObj.columns.length;\n        var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && (columnData[len - 1].field === 'filterPath')) {\n            /* istanbul ignore next */\n            if (this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn('name', this.parent.sortOrder);\n                }\n                else {\n                    // eslint-disable-next-line\n                    this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n                }\n                this.parent.notify(events.sortByChange, {});\n            }\n            this.gridObj.columns.pop();\n            if (!isRefresh) {\n                this.isColumnRefresh = true;\n                this.gridObj.refreshColumns();\n            }\n        }\n    };\n    DetailsView.prototype.onFinalizeEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        if (!this.gridObj) {\n            this.render(args);\n        }\n        else {\n            this.onPathChanged(args);\n        }\n    };\n    DetailsView.prototype.onCreateEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n    };\n    DetailsView.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    };\n    DetailsView.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n        }\n    };\n    DetailsView.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDeleteEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n    };\n    DetailsView.prototype.onRefreshEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.isInteracted = false;\n        this.removePathColumn(false);\n        this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        this.emptyArgs = args;\n    };\n    DetailsView.prototype.onHideLayout = function () {\n        if (this.parent.view !== 'Details' && this.gridObj) {\n            this.gridObj.element.classList.add(CLS.DISPLAY_NONE);\n        }\n    };\n    DetailsView.prototype.onSelectAllInit = function () {\n        if (this.parent.view === 'Details') {\n            this.isInteracted = false;\n            if (this.parent.allowMultiSelection) {\n                this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n            }\n            else {\n                this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n            }\n            this.isInteracted = true;\n            this.interaction = true;\n        }\n    };\n    DetailsView.prototype.onClearAllInit = function () {\n        if (this.parent.view === 'Details') {\n            this.removeSelection();\n            this.interaction = true;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelectionChanged = function () {\n        removeClass([this.element], CLS.HEADER_CHECK);\n        if (this.parent.selectedItems.length > 0) {\n            addClass([this.element], CLS.HEADER_CHECK);\n        }\n    };\n    DetailsView.prototype.onLayoutRefresh = function () {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.adjustHeight();\n    };\n    DetailsView.prototype.onBeforeRequest = function () {\n        this.isRendered = false;\n    };\n    DetailsView.prototype.onAfterRequest = function () {\n        this.isRendered = true;\n    };\n    DetailsView.prototype.onUpdateSelectionData = function () {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n    };\n    DetailsView.prototype.addEventListener = function () {\n        this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.layoutChange, this.onLayoutChange, this);\n        this.parent.on(events.pathChanged, this.onPathChanged, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.detailsInit, this.onDetailsInit, this);\n        this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(events.search, this.onSearchFiles, this);\n        this.parent.on(events.methodCall, this.onMethodCall, this);\n        this.parent.on(events.actionFailure, this.onActionFailure, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.deleteInit, this.onDeleteInit, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.selectedData, this.onSelectedData, this);\n        this.parent.on(events.renameInit, this.onRenameInit, this);\n        this.parent.on(events.renameEnd, this.onPathChanged, this);\n        this.parent.on(events.openInit, this.onOpenInit, this);\n        this.parent.on(events.sortColumn, this.onSortColumn, this);\n        this.parent.on(events.openEnd, this.onPathChanged, this);\n        this.parent.on(events.filterEnd, this.onPathChanged, this);\n        this.parent.on(events.pasteInit, this.onPasteInit, this);\n        this.parent.on(events.hideLayout, this.onHideLayout, this);\n        this.parent.on(events.selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(events.clearAllInit, this.onClearAllInit, this);\n        this.parent.on(events.pathColumn, this.onPathColumn, this);\n        this.parent.on(events.selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(events.beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(events.afterRequest, this.onAfterRequest, this);\n        this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n        this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(events.menuItemData, this.onMenuItemData, this);\n        this.parent.on(events.resizeEnd, this.onDetailsResizeHandler, this);\n        this.parent.on(events.splitterResize, this.onDetailsResize, this);\n        this.parent.on(events.layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(events.dropPath, this.onDropPath, this);\n        this.parent.on(events.updateSelectionData, this.onUpdateSelectionData, this);\n    };\n    DetailsView.prototype.removeEventListener = function () {\n        this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.layoutChange, this.onLayoutChange);\n        this.parent.off(events.pathChanged, this.onPathChanged);\n        this.parent.off(events.pasteInit, this.onPasteInit);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.refreshEnd, this.onRefreshEnd);\n        this.parent.off(events.search, this.onSearchFiles);\n        this.parent.off(events.methodCall, this.onMethodCall);\n        this.parent.off(events.actionFailure, this.onActionFailure);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.renameInit, this.onRenameInit);\n        this.parent.off(events.renameEnd, this.onPathChanged);\n        this.parent.off(events.filterEnd, this.onPathChanged);\n        this.parent.off(events.openInit, this.onOpenInit);\n        this.parent.off(events.sortColumn, this.onSortColumn);\n        this.parent.off(events.openEnd, this.onPathChanged);\n        this.parent.off(events.hideLayout, this.onHideLayout);\n        this.parent.off(events.selectAllInit, this.onSelectAllInit);\n        this.parent.off(events.clearAllInit, this.onClearAllInit);\n        this.parent.off(events.deleteInit, this.onDeleteInit);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.pathColumn, this.onPathColumn);\n        this.parent.off(events.selectionChanged, this.onSelectionChanged);\n        this.parent.off(events.beforeRequest, this.onBeforeRequest);\n        this.parent.off(events.afterRequest, this.onAfterRequest);\n        this.parent.off(events.pasteEnd, this.onpasteEnd);\n        this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.selectedData, this.onSelectedData);\n        this.parent.off(events.detailsInit, this.onDetailsInit);\n        this.parent.off(events.menuItemData, this.onMenuItemData);\n        this.parent.off(events.resizeEnd, this.onDetailsResizeHandler);\n        this.parent.off(events.splitterResize, this.onDetailsResize);\n        this.parent.off(events.layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(events.dropPath, this.onDropPath);\n        this.parent.off(events.updateSelectionData, this.onUpdateSelectionData);\n    };\n    DetailsView.prototype.onActionFailure = function () { this.interaction = true; };\n    // eslint-disable-next-line\n    DetailsView.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n        }\n    };\n    DetailsView.prototype.onPasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath !== '') ? this.gridObj.getSelectedRecords() :\n                [getPathObject(this.parent)];\n        }\n    };\n    DetailsView.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.parent.itemData = this.gridObj.getSelectedRecords();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    };\n    DetailsView.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        var dragLi = dragTarget.closest('tr.e-row');\n        if (!dragLi) {\n            return null;\n        }\n        var name = dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n        if (dragLi && !dragLi.querySelector('.e-active')) {\n            this.selectRecords([name]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        // eslint-disable-next-line\n        this.parent.dragData = this.gridObj.getSelectedRecords();\n        var dragRow;\n        if (this.parent.dragData.length === 0 && dragLi) {\n            dragRow = this.gridObj.getRowInfo(dragLi);\n        }\n        if (dragRow) {\n            this.parent.dragData.push(dragRow.rowData);\n        }\n        this.parent.dragPath = this.parent.path;\n        this.parent.activeElements = this.gridObj.getSelectedRows();\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDetailsResize = function () {\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n            var gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n            var gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n            var gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n            var gridHeaderColNames = this.gridObj.getColumns();\n            for (var i = 0; i < gridHeaderColNames.length; i++) {\n                if ((!this.isNameWidth && gridHeaderColNames[i].field === 'name') || gridHeaderColNames[i].field === 'filterPath') {\n                    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                        if (this.element.clientWidth <= 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                        }\n                        else if (this.element.clientWidth > 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                    else {\n                        if (this.element.clientWidth <= 680) {\n                            if (gridHeaderColNames[i].field === 'name') {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                            }\n                            else {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n                            }\n                        }\n                        else if (this.element.clientWidth > 680) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DetailsView.prototype.onDetailsResizeHandler = function () {\n        this.onDetailsResize();\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNOU(this.gridObj)) {\n            this.adjustHeight();\n        }\n    };\n    DetailsView.prototype.createDragObj = function () {\n        var _this = this;\n        if (!this.parent.isMobile && this.gridObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.gridObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    distance: 5,\n                    enableTailMode: true,\n                    dragArea: this.parent.element,\n                    dragTarget: '.' + CLS.ROW,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableAutoScroll: true,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    DetailsView.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            /* istanbul ignore next */\n            // eslint-disable-next-line\n            var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (!args.target.closest('tr')) {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n            else {\n                // eslint-disable-next-line\n                var info = null;\n                // eslint-disable-next-line\n                info = this.gridObj.getRowInfo(args.target).rowData;\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n        }\n    };\n    DetailsView.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.gridObj.getSelectedRecords();\n            this.parent.activeElements = this.gridObj.getSelectedRows();\n        }\n    };\n    DetailsView.prototype.onpasteEnd = function (args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    };\n    DetailsView.prototype.onDropPath = function (args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns modules name.\n     * @private\n     */\n    DetailsView.prototype.getModuleName = function () {\n        return 'detailsview';\n    };\n    DetailsView.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.gridObj) {\n            this.unWireEvents();\n            this.gridObj.destroy();\n        }\n    };\n    DetailsView.prototype.updateType = function (item) {\n        var folder = select('.' + CLS.FOLDER, item);\n        this.parent.isFile = isNOU(folder) ? true : false;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelection = function (action, args) {\n        var eventArgs = {\n            action: action, fileDetails: args.data, isInteracted: this.interaction, cancel: false, target: args.target\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        args.cancel = eventArgs.cancel;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelected = function (args) {\n        this.parent.activeModule = 'detailsview';\n        if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n            this.selectedRecords();\n        }\n        this.parent.notify(events.selectionChanged, {});\n        if (this.gridObj.getSelectedRowIndexes().length === 1) {\n            this.firstItemIndex = this.gridObj.selectedRowIndex;\n        }\n        this.gridObj.element.setAttribute('tabindex', '-1');\n        this.triggerSelect('select', args);\n        var item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n        this.updateType(item);\n        if (!isNOU(item) && !isNOU(item.querySelector('.e-checkselect'))) {\n            if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n                var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n                var lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n                lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n            }\n            item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n        }\n        if (!isNOU(this.gridObj) && !isNOU(this.gridObj.element.querySelector('.e-checkselectall'))) {\n            this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n        }\n        var rows = this.gridObj.getSelectedRowIndexes();\n        if (!this.parent.allowMultiSelection) {\n            for (var i = 0; i < rows.length; i++) {\n                if (rows[i] === this.gridObj.selectedRowIndex) {\n                    this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n                }\n                else {\n                    this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n                }\n            }\n        }\n        var len = rows.length;\n        if (len > 0) {\n            // eslint-disable-next-line\n            var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n            this.parent.currentItemText = getValue('name', data);\n        }\n        var indexes = getValue('rowIndexes', args);\n        var multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n        if (this.parent.isDevice && isNOU(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n            this.parent.isFile = getValue('isFile', args.data);\n            if (!this.parent.isFile) {\n                this.openContent(args.data);\n            }\n        }\n        this.parent.visitedItem = args.row;\n        if (this.parent.allowMultiSelection && !isNOU(item) && !isNOU(item.querySelector('.e-checkselect'))) {\n            var checkItem = item.querySelector('.e-checkselect');\n            checkItem.focus();\n        }\n        this.addFocus(this.gridObj.selectedRowIndex);\n        if (!this.parent.isLayoutChange) {\n            this.isInteracted = true;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onPathColumn = function () {\n        if (this.parent.view === 'Details' && !isNOU(this.gridObj)) {\n            if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n        }\n    };\n    DetailsView.prototype.selectedRecords = function () {\n        this.parent.setProperties({ selectedItems: [] }, true);\n        // eslint-disable-next-line\n        var selectedRecords = this.gridSelectNodes();\n        var selectSize = 0;\n        while (selectSize < selectedRecords.length) {\n            var record = selectedRecords[selectSize];\n            var name_3 = getItemName(this.parent, record);\n            this.parent.selectedItems.push(name_3);\n            selectSize++;\n        }\n        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n    };\n    DetailsView.prototype.onDeSelection = function (args) {\n        /* istanbul ignore next */\n        if (!this.parent.allowMultiSelection && isNOU(args.data)) {\n            this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n        }\n        else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n            var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n            this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n        }\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.gridObj.element.setAttribute('tabindex', '0');\n        }\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            return;\n        }\n        this.selectedRecords();\n        if (this.parent.selectedItems.length === 0) {\n            setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n            removeClass([this.parent.element], CLS.MULTI_SELECT);\n        }\n        this.parent.notify(events.selectionChanged, {});\n        this.triggerSelect('unselect', args);\n        this.parent.visitedItem = null;\n    };\n    DetailsView.prototype.triggerSelect = function (action, args) {\n        var eventArgs = { action: action, fileDetails: args.data, isInteracted: this.interaction };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.interaction = true;\n    };\n    DetailsView.prototype.wireEvents = function () {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n            keyAction: this.keyupHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n    };\n    DetailsView.prototype.unWireEvents = function () {\n        this.wireClickEvent(false);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n        EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n    };\n    DetailsView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            var ele = this.gridObj.getContent();\n            this.clickObj = new Touch(ele, {\n                tap: function (eve) {\n                    if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n                        proxy_1.onClearAllInit();\n                    }\n                },\n                tapHold: function (e) {\n                    if (proxy_1.parent.isDevice) {\n                        e.originalEvent.preventDefault();\n                        if (proxy_1.parent.allowMultiSelection) {\n                            setValue('enableSelectMultiTouch', proxy_1.parent.allowMultiSelection, proxy_1.gridObj.selectionModule);\n                            addClass([proxy_1.parent.element], CLS.MULTI_SELECT);\n                        }\n                        var target = e.originalEvent.target;\n                        if (target) {\n                            var row = closest(target, '.' + CLS.ROW);\n                            var index = proxy_1.gridObj.getRows().indexOf(row);\n                            proxy_1.gridObj.selectRow(index);\n                        }\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.removeSelection = function () {\n        removeClass([this.parent.element], CLS.MULTI_SELECT);\n        this.gridObj.clearSelection();\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.parent.notify(events.selectionChanged, {});\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.startIndex = null;\n        }\n        this.isInteracted = true;\n    };\n    DetailsView.prototype.removeFocus = function () {\n        this.addFocus(null);\n    };\n    DetailsView.prototype.getFocusedItemIndex = function () {\n        return (!isNOU(this.getFocusedItem())) ?\n            parseInt(this.getFocusedItem().getAttribute('aria-rowindex'), 10) : null;\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    DetailsView.prototype.keydownHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'moveDown':\n            case 'moveUp':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    DetailsView.prototype.keyupHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        e.preventDefault();\n        var action = e.action;\n        // eslint-disable-next-line\n        var gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n        var gridLength = gridItems.length;\n        var focItem = this.getFocusedItem();\n        var focIndex = this.getFocusedItemIndex();\n        var selIndex = this.gridObj.selectedRowIndex;\n        var selRowIndeces = this.gridObj.getSelectedRowIndexes();\n        // eslint-disable-next-line\n        var rowData;\n        var firstItem;\n        var lastItem;\n        switch (action) {\n            case 'altEnter':\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'enter':\n                if (this.gridObj.selectedRowIndex === -1) {\n                    break;\n                }\n                rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n                if (rowData) {\n                    // eslint-disable-next-line\n                    var data = JSON.parse(JSON.stringify(rowData));\n                    this.openContent(data);\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlA':\n                if (!isNOU(gridItems[0]) && this.parent.allowMultiSelection) {\n                    var cnTable = this.gridObj.getContent().querySelector('.e-content');\n                    var crtSrlPos = cnTable.scrollTop;\n                    var crtFocusIndex = this.gridObj.selectedRowIndex;\n                    this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                    cnTable.scrollTop = crtSrlPos;\n                    if (crtFocusIndex !== -1) {\n                        this.addFocus(crtFocusIndex);\n                    }\n                }\n                break;\n            case 'ctrlHome':\n            case 'tab':\n                if (!isNOU(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n                        this.gridObj.selectRow(0);\n                    }\n                    else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n                        return;\n                    }\n                    else {\n                        this.addFocus(0);\n                    }\n                }\n                break;\n            case 'ctrlEnd':\n                if (!isNOU(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection) {\n                        this.gridObj.selectRow(gridLength - 1);\n                    }\n                    else {\n                        this.addFocus(gridLength - 1);\n                    }\n                }\n                break;\n            case 'shiftHome':\n            case 'shiftEnd':\n            case 'csHome':\n            case 'csEnd':\n                if (!this.parent.allowMultiSelection) {\n                    this.gridObj.selectRow((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : gridItems.length - 1);\n                }\n                else {\n                    if (!isNOU(gridItems[0])) {\n                        if (!isNOU(selIndex) && selIndex !== -1) {\n                            this.checkRowsKey(gridItems, selIndex, null, e);\n                        }\n                        else {\n                            if (e.action === 'csHome' || e.action === 'shiftHome') {\n                                this.gridObj.selectRow(0);\n                            }\n                            else {\n                                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                            }\n                        }\n                    }\n                }\n                break;\n            case 'space':\n            case 'csSpace':\n            case 'shiftSpace':\n            case 'ctrlSpace':\n                this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n                break;\n            case 'csUp':\n            case 'csDown':\n            case 'shiftUp':\n            case 'shiftDown':\n                this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n                break;\n            case 'ctrlUp':\n            case 'ctrlDown':\n                if (!this.parent.allowMultiSelection) {\n                    this.moveFunction(gridItems, e, selIndex);\n                }\n                else {\n                    this.ctrlMoveFunction(gridItems, e, selIndex);\n                }\n                break;\n            case 'home':\n                firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n                this.parent.setProperties({ selectedItems: firstItem }, true);\n                this.selectRecords(firstItem);\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                this.moveFunction(gridItems, e, selIndex);\n                break;\n            case 'end':\n                lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n                this.parent.setProperties({ selectedItems: lastItem }, true);\n                this.selectRecords(lastItem);\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.gridSelectNodes = function () {\n        return this.gridObj.getSelectedRecords();\n    };\n    DetailsView.prototype.doDownload = function () {\n        if (this.parent.selectedItems.length !== 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            var items = this.parent.itemData;\n            for (var i = 0; i < items.length; i++) {\n                if (!hasDownloadAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], events.permissionDownload);\n                    return;\n                }\n            }\n            Download(this.parent, this.parent.path, this.parent.selectedItems);\n        }\n    };\n    DetailsView.prototype.performDelete = function () {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            var items = this.parent.itemData;\n            for (var i = 0; i < items.length; i++) {\n                if (!hasEditAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], events.permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    };\n    DetailsView.prototype.performRename = function () {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    };\n    DetailsView.prototype.updateRenameData = function () {\n        // eslint-disable-next-line\n        var data = this.gridSelectNodes()[0];\n        updateRenamingData(this.parent, data);\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.shiftMoveMethod = function (gridItems, selIndex, focIndex, selRowIndeces, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.moveFunction(gridItems, e, selIndex);\n        }\n        else {\n            if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n                this.ctrlMoveFunction(gridItems, e, selIndex);\n            }\n            else if (selIndex !== -1 && focIndex !== selIndex &&\n                !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n                this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n            }\n            else {\n                this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.moveFunction = function (selectedItems, e, rowIndex) {\n        if (!isNOU(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n            if (e.action === 'moveDown') {\n                this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n            }\n            else {\n                this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n            }\n        }\n        else if (!isNOU(rowIndex) && rowIndex !== -1) {\n            if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectRow(rowIndex + ((rowIndex !== selectedItems.length - 1) ? 1 : 0));\n            }\n            else {\n                this.gridObj.selectRow(rowIndex - ((rowIndex !== 0) ? 1 : 0));\n            }\n        }\n        else {\n            if (!isNOU(selectedItems[0])) {\n                this.gridObj.selectRow(0);\n            }\n        }\n    };\n    DetailsView.prototype.spaceSelection = function (selRowIndeces, focIndex, selIndex, e) {\n        if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n            if (focIndex < selIndex) {\n                this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n            }\n        }\n        else if (!isNOU(this.getFocusedItem()) && focIndex !== selIndex) {\n            selRowIndeces.push(this.getFocusedItemIndex());\n            this.gridObj.selectRows(selRowIndeces);\n        }\n        else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n            var lItem = selIndex;\n            selRowIndeces.pop();\n            this.gridObj.selectRows(selRowIndeces);\n            this.addFocus(lItem);\n        }\n        else if (e.action === 'shiftSpace') {\n            this.gridObj.selectRow(selIndex);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.ctrlMoveFunction = function (items, e, rowIndex) {\n        var nextItem;\n        if (!isNOU(this.getFocusedItem())) {\n            var nextIndex = this.getFocusedItemIndex();\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                nextIndex + ((nextIndex < items.length - 1) ? 1 : 0) : nextIndex - ((nextIndex < 1) ? 0 : 1);\n        }\n        else if (!isNOU(rowIndex) && rowIndex !== -1) {\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                rowIndex + ((rowIndex < items.length) ? 1 : 0) : rowIndex - ((rowIndex < 1) ? 0 : 1);\n        }\n        else {\n            if (!isNOU(items[0])) {\n                nextItem = 0;\n            }\n        }\n        this.addFocus(nextItem);\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.checkRowsKey = function (items, indexValue, focIndex, e) {\n        if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n            if (e.action !== 'csHome' && e.action !== 'csEnd') {\n                if (isNOU(this.startIndex) && this.firstItemIndex !== indexValue) {\n                    this.firstItemIndex = indexValue;\n                }\n                if (e.action === 'shiftEnd') {\n                    this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n                }\n                this.startIndex = indexValue;\n            }\n            else {\n                if (e.action === 'csEnd') {\n                    this.gridObj.\n                        selectRows(this.InnerItems(isNOU(indexValue) ? 0 : indexValue, isNOU(focIndex) ? items.length - 1 : focIndex, e));\n                }\n                else {\n                    if (isNOU(indexValue)) {\n                        this.gridObj.selectRow(0);\n                    }\n                    else {\n                        this.gridObj.selectRows(this.InnerItems(isNOU(focIndex) ? 0 : focIndex, indexValue, e));\n                    }\n                }\n            }\n        }\n        else {\n            this.gridObj.selectionModule.selectRow(((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : items.length - 1));\n        }\n    };\n    DetailsView.prototype.InnerItems = function (fItem, lItem, e) {\n        var itemArr = this.gridObj.getSelectedRowIndexes();\n        if (e.action === 'csEnd') {\n            for (var i = fItem + 1; i <= lItem; i++) {\n                itemArr.push(i);\n            }\n        }\n        else {\n            for (var i = lItem - 1; fItem <= i; i--) {\n                itemArr.push(i);\n            }\n        }\n        return itemArr;\n    };\n    DetailsView.prototype.shiftSelectFocusItem = function (selIndex, fIndex, selRowIndexes, e) {\n        var lItem = fIndex + ((e.action === 'shiftDown' || e.action === 'csDown') ? 1 : -1);\n        var fItem = isNOU(this.startIndex) ? selIndex : selRowIndexes[0];\n        if (fItem === lItem) {\n            this.gridObj.selectRow(fItem);\n        }\n        else {\n            if (fItem < lItem) {\n                if (e.action === 'shiftDown' || e.action === 'csDown') {\n                    this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n                }\n            }\n            else if (e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n            }\n        }\n        this.startIndex = this.gridObj.selectedRowIndex;\n    };\n    DetailsView.prototype.addFocus = function (item) {\n        var fItem = this.getFocusedItem();\n        var itemElement = this.gridObj.getRowByIndex(item);\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [CLS.FOCUS, CLS.FOCUSED]);\n        }\n        if (!isNOU(itemElement)) {\n            this.gridObj.element.setAttribute('tabindex', '-1');\n            itemElement.setAttribute('tabindex', '0');\n            itemElement.focus();\n            addClass([itemElement], [CLS.FOCUS, CLS.FOCUSED]);\n        }\n    };\n    DetailsView.prototype.getFocusedItem = function () {\n        return select('.' + CLS.FOCUSED, this.element);\n    };\n    DetailsView.prototype.isSelected = function (selRowIndexes, focIndex) {\n        var check = false;\n        for (var i = 0; i <= selRowIndexes.length - 1; i++) {\n            if (selRowIndexes[i] === focIndex) {\n                check = true;\n                break;\n            }\n        }\n        return check;\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.shiftSelectedItem = function (selIndex, selRowIndexes, gridItems, e) {\n        if (selIndex === -1) {\n            this.gridObj.selectRow(0);\n        }\n        else {\n            if (isNOU(this.startIndex) && e.shiftKey) {\n                this.startIndex = this.gridObj.selectedRowIndex;\n                this.gridObj.selectRows([selIndex, (e.action === 'shiftDown' || e.action === 'csDown') ?\n                        (selIndex + ((selIndex !== gridItems.length - 1) ? 1 : 0)) : (selIndex - ((selIndex !== 0) ? 1 : 0))]);\n            }\n            else {\n                if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n                    if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n                        if (selIndex !== gridItems.length - 1) {\n                            selRowIndexes.push(selIndex + 1);\n                        }\n                    }\n                    else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n                        if (selIndex !== 0) {\n                            selRowIndexes.push(selIndex - 1);\n                        }\n                    }\n                    else {\n                        selRowIndexes.pop();\n                    }\n                    this.gridObj.selectRows(selRowIndexes);\n                }\n                else {\n                    if (e.action === 'csDown') {\n                        if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n                            selRowIndexes.push((this.getFocusedItemIndex() + 1));\n                            this.gridObj.selectRows(selRowIndexes);\n                        }\n                        else {\n                            this.addFocus(this.getFocusedItemIndex() + 1);\n                        }\n                    }\n                    else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n                        selRowIndexes.push((this.getFocusedItemIndex() - 1));\n                        this.gridObj.selectRows(selRowIndexes);\n                    }\n                    else {\n                        this.addFocus(this.getFocusedItemIndex() - 1);\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.onMethodCall = function (e) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        var action = getValue('action', e);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', e));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', e));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', e));\n                break;\n            case 'createFolder':\n                this.interaction = false;\n                break;\n            case 'renameFile':\n                this.interaction = false;\n                this.renameFile(getValue('id', e), getValue('newName', e));\n                break;\n            case 'selectAll':\n                this.interaction = false;\n                this.onSelectAllInit();\n                break;\n            case 'clearSelection':\n                this.interaction = false;\n                this.onClearAllInit();\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.getRecords = function (nodes) {\n        // eslint-disable-next-line\n        var gridRecords = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        var records = [];\n        var hasFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        var filter = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !hasFilter) {\n            for (var i = 0, len = gridRecords.length; i < len; i++) {\n                if (nodes.indexOf(getValue(filter, gridRecords[i])) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = gridRecords.length; i < len; i++) {\n                var name_4 = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n                if (nodes.indexOf(name_4) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        return records;\n    };\n    DetailsView.prototype.deleteFiles = function (ids) {\n        this.parent.activeModule = 'detailsview';\n        if (isNOU(ids)) {\n            this.performDelete();\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords(ids);\n        if (records.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < records.length; i++) {\n            data[i] = records[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    };\n    DetailsView.prototype.downloadFiles = function (ids) {\n        if (isNOU(ids)) {\n            this.doDownload();\n            return;\n        }\n        // eslint-disable-next-line\n        var dRecords = this.getRecords(ids);\n        if (dRecords.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < dRecords.length; i++) {\n            data[i] = dRecords[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    };\n    DetailsView.prototype.openFile = function (id) {\n        if (isNOU(id)) {\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords([id]);\n        if (records.length > 0) {\n            this.openContent(records[0]);\n        }\n    };\n    DetailsView.prototype.renameFile = function (id, name) {\n        this.parent.activeModule = 'detailsview';\n        if (isNOU(id)) {\n            this.performRename();\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords([id]);\n        if (records.length > 0) {\n            updateRenamingData(this.parent, records[0]);\n            if (!isNOU(name)) {\n                if (hasEditAccess(this.parent.itemData[0])) {\n                    rename(this.parent, this.parent.path, name);\n                }\n                else {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n                }\n            }\n            else {\n                doRename(this.parent);\n            }\n        }\n    };\n    return DetailsView;\n}());\nexport { DetailsView };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}