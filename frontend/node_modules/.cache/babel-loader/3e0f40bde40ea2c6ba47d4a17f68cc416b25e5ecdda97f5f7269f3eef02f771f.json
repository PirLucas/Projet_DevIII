{"ast":null,"code":"import * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n *\n * @hidden\n\n */\nvar Indents = /** @class */function () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {EditorManager} parent - specifies the parent element\n   * @hidden\n    */\n  function Indents(parent) {\n    this.indentValue = 20;\n    this.parent = parent;\n    this.addEventListener();\n  }\n  Indents.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n    this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n  };\n  Indents.prototype.onKeyDown = function (e) {\n    switch (e.event.action) {\n      case 'indents':\n        this.applyIndents({\n          subCommand: 'Indent',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n      case 'outdents':\n        this.applyIndents({\n          subCommand: 'Outdent',\n          callBack: e.callBack\n        });\n        e.event.preventDefault();\n        break;\n    }\n  };\n  Indents.prototype.applyIndents = function (e) {\n    var editEle = this.parent.editableElement;\n    var isRtl = editEle.classList.contains('e-rtl');\n    var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n    var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n    this.parent.domNode.setMarker(save);\n    var indentsNodes = this.parent.domNode.blockNodes();\n    var parentNodes = indentsNodes.slice();\n    var listsNodes = [];\n    for (var i = 0; i < parentNodes.length; i++) {\n      if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n        indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n        listsNodes.push(parentNodes[i].parentNode);\n      } else if (parentNodes[i].tagName === 'LI') {\n        indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n        listsNodes.push(parentNodes[i]);\n      }\n    }\n    if (listsNodes.length > 0) {\n      this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n        event: {\n          preventDefault: function () {\n            return;\n          },\n          stopPropagation: function () {\n            return;\n          },\n          shiftKey: e.subCommand === 'Indent' ? false : true,\n          which: 9,\n          action: 'indent'\n        },\n        ignoreDefault: true\n      });\n    }\n    for (var i = 0; i < indentsNodes.length; i++) {\n      var parentNode = indentsNodes[i];\n      var marginLeftOrRight = isRtl ? parentNode.style.marginRight : parentNode.style.marginLeft;\n      var indentsValue = void 0;\n      if (e.subCommand === 'Indent') {\n        /* eslint-disable */\n        indentsValue = marginLeftOrRight === '' ? this.indentValue + 'px' : parseInt(marginLeftOrRight, null) + this.indentValue + 'px';\n        isRtl ? parentNode.style.marginRight = indentsValue : parentNode.style.marginLeft = indentsValue;\n      } else {\n        indentsValue = marginLeftOrRight === '' || marginLeftOrRight === '0px' ? '' : parseInt(marginLeftOrRight, null) - this.indentValue + 'px';\n        isRtl ? parentNode.style.marginRight = indentsValue : parentNode.style.marginLeft = indentsValue;\n        /* eslint-enable */\n      }\n    }\n\n    editEle.focus();\n    if (isIDevice()) {\n      setEditFrameFocus(editEle, e.selector);\n    }\n    save = this.parent.domNode.saveMarker(save);\n    save.restore();\n    if (e.callBack) {\n      e.callBack({\n        requestType: e.subCommand,\n        editorMode: 'HTML',\n        event: e.event,\n        range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n        elements: this.parent.domNode.blockNodes()\n      });\n    }\n  };\n  return Indents;\n}();\nexport { Indents };","map":{"version":3,"names":["CONSTANT","EVENTS","isIDevice","setEditFrameFocus","Indents","parent","indentValue","addEventListener","prototype","observer","on","INDENT_TYPE","applyIndents","KEY_DOWN_HANDLER","onKeyDown","e","event","action","subCommand","callBack","preventDefault","editEle","editableElement","isRtl","classList","contains","range","nodeSelection","getRange","currentDocument","save","domNode","setMarker","indentsNodes","blockNodes","parentNodes","slice","listsNodes","i","length","tagName","parentNode","splice","indexOf","push","notify","stopPropagation","shiftKey","which","ignoreDefault","marginLeftOrRight","style","marginRight","marginLeft","indentsValue","parseInt","focus","selector","saveMarker","restore","requestType","editorMode","elements"],"sources":["D:/USPERSO IMPLEMENTATION/Projet_DevIII/frontend/node_modules/@syncfusion/ej2-richtexteditor/src/editor-manager/plugin/indents.js"],"sourcesContent":["import * as CONSTANT from './../base/constant';\nimport * as EVENTS from './../../common/constant';\nimport { isIDevice, setEditFrameFocus } from '../../common/util';\n/**\n * Indents internal component\n *\n * @hidden\n\n */\nvar Indents = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {EditorManager} parent - specifies the parent element\n     * @hidden\n\n     */\n    function Indents(parent) {\n        this.indentValue = 20;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    Indents.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.INDENT_TYPE, this.applyIndents, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    Indents.prototype.onKeyDown = function (e) {\n        switch (e.event.action) {\n            case 'indents':\n                this.applyIndents({ subCommand: 'Indent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n            case 'outdents':\n                this.applyIndents({ subCommand: 'Outdent', callBack: e.callBack });\n                e.event.preventDefault();\n                break;\n        }\n    };\n    Indents.prototype.applyIndents = function (e) {\n        var editEle = this.parent.editableElement;\n        var isRtl = editEle.classList.contains('e-rtl');\n        var range = this.parent.nodeSelection.getRange(this.parent.currentDocument);\n        var save = this.parent.nodeSelection.save(range, this.parent.currentDocument);\n        this.parent.domNode.setMarker(save);\n        var indentsNodes = this.parent.domNode.blockNodes();\n        var parentNodes = indentsNodes.slice();\n        var listsNodes = [];\n        for (var i = 0; i < parentNodes.length; i++) {\n            if (parentNodes[i].tagName !== 'LI' && 'LI' === parentNodes[i].parentNode.tagName) {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i].parentNode);\n            }\n            else if (parentNodes[i].tagName === 'LI') {\n                indentsNodes.splice(indentsNodes.indexOf(parentNodes[i]), 1);\n                listsNodes.push(parentNodes[i]);\n            }\n        }\n        if (listsNodes.length > 0) {\n            this.parent.observer.notify(EVENTS.KEY_DOWN_HANDLER, {\n                event: {\n                    preventDefault: function () {\n                        return;\n                    },\n                    stopPropagation: function () {\n                        return;\n                    },\n                    shiftKey: (e.subCommand === 'Indent' ? false : true),\n                    which: 9,\n                    action: 'indent'\n                },\n                ignoreDefault: true\n            });\n        }\n        for (var i = 0; i < indentsNodes.length; i++) {\n            var parentNode = indentsNodes[i];\n            var marginLeftOrRight = isRtl ? parentNode.style.marginRight : parentNode.style.marginLeft;\n            var indentsValue = void 0;\n            if (e.subCommand === 'Indent') {\n                /* eslint-disable */\n                indentsValue = marginLeftOrRight === '' ? this.indentValue + 'px' : parseInt(marginLeftOrRight, null) + this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n            }\n            else {\n                indentsValue = (marginLeftOrRight === '' || marginLeftOrRight === '0px') ? '' : parseInt(marginLeftOrRight, null) - this.indentValue + 'px';\n                isRtl ? (parentNode.style.marginRight = indentsValue) : (parentNode.style.marginLeft = indentsValue);\n                /* eslint-enable */\n            }\n        }\n        editEle.focus();\n        if (isIDevice()) {\n            setEditFrameFocus(editEle, e.selector);\n        }\n        save = this.parent.domNode.saveMarker(save);\n        save.restore();\n        if (e.callBack) {\n            e.callBack({\n                requestType: e.subCommand,\n                editorMode: 'HTML',\n                event: e.event,\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\n                elements: this.parent.domNode.blockNodes()\n            });\n        }\n    };\n    return Indents;\n}());\nexport { Indents };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}